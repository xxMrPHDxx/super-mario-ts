/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/AudioBoard.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.buffers=new Map}add(t,e){this.buffers.set(t,e)}play(t,e){const s=this.buffers.get(t);if(!s)return;const i=e.createBufferSource();i.connect(e.destination),i.buffer=s,i.start(0)}}},"./src/BoundingBox.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.pos=t,this.size=e,this.offset=s}overlaps(t){return this.bottom>t.top&&this.top<t.bottom&&this.left<t.right&&this.right>t.left}get bottom(){return this.pos.y+this.size.y+this.offset.y}get top(){return this.pos.y+this.offset.y}get left(){return this.pos.x+this.offset.x}get right(){return this.pos.x+this.size.x+this.offset.x}set bottom(t){this.pos.y=t-(this.size.y+this.offset.y)}set top(t){this.pos.y=t-this.offset.y}set left(t){this.pos.x=t-this.offset.x}set right(t){this.pos.x=t-(this.size.x+this.offset.x)}}},"./src/Camera.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/math.ts");class r{constructor(){this.pos=new i.Vector(0,0),this.size=new i.Vector(256,224)}}},"./src/CompositionScene.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Scene.ts");class r extends i.default{constructor(){super(...arguments),this.countdown=2}draw(t){this.comp.draw(t)}update(t){this.countdown-=t.dt,this.countdown<=0&&this.events.emit(i.default.COMPLETE)}}},"./src/Compositor.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.layers=[]}add(t){this.layers.push(t)}draw(t,e){this.layers.forEach((s=>s(t,e)))}}},"./src/Entity.ts":(t,e,s)=>{s.r(e),s.d(e,{Sides:()=>i,Trait:()=>o,default:()=>c});var i,r=s("./src/BoundingBox.ts"),n=s("./src/EventBuffer.ts"),a=s("./src/math.ts");!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(i||(i={}));class o{constructor(){this.listeners=[]}collides(t,e){}finalize(t){this.listeners=this.listeners.filter((e=>(t.events.process(e.name,e.callback),--e.count)))}listen(t,e,s=1/0){this.listeners.push({name:t,callback:e,count:s})}obstruct(t,e,s){}queue(t){this.listen(o.TASK,t,1)}update(t,e,s){}}o.TASK=Symbol("task");class c{constructor(t){this.sounds=new Set,this.events=new n.default,this.pos=new a.Vector,this.size=new a.Vector,this.offset=new a.Vector,this.vel=new a.Vector,this.lifetime=0,this.traits=new Map,this.draw=(t,e)=>{},this.audioBoard=t,this.bounds=new r.default(this.pos,this.size,this.offset)}addTrait(t,e){this.traits.set(t,e)}collides(t){this.traits.forEach((e=>{e.collides(this,t)}))}finalize(){this.events.emit(o.TASK,this),this.traits.forEach((t=>{t.finalize(this)})),this.events.clear()}getTrait(t){return this.traits.get(t)}obstruct(t,e){this.traits.forEach((s=>{s.obstruct(this,t,e)}))}playSounds(t,e){this.sounds.forEach((s=>{t.play(s,e)})),this.sounds.clear()}update(t,e){this.traits.forEach((s=>{s.update(this,t,e)})),this.playSounds(this.audioBoard,t.audioContext),this.lifetime+=t.dt}}},"./src/EntityCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t){this.entities=t}check(t){this.entities.forEach((e=>{t!==e&&t.bounds.overlaps(e.bounds)&&t.collides(e)}))}}},"./src/EventBuffer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.events=[]}clear(){this.events.length=0}emit(t,...e){const s={name:t,args:e};this.events.push(s)}process(t,e){this.events.forEach((s=>{s.name===t&&e(...s.args)}))}}},"./src/EventEmitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.listeners=new Map}listen(t,e){const s=this.listeners.get(t)||[];s.push(e),this.listeners.set(t,s)}emit(t,...e){const s=this.listeners.get(t);s&&s.forEach((t=>{t(...e)}))}}},"./src/InputRouter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.receivers=new Set}addReceiver(t){this.receivers.add(t)}dropReceiver(t){this.receivers.delete(t)}route(t){for(const e of this.receivers)t(e)}}},"./src/KeyboardState.ts":(t,e,s)=>{var i;s.r(e),s.d(e,{KeyState:()=>i,default:()=>r}),function(t){t[t.RELEASED=0]="RELEASED",t[t.PRESSED=1]="PRESSED"}(i||(i={}));class r{constructor(){this.keyStates=new Map,this.keyMap=new Map}addMapping(t,e){this.keyMap.set(t,e)}handleEvent(t){const{code:e,type:s}=t;if(!this.keyMap.has(e))return;t.preventDefault();const r="keydown"===s?i.PRESSED:i.RELEASED;this.keyStates.get(e)!==r&&(this.keyStates.set(e,r),this.keyMap.get(e)(r))}listenTo(t){["keydown","keyup"].forEach((e=>{t.addEventListener(e,(t=>{this.handleEvent(t)}))}))}}},"./src/Level.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>d});var i=s("./src/Camera.ts"),r=s("./src/EntityCollider.ts"),n=s("./src/MusicController.ts"),a=s("./src/player.ts"),o=s("./src/Scene.ts"),c=s("./src/TileCollider.ts");class d extends o.default{constructor(){super(...arguments),this.name="",this.camera=new i.default,this.music=new n.default,this.entities=new Set,this.tileCollider=new c.default,this.entityCollider=new r.default(this.entities),this.time=0}draw(t){this.comp.draw(t,this.camera)}pause(){this.music.pause()}update(t){const{dt:e}=t;this.entities.forEach((e=>{e.update(t,this)})),this.entities.forEach((t=>{this.entityCollider.check(t)})),this.entities.forEach((t=>{t.finalize()})),function(t){for(const e of(0,a.findPlayers)(t))t.camera.pos.x=Math.max(0,e.pos.x-100)}(this),this.time+=e}}d.TRIGGER=Symbol("trigger")},"./src/MusicController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.musicPlayer=null}setPlayer(t){this.musicPlayer=t}pause(){this.musicPlayer.pauseAll()}playTheme(t=1){this.musicPlayer.play("main").playbackRate=t}playHurryTheme(){const t=this.musicPlayer.play("hurry");t.loop=!1,t.onended=()=>this.playTheme(1.3)}}},"./src/MusicPlayer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.tracks=new Map}addTrack(t,e){const s=new Audio(e);s.loop=!0,this.tracks.set(t,s)}pauseAll(){for(const t of this.tracks.values())t.pause()}play(t){this.pauseAll();const e=this.tracks.get(t);return e&&e.play(),e}}},"./src/Scene.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Compositor.ts"),r=s("./src/EventEmitter.ts");class n{constructor(){this.events=new r.default,this.comp=new i.default}draw(t){this.comp.draw(t)}pause(){}update(t){}}n.COMPLETE=Symbol("scene.complete")},"./src/SceneRunner.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Scene.ts");class r{constructor(){this.sceneIndex=-1,this.scenes=[]}addScene(t){t.events.listen(i.default.COMPLETE,(()=>this.runNext())),this.scenes.push(t)}runNext(){const t=this.scenes[this.sceneIndex];t&&t.pause(),this.sceneIndex++}update(t){const e=this.scenes[this.sceneIndex];e&&(e.update(t),e.draw(t.videoContext))}}},"./src/SpriteSheet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.image=t,this.width=e,this.height=s,this.frames=new Map,this.animations=new Map}getAnimation(t){return this.animations.get(t)}defineAnim(t,e){this.animations.set(t,e)}define(t,e,s,i,r){const n=[!1,!0].map((t=>{const n=document.createElement("canvas").getContext("2d");return n.canvas.setAttribute("width",`${this.width}px`),n.canvas.setAttribute("height",`${this.height}px`),t&&(n.scale(-1,1),n.translate(-i,0)),n.drawImage(this.image,e,s,i,r,0,0,i,r),n.canvas}));this.frames.set(t,n)}defineTile(t,e,s){this.define(t,e*this.width,s*this.height,this.width,this.height)}draw(t,e,s,i,r=!1){const n=this.frames.get(t);n||console.warn(`Frame ${t} is not defined!`),e.drawImage(n[r?1:0],s,i)}drawAnim(t,e,s,i,r){const n=this.animations.get(t);if(!n)return this.drawTile(t,e,s,i);this.drawTile(n(r),e,s,i)}drawTile(t,e,s,i,r=!1){this.draw(t,e,s*this.width,i*this.height,r)}}},"./src/TileCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{TileResolver:()=>o,default:()=>c});var i=s("./src/tiles/brick.ts"),r=s("./src/tiles/ground.ts"),n=s("./src/tiles/coin.ts");const a={brick:i.brick,ground:r.ground,coin:n.coin};class o{constructor(t,e=16){this.matrix=t,this.tileSize=e}toIndex(t){return Math.floor(t/this.tileSize)}toIndexRange(t,e){const s=Math.ceil(e/this.tileSize)*this.tileSize,i=[];let r=t;do{i.push(this.toIndex(r)),r+=this.tileSize}while(r<s);return i}getByIndex(t,e){const s=this.matrix.get(t,e);return s?{tile:s,x1:t*this.tileSize,x2:(t+1)*this.tileSize,y1:e*this.tileSize,y2:(e+1)*this.tileSize,indexX:t,indexY:e}:null}searchByPosition(t,e){return this.getByIndex(this.toIndex(t),this.toIndex(e))}searchByRange(t,e,s,i){const r=[];return this.toIndexRange(t,e).forEach((t=>{this.toIndexRange(s,i).forEach((e=>{const s=this.getByIndex(t,e);s&&r.push(s)}))})),r}}class c{constructor(){this.resolvers=[]}addGrid(t){this.resolvers.push(new o(t))}checkX(t,e){if(0===t.vel.x)return;let s=t.bounds.left+(t.vel.x>0?t.size.x:0);for(const i of this.resolvers){i.searchByRange(s,s,t.bounds.top,t.bounds.bottom).forEach((s=>{this.handle(0,{entity:t,match:s,resolver:i,gameContext:e})}))}}checkY(t,e){if(0===t.vel.y)return;let s=t.bounds.top+(t.vel.y>0?t.size.y:0);for(const i of this.resolvers){i.searchByRange(t.bounds.left,t.bounds.right,s,s).forEach((s=>{this.handle(1,{entity:t,match:s,resolver:i,gameContext:e})}))}}handle(t,e){const s=a[e.match.tile.type];s&&s[t]&&s[t](e)}}},"./src/Timer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t=1/60){this.running=!1;let e=0,s=null;this.updateProxy=(i=0)=>{if(s)for(e+=(i-s)/1e3,e>1&&(e=1);e>t;)this.update(t),e-=t;s=i,this.enqueue()}}enqueue(){requestAnimationFrame(this.updateProxy)}start(){this.running||(this.running=!0,this.enqueue())}}},"./src/anim.ts":(t,e,s)=>{function i(t,e){return function(s){return t[Math.floor(s/e)%t.length]}}s.r(e),s.d(e,{createAnim:()=>i})},"./src/entities.ts":(t,e,s)=>{s.r(e),s.d(e,{loadEntities:()=>c});var i=s("./src/entities/Mario.ts"),r=s("./src/entities/Goomba.ts"),n=s("./src/entities/Koopa.ts"),a=s("./src/entities/Bullet.ts"),o=s("./src/entities/Cannon.ts");function c(t){const e={};function s(t){return s=>e[t]=s}return Promise.all([(0,i.loadMario)(t).then(s("mario")),(0,r.loadGoomba)(t).then(s("goomba")),(0,n.loadKoopa)(t).then(s("koopa")),(0,a.loadBullet)(t).then(s("bullet")),(0,o.loadCannon)(t).then(s("cannon"))]).then((()=>e))}},"./src/entities/Bullet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>u,loadBullet:()=>h});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Gravity.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/Stomper.ts"),c=s("./src/traits/Velocity.ts"),d=s("./src/entities/Mario.ts");class l extends i.Trait{constructor(){super(...arguments),this.gravity=new n.default}collides(t,e){const s=e.getTrait("stomper");t instanceof u&&!t.killable.dead&&s instanceof o.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.vel.set(100,-200)):e instanceof d.default&&e.killable.kill())}update(t,e){t instanceof u&&t.killable.dead&&this.gravity.update(t,e)}}class u extends i.default{constructor(){super(),this.addTrait("velocity",this.velocity=new c.default),this.addTrait("bullet",this.behavior=new l),this.addTrait("killable",this.killable=new a.default)}}function h(t){return(0,r.loadSpriteSheet)("bullet").then(f)}function f(t){function e(e){t.draw("bullet",e,0,0,this.vel.x<0)}return function(){const t=new u;return t.size.set(16,16),t.draw=e,t}}},"./src/entities/Cannon.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o,loadCannon:()=>c});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/player.ts"),a=s("./src/traits/Emitter.ts");class o extends i.default{constructor(t){super(t),this.addTrait("emitter",this.emitter=new a.default),this.size.set(16,14)}}function c(t){return(0,r.loadAudioBoard)("cannon",t).then((t=>function(t){function e(t,e,s){if(!(t instanceof o))return;let i;for(const e of(0,n.findPlayers)(s))if(i=e.pos.x-t.pos.x,Math.abs(e.pos.x-t.pos.x)<=30)return;const r=e.entityFactory.bullet();r.pos.copy(t.pos),r.vel.x=80*Math.sign(i),t.sounds.add("shoot"),s.entities.add(r)}return function(){const s=new o(t);return s.emitter.interval=4,s.emitter.emitters.push(e),s}}(t)))}},"./src/entities/Goomba.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>h,loadGoomba:()=>f});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Killable.ts"),a=s("./src/traits/PendulumMove.ts"),o=s("./src/traits/Physics.ts"),c=s("./src/traits/Solid.ts"),d=s("./src/traits/Stomper.ts"),l=s("./src/entities/Mario.ts");class u extends i.Trait{collides(t,e){const s=e.getTrait("stomper");t instanceof h&&!t.killable.dead&&s instanceof d.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.pendulumMove.speed=0):e instanceof l.default&&e.killable.kill())}}class h extends i.default{constructor(){super(),this.addTrait("physics",this.physics=new o.default),this.addTrait("solid",this.solid=new c.default),this.addTrait("pendulumMove",this.pendulumMove=new a.default),this.addTrait("goomba",this.behavior=new u),this.addTrait("killable",this.killable=new n.default)}}function f(t){return(0,r.loadSpriteSheet)("goomba").then(p)}function p(t){const e=t.getAnimation("walk");function s(s){var i;t.draw((i=this).killable.dead?"flat":e(i.lifetime),s,0,0)}return function(){const t=new h;return t.size.set(16,16),t.draw=s,t}}},"./src/entities/Koopa.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadKoopa:()=>p});var i,r=s("./src/Entity.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/PendulumMove.ts"),c=s("./src/traits/Physics.ts"),d=s("./src/traits/Solid.ts"),l=s("./src/traits/Stomper.ts"),u=s("./src/entities/Mario.ts");!function(t){t[t.WALKING=0]="WALKING",t[t.HIDING=1]="HIDING",t[t.PANIC=2]="PANIC"}(i||(i={}));class h extends r.Trait{constructor(){super(...arguments),this.state=i.WALKING,this.hideTime=0,this.hideDuration=5,this.panicSpeed=300,this.walkSpeed=null}collides(t,e){const s=e.getTrait("stomper");t instanceof f&&!t.killable.dead&&s instanceof l.default&&(e.vel.y>t.vel.y?this.handleStomp(t,e):e instanceof u.default&&this.handleNudge(t,e))}handleNudge(t,e){switch(this.state){case i.WALKING:e.killable.kill();break;case i.HIDING:this.panic(t,e);break;case i.PANIC:{const s=Math.sign(t.vel.x),i=Math.sign(t.pos.x-e.pos.x);0!==s&&s!==i&&e.killable.kill()}}}handleStomp(t,e){switch(this.state){case i.WALKING:this.hide(t);break;case i.HIDING:t.killable.kill(),t.vel.set(100,-200),t.solid.obstructs=!1;break;case i.PANIC:this.hide(t)}}hide(t){t.vel.x=0,t.pendulumMove.enabled=!1,this.walkSpeed||(this.walkSpeed=t.pendulumMove.speed),this.state=i.HIDING,this.hideTime=0}panic(t,e){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.panicSpeed*Math.sign(e.vel.x),this.state=i.PANIC}unhide(t){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.walkSpeed,this.state=i.WALKING}update(t,e){const{dt:s}=e;t instanceof f&&this.state===i.HIDING&&(this.hideTime+=s,this.hideTime>this.hideDuration&&this.unhide(t))}}class f extends r.default{constructor(){super(),this.addTrait("physics",this.physics=new c.default),this.addTrait("solid",this.solid=new d.default),this.addTrait("pendulumMove",this.pendulumMove=new o.default),this.addTrait("goomba",this.behavior=new h),this.addTrait("killable",this.killable=new a.default)}}function p(t){return(0,n.loadSpriteSheet)("koopa").then(y)}function y(t){const e=t.getAnimation("walk"),s=t.getAnimation("wake");function r(r){t.draw(function(t){switch(t.behavior.state){case i.HIDING:if(t.behavior.hideTime>3)return s(t.lifetime);case i.PANIC:return"hiding";default:return e(t.lifetime)}}(this),r,0,0,this.vel.x<0)}return function(){const t=new f;return t.size.set(16,16),t.offset.y=8,t.draw=r,t}}},"./src/entities/Mario.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadMario:()=>p});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Go.ts"),o=s("./src/traits/Jump.ts"),c=s("./src/traits/Killable.ts"),d=s("./src/traits/Physics.ts"),l=s("./src/traits/Player.ts"),u=s("./src/traits/Solid.ts"),h=s("./src/traits/Stomper.ts");class f extends i.default{constructor(t){super(t),this.size.set(14,16),this.addTrait("player",this.player=new l.default),this.addTrait("physics",this.physics=new d.default),this.addTrait("solid",this.solid=new u.default),this.addTrait("go",this.go=new a.default),this.addTrait("jump",this.jump=new o.default),this.addTrait("stomper",this.stomper=new h.default),this.addTrait("killable",this.killable=new c.default),this.go.drag=.001}turbo(t){this.go.drag=t?2e-4:.001}}function p(t){return Promise.all([(0,n.loadSpriteSheet)("mario"),(0,r.loadAudioBoard)("mario",t)]).then((([t,e])=>function(t,e){const s=t.getAnimation("run");function i(t){return t.jump.falling?"jump":t.go.distance>0?t.vel.x>0&&t.go.dir<0||t.vel.x<0&&t.go.dir>0?"break":s(t.go.distance):"idle"}function r(e){t.draw(i(this),e,0,0,this.go.heading<0)}return function(){const t=new f(e);return t.draw=r,t.killable.removeAfter=0,t}}(t,e)))}},"./src/input.ts":(t,e,s)=>{s.r(e),s.d(e,{setupKeyboard:()=>n});var i=s("./src/InputRouter.ts"),r=s("./src/KeyboardState.ts");function n(t){const e=new r.default,s=new i.default;return e.listenTo(t),e.addMapping("KeyP",(t=>{t?s.route((t=>t.jump.start())):s.route((t=>t.jump.cancel()))})),e.addMapping("KeyO",(t=>{s.route((e=>e.turbo(1===t)))})),e.addMapping("KeyA",(t=>{s.route((e=>e.go.dir+=t?-1:1))})),e.addMapping("KeyD",(t=>{s.route((e=>e.go.dir+=t?1:-1))})),s}},"./src/layers/background.ts":(t,e,s)=>{s.r(e),s.d(e,{createBackgroundLayer:()=>r});var i=s("./src/TileCollider.ts");function r(t,e,s){const r=new i.TileResolver(e),n=document.createElement("canvas").getContext("2d");return n.imageSmoothingEnabled=!1,n.canvas.width=272,n.canvas.height=240,function(i,a){const o=r.toIndex(a.size.x),c=r.toIndex(a.pos.x);!function(i,r){n.clearRect(0,0,n.canvas.width,n.canvas.height);for(let a=i;a<=r;a++){const r=e.grid[a];r&&r.forEach(((e,r)=>{s.drawAnim(e.name,n,a-i,r,t.time)}))}}(c,c+o),i.drawImage(n.canvas,-a.pos.x%16,-a.pos.y)}}},"./src/layers/collision.ts":(t,e,s)=>{function i(t){const e=[],s=t.tileSize,i=t.getByIndex;return t.getByIndex=function(s,r){return e.push({x:s,y:r}),i.call(t,s,r)},function(t,i){t.strokeStyle="blue",e.forEach((({x:e,y:r})=>{t.beginPath(),t.rect(e*s-i.pos.x,r*s-i.pos.y,s,s),t.stroke(),t.closePath()})),e.length=0}}function r(t){const e=t.tileCollider.resolvers.map(i),s=(r=t.entities,function(t,e){t.strokeStyle="red",r.forEach((s=>{t.beginPath(),t.rect(s.bounds.left-e.pos.x,s.bounds.top-e.pos.y,s.size.x,s.size.y),t.stroke(),t.closePath()}))});var r;return function(t,i){e.forEach((e=>e(t,i))),s(t,i)}}s.r(e),s.d(e,{createCollisionLayer:()=>r})},"./src/layers/color.ts":(t,e,s)=>{function i(t){return function(e){e.fillStyle=t,e.fillRect(0,0,e.canvas.width,e.canvas.height)}}s.r(e),s.d(e,{createColorLayer:()=>i})},"./src/layers/dashboard.ts":(t,e,s)=>{s.r(e),s.d(e,{createDashboardLayer:()=>n});var i=s("./src/player.ts"),r=s("./src/traits/LevelTimer.ts");function n(t,e){const s=t.size,n=2*t.size,a=function(t){for(const e of t.entities){const t=e.getTrait("levelTimer");if(t&&t instanceof r.default)return t}}(e);return function(r){const o=function(t){for(const e of(0,i.findPlayers)(t))return e.getTrait("player")}(e);t.draw(o.name,r,16,s),t.draw(o.score.toString().padStart(6,"0"),r,16,n),t.draw(`@x${o.coins.toString().padStart(2,"0")}`,r,96,n),t.draw("WORLD",r,152,s),t.draw(e.name,r,160,n),t.draw("TIME",r,208,s),t.draw(Math.max(0,a.currentTime).toFixed(0).padStart(3,"0"),r,216,n)}}},"./src/layers/player-progress.ts":(t,e,s)=>{s.r(e),s.d(e,{createPlayerProgressLayer:()=>n});var i=s("./src/entities/Mario.ts"),r=s("./src/player.ts");function n(t,e){const s=t.size,n=document.createElement("canvas");n.width=n.height=32;const a=n.getContext("2d");return function(o){const c=function(t){for(const e of(0,r.findPlayers)(t))if(e instanceof i.default)return e}(e);t.draw(`WORLD ${e.name}`,o,12*s,12*s),a.clearRect(0,0,n.width,n.height),c.draw(a),o.drawImage(n,12*s,15*s),t.draw(`x ${c.player.lives.toString().padStart(3," ")}`,o,16*s,16*s)}}},"./src/layers/sprite.ts":(t,e,s)=>{function i(t,e=64,s=64){const i=document.createElement("canvas").getContext("2d");return i.imageSmoothingEnabled=!1,i.canvas.width=e,i.canvas.height=s,function(r,n){t.forEach((t=>{i.clearRect(0,0,e,s),t.draw(i),r.drawImage(i.canvas,t.pos.x-n.pos.x,t.pos.y-n.pos.y)}))}}s.r(e),s.d(e,{createSpriteLayer:()=>i})},"./src/loaders.ts":(t,e,s)=>{s.r(e),s.d(e,{loadImage:()=>r,loadJSON:()=>n});var i=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function r(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,s)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s,i.src=t}))}))}function n(t){return fetch(t).then((t=>t.json()))}},"./src/loaders/audio.ts":(t,e,s)=>{s.r(e),s.d(e,{loadAudioBoard:()=>a,createAudioLoader:()=>o});var i=s("./src/AudioBoard.ts"),r=s("./src/loaders.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t,e){return n(this,void 0,void 0,(function*(){const s=o(e),n=yield(0,r.loadJSON)(`./sounds/${t}.json`),a=new i.default,c=[];return n.fx.forEach((({name:t,url:e})=>{c.push(s(e).then((e=>{a.add(t,e)})))})),yield Promise.all(c),a}))}function o(t){return function(e){return fetch(e).then((t=>t.arrayBuffer())).then((e=>t.decodeAudioData(e)))}}},"./src/loaders/font.ts":(t,e,s)=>{s.r(e),s.d(e,{FontSheet:()=>o,loadFont:()=>c});var i=s("./src/loaders.ts"),r=s("./src/SpriteSheet.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const a=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";class o{constructor(t,e){this.sheet=t,this.size=e}draw(t,e,s,i){for(let r=0;r<t.length;r++)this.sheet.draw(t[r],e,s+r*this.size,i)}}function c(){return n(this,void 0,void 0,(function*(){const t=yield(0,i.loadImage)("./sheets/font.png"),e=new r.default(t);for(let t=0;t<a.length;t++){const s=8*(15&t),i=8*(t>>4);e.define(a[t],s,i,8,8)}return new o(e,8)}))}},"./src/loaders/level.ts":(t,e,s)=>{s.r(e),s.d(e,{createLevelLoader:()=>g});var i=s("./src/Entity.ts"),r=s("./src/layers/background.ts"),n=s("./src/layers/sprite.ts"),a=s("./src/Level.ts"),o=s("./src/loaders.ts"),c=s("./src/math.ts"),d=s("./src/traits/LevelTimer.ts"),l=s("./src/traits/Trigger.ts"),u=s("./src/loaders/music.ts"),h=s("./src/loaders/sprite.ts"),f=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function p(){const t=new i.default;return t.addTrait("trigger",new l.default),t}function y(t){return f(this,void 0,void 0,(function*(){return yield(0,o.loadJSON)(`./sprites/patterns/${t}.json`)}))}function m(t){const e=function(){const t=new i.default;return t.addTrait("levelTimer",new d.default),t}();t.entities.add(e),t.events.listen(d.default.TIMER_OKAY,(()=>t.music.playTheme())),t.events.listen(d.default.TIMER_HURRY,(()=>t.music.playHurryTheme()))}function v(t,e,s,i){t.layers.forEach((t=>{const n=function(t,e){const s=new c.Matrix;for(const{tile:i,x:r,y:n}of function*(t,e){function*s(t,i,r){for(const n of t)for(const{x:t,y:a}of b(n.ranges)){const o=t+i,c=a+r;if(n.pattern){const t=e[n.pattern].tiles;yield*s(t,o,c)}else yield{tile:n,x:o,y:c}}}yield*s(t,0,0)}(t,e))s.set(r,n,i);return s}(t.tiles,i),a=(0,r.createBackgroundLayer)(e,n,s);e.comp.add(a),e.tileCollider.addGrid(n)}))}function g(t){return function(e){return(0,o.loadJSON)(`./levels/${e}.json`).then((t=>Promise.all([t,(0,h.loadSpriteSheet)(t.spriteSheet),(0,u.loadMusicSheet)(t.musicSheet),y(t.patternSheet)]))).then((([s,i,r,o])=>{const c=new a.default;return c.name=e,c.music.setPlayer(r),v(s,c,i,o),function(t,e,s){t.entities.forEach((({name:t,pos:[i,r]})=>{const n=(0,s[t])();n.pos.set(i,r),e.entities.add(n)}));const i=(0,n.createSpriteLayer)(e.entities);e.comp.add(i)}(s,c,t),function(t,e){if(t.triggers)for(const s of t.triggers){const t=p(),i=t.getTrait("trigger");i&&(i.conditions.push(((t,e,i,r)=>{r.events.emit(a.default.TRIGGER,s,t,e)})),t.pos.set(...s.pos),t.size.set(64,64),e.entities.add(t))}}(s,c),m(c),c}))}}function*w(t,e,s,i){const r=t+e,n=s+i;for(let e=t;e<r;e++)for(let t=s;t<n;t++)yield{x:e,y:t}}function x(t){switch(t.length){case 4:return w(...t);case 3:return w(t[0],t[1],t[2],1);case 2:return w(t[0],1,t[1],1)}}function*b(t){for(const e of t)yield*x(e)}},"./src/loaders/music.ts":(t,e,s)=>{s.r(e),s.d(e,{loadMusicSheet:()=>a});var i=s("./src/loaders.ts"),r=s("./src/MusicPlayer.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t){return n(this,void 0,void 0,(function*(){const e=yield(0,i.loadJSON)(`./music/${t}.json`),s=new r.default;for(const[t,i]of Object.entries(e))s.addTrack(t,i.url);return s}))}},"./src/loaders/sprite.ts":(t,e,s)=>{s.r(e),s.d(e,{loadSpriteSheet:()=>a});var i=s("./src/anim.ts"),r=s("./src/loaders.ts"),n=s("./src/SpriteSheet.ts");function a(t){return(0,r.loadJSON)(`./sprites/${t}.json`).then((t=>Promise.all([t,(0,r.loadImage)(t.imageURL)]))).then((([t,e])=>{const s=new n.default(e,t.tileW,t.tileH);return t.tiles&&t.tiles.forEach((t=>{s.defineTile(t.name,...t.index)})),t.frames&&t.frames.forEach((({name:t,rect:e})=>{s.define(t,...e)})),t.animations&&t.animations.forEach((({name:t,frameLen:e,frames:r})=>{const n=(0,i.createAnim)(r,e);s.defineAnim(t,n)})),s}))}},"./src/math.ts":(t,e,s)=>{s.r(e),s.d(e,{Matrix:()=>i,Vector:()=>r});class i{constructor(){this.grid=[]}delete(t,e){const s=this.grid[t];s&&delete s[e]}get(t,e){const s=this.grid[t];if(s)return s[e]}set(t,e,s){this.grid[t]||(this.grid[t]=[]),this.grid[t][e]=s}forEach(t){this.grid.forEach(((e,s)=>{e.forEach(((e,i)=>{t(s,i,e)}))}))}}class r{constructor(t=0,e=0){this.set(t,e)}copy(t){this.set(t.x,t.y)}set(t,e){this.x=t,this.y=e}}},"./src/player.ts":(t,e,s)=>{s.r(e),s.d(e,{createPlayerEnv:()=>a,findPlayers:()=>o});var i=s("./src/Entity.ts"),r=s("./src/traits/Player.ts"),n=s("./src/traits/PlayerController.ts");function a(t){const e=new i.default,s=new n.default;return s.checkpoint.set(64,64),s.setPlayer(t),e.addTrait("controller",s),e}function*o(t){for(const e of t.entities)e.getTrait("player")instanceof r.default&&(yield e)}},"./src/tiles/brick.ts":(t,e,s)=>{s.r(e),s.d(e,{brick:()=>r});var i=s("./src/Entity.ts");const r=[function(t,e){const{entity:s,match:r}=t;s.vel.x>0?s.bounds.right>r.x1&&s.obstruct(i.Sides.RIGHT,r):s.vel.x<0&&s.bounds.left<r.x2&&s.obstruct(i.Sides.LEFT,r)},function(t,e){const{entity:s,match:r,resolver:n,gameContext:a}=t;if(s.vel.y>0)s.bounds.bottom>r.y1&&s.obstruct(i.Sides.BOTTOM,r);else if(s.vel.y<0){if(s.getTrait("player")){n.matrix.delete(r.indexX,r.indexY);const t=a.entityFactory.goomba();t.pos.set(s.pos.x,r.y1),t.vel.set(50,-400),e.entities.add(t)}s.bounds.top<r.y2&&s.obstruct(i.Sides.TOP,r)}}]},"./src/tiles/coin.ts":(t,e,s)=>{s.r(e),s.d(e,{coin:()=>n});var i=s("./src/traits/Player.ts");function r(t){const{entity:e,resolver:s,match:r}=t,n=e.getTrait("player");if(n instanceof i.default){n.addCoins(1);s.matrix.delete(r.indexX,r.indexY)}}const n=[r,r]},"./src/tiles/ground.ts":(t,e,s)=>{s.r(e),s.d(e,{ground:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s}=t;e.vel.y>0?e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s):e.vel.y<0&&e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}]},"./src/traits/Emitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.cooldown=2,this.interval=2,this.emitters=[]}emit(t,e){for(const s of this.emitters)s(t,e)}update(t,e){const{dt:s}=e;this.cooldown-=s,this.cooldown<0&&(this.emit(t,e),this.cooldown=this.interval)}}},"./src/traits/Go.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Jump.ts");class n extends i.Trait{constructor(){super(),this.dir=0,this.acceleration=400,this.deceleration=300,this.friction=2e-4,this.distance=0,this.heading=1}set drag(t){this.friction=t}update(t,e){const{dt:s}=e,i=Math.abs(t.vel.x);if(0!==this.dir){t.vel.x+=this.acceleration*s*this.dir;const e=t.getTrait("jump");e?e instanceof r.default&&!e.falling&&(this.heading=this.dir):this.heading=this.dir}else if(0!==t.vel.x){const e=Math.min(i,this.deceleration*s);t.vel.x+=e*(t.vel.x>0?-1:1)}else this.distance=0;const n=this.friction*t.vel.x*i;t.vel.x-=n,this.distance+=i*s}}},"./src/traits/Gravity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{dt:s}=e;t.vel.y+=this.gravity*s}}},"./src/traits/Jump.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(),this.duration=.3,this.velocity=200,this.engageTime=0,this.ready=0,this.graceTime=0,this.graceDuration=.1}get falling(){return this.ready<0}start(){this.graceTime=this.graceDuration}cancel(){this.engageTime=0,this.graceTime=0}obstruct(t,e){e===i.Sides.BOTTOM&&(this.ready=1),e===i.Sides.TOP&&this.cancel()}update(t,e){const{dt:s}=e;this.graceTime>0&&(this.ready>0&&(t.sounds.add("jump"),this.engageTime=this.duration,this.graceTime=0),this.graceTime-=s),this.engageTime>0&&(t.vel.y=-(this.velocity+.3*Math.abs(t.vel.x)),this.engageTime-=s),this.ready--}}},"./src/traits/Killable.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.dead=!1,this.removeAfter=2,this.deadTime=0}kill(){this.queue((()=>this.dead=!0))}revive(){this.dead=!1,this.deadTime=0}update(t,e,s){this.dead&&(this.deadTime+=e.dt,this.deadTime>this.removeAfter&&this.queue((()=>s.entities.delete(t))))}}},"./src/traits/LevelTimer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.totalTime=300,this.currentTime=this.totalTime,this.hurryTime=100,this.hurryEmitted=null}update(t,e,s){this.currentTime-=2*e.dt,!0!==this.hurryEmitted&&this.currentTime<this.hurryTime&&(s.events.emit(r.TIMER_HURRY),this.hurryEmitted=!0),!1!==this.hurryEmitted&&this.currentTime>this.hurryTime&&(s.events.emit(r.TIMER_OKAY),this.hurryEmitted=!1)}}r.TIMER_HURRY=Symbol("timer.hurry"),r.TIMER_OKAY=Symbol("timer.okay")},"./src/traits/PendulumMove.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.enabled=!0,this.speed=-30}obstruct(t,e){e!==i.Sides.LEFT&&e!==i.Sides.RIGHT||(this.speed*=-1)}update(t,e){this.enabled&&(t.vel.x=this.speed)}}},"./src/traits/Physics.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e,s){const{dt:i}=e;t.pos.x+=t.vel.x*i,s.tileCollider.checkX(t,e),t.pos.y+=t.vel.y*i,s.tileCollider.checkY(t,e),t.vel.y+=this.gravity*i}}},"./src/traits/Player.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Stomper.ts");class n extends i.Trait{constructor(){super(),this.name="N/A",this.coins=0,this.lives=3,this.score=0,this.listen(r.default.STOMP,(()=>{this.score+=100}))}addCoins(t){for(this.coins+=t,this.queue((t=>t.sounds.add("coin")));this.coins>=100;)this.addLives(1),this.coins-=100}addLives(t){this.lives+=t}}},"./src/traits/PlayerController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/math.ts");class n extends i.Trait{constructor(){super(...arguments),this.checkpoint=new r.Vector,this.player=null}setPlayer(t){this.player=t}update(t,e,s){this.player&&!s.entities.has(this.player)&&(this.player.killable.revive(),this.player.pos.set(this.checkpoint.x,this.checkpoint.y),s.entities.add(this.player))}}},"./src/traits/Solid.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.obstructs=!0}obstruct(t,e,s){if(this.obstructs)switch(e){case i.Sides.RIGHT:t.bounds.left=s.x1-t.size.x,t.vel.x=0;break;case i.Sides.LEFT:t.bounds.left=s.x2,t.vel.x=0;break;case i.Sides.BOTTOM:t.bounds.top=s.y1-t.size.y,t.vel.y=0;break;case i.Sides.TOP:t.bounds.top=s.y2,t.vel.y=0}}}},"./src/traits/Stomper.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Killable.ts");class n extends i.Trait{constructor(){super(...arguments),this.boundSpeed=400}bounce(t,e){t.bounds.bottom=e.bounds.top,t.vel.y=-this.boundSpeed}collides(t,e){const s=e.getTrait("killable");s&&s instanceof r.default&&!s.dead&&t.vel.y>e.vel.y&&(this.queue((()=>this.bounce(t,e))),t.sounds.add("stomp"),t.events.emit(n.STOMP,t,e))}}n.STOMP=Symbol("stomp")},"./src/traits/Trigger.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.touches=new Set,this.conditions=[]}collides(t,e){this.touches.add(e)}update(t,e,s){if(this.touches.size>0){for(const i of this.conditions)i(t,this.touches,e,s);this.touches.clear()}}}},"./src/traits/Velocity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{update(t,e){const{dt:s}=e;t.pos.x+=t.vel.x*s,t.pos.y+=t.vel.y*s}}}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{s.r(i);var t=s("./src/Timer.ts"),e=s("./src/input.ts"),r=s("./src/loaders/level.ts"),n=s("./src/entities.ts"),a=s("./src/layers/collision.ts"),o=s("./src/loaders/font.ts"),c=s("./src/layers/dashboard.ts"),d=s("./src/player.ts"),l=s("./src/SceneRunner.ts"),u=s("./src/layers/player-progress.ts"),h=s("./src/CompositionScene.ts"),f=s("./src/layers/color.ts"),p=s("./src/Level.ts"),y=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const m=document.querySelector("canvas#screen"),v=()=>{window.removeEventListener("click",v),function(s){y(this,void 0,void 0,(function*(){const i=s.getContext("2d");i.imageSmoothingEnabled=!1;const m=new AudioContext,[v,g]=yield Promise.all([(0,n.loadEntities)(m),(0,o.loadFont)()]),w=yield(0,r.createLevelLoader)(v),x=new l.default,b=v.mario();function T(t){return y(this,void 0,void 0,(function*(){const e=yield w(t);e.events.listen(p.default.TRIGGER,((t,e,s)=>{if("goto"===t.type){console.log("Emitting level trigger event",t);for(const e of s)if(e.getTrait("player"))return T(t.name)}}));const s=(0,c.createDashboardLayer)(g,e),i=(0,u.createPlayerProgressLayer)(g,e);b.pos.set(0,0),e.entities.add(b);const r=(0,d.createPlayerEnv)(b);e.entities.add(r);const n=new h.default;n.comp.add((0,f.createColorLayer)("#000")),n.comp.add(s),n.comp.add(i),x.addScene(n),e.comp.add((0,a.createCollisionLayer)(e)),e.comp.add(s),x.addScene(e),console.log("Running next scene",x.sceneIndex),x.runNext(),console.log("Running next scene",x.sceneIndex),x.runNext(),console.log("Running next scene",x.sceneIndex)}))}b.player.name="MARIO",(0,e.setupKeyboard)(window).addReceiver(b),window.runLevel=T;const S=new t.default;console.log(x),S.update=t=>{console.log("Updating..."),x.update({dt:t,audioContext:m,entityFactory:v,videoContext:i})},S.start(),T("debug-progression")}))}(m)};window.addEventListener("click",v)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Olsid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0F1ZGlvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQm91bmRpbmdCb3gudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQ2FtZXJhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0NvbXBvc2l0aW9uU2NlbmUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQ29tcG9zaXRvci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9FbnRpdHkudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvRW50aXR5Q29sbGlkZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvRXZlbnRCdWZmZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0lucHV0Um91dGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0tleWJvYXJkU3RhdGUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvTGV2ZWwudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvTXVzaWNDb250cm9sbGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL011c2ljUGxheWVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1NjZW5lLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1NjZW5lUnVubmVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1Nwcml0ZVNoZWV0LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1RpbGVDb2xsaWRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9UaW1lci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9hbmltLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0J1bGxldC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9DYW5ub24udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMvR29vbWJhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0tvb3BhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL01hcmlvLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2lucHV0LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9iYWNrZ3JvdW5kLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9jb2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbGF5ZXJzL2NvbG9yLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9kYXNoYm9hcmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbGF5ZXJzL3BsYXllci1wcm9ncmVzcy50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sYXllcnMvc3ByaXRlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9hdWRpby50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL2ZvbnQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9sZXZlbC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL211c2ljLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMvc3ByaXRlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL21hdGgudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvcGxheWVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RpbGVzL2JyaWNrLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RpbGVzL2NvaW4udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdGlsZXMvZ3JvdW5kLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9FbWl0dGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9Hby50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvR3Jhdml0eS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvSnVtcC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvS2lsbGFibGUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0xldmVsVGltZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1BlbmR1bHVtTW92ZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvUGh5c2ljcy50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvUGxheWVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9QbGF5ZXJDb250cm9sbGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9Tb2xpZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvU3RvbXBlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvVHJpZ2dlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvVmVsb2NpdHkudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3N1cGVyLW1hcmlvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1ZGlvQm9hcmQge1xuICBwcml2YXRlIGJ1ZmZlcnM6IE1hcDxzdHJpbmcsIEF1ZGlvQnVmZmVyPiA9IG5ldyBNYXAoKTtcblxuICBhZGQobmFtZTogc3RyaW5nLCBidWZmZXI6IEF1ZGlvQnVmZmVyKXtcbiAgICB0aGlzLmJ1ZmZlcnMuc2V0KG5hbWUsIGJ1ZmZlcik7XG4gIH1cblxuICBwbGF5KG5hbWU6IHN0cmluZywgY29udGV4dDogQXVkaW9Db250ZXh0KXtcbiAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlcnMuZ2V0KG5hbWUpO1xuICAgIGlmKCFidWZmZXIpIHJldHVybjtcbiAgICBjb25zdCBzb3VyY2UgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIHNvdXJjZS5jb25uZWN0KGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXI7XG4gICAgc291cmNlLnN0YXJ0KDApO1xuICB9XG59IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vbWF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb3VuZGluZ0JveCB7XG4gIHByaXZhdGUgcG9zOiBWZWN0b3I7XG4gIHByaXZhdGUgc2l6ZTogVmVjdG9yO1xuICBwcml2YXRlIG9mZnNldDogVmVjdG9yO1xuXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjdG9yLCBzaXplOiBWZWN0b3IsIG9mZnNldDogVmVjdG9yKXtcbiAgICB0aGlzLnBvcyA9IHBvcztcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICB9XG5cbiAgb3ZlcmxhcHMoYm94OiBCb3VuZGluZ0JveCkgOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ib3R0b20gPiBib3gudG9wIFxuICAgICAgICAmJiB0aGlzLnRvcCA8IGJveC5ib3R0b20gXG4gICAgICAgICYmIHRoaXMubGVmdCA8IGJveC5yaWdodCBcbiAgICAgICAgJiYgdGhpcy5yaWdodCA+IGJveC5sZWZ0O1xuICB9XG5cbiAgZ2V0IGJvdHRvbSgpeyByZXR1cm4gdGhpcy5wb3MueSArIHRoaXMuc2l6ZS55ICsgdGhpcy5vZmZzZXQueTsgfVxuICBnZXQgdG9wKCl7IHJldHVybiB0aGlzLnBvcy55ICsgdGhpcy5vZmZzZXQueTsgfVxuICBnZXQgbGVmdCgpeyByZXR1cm4gdGhpcy5wb3MueCArIHRoaXMub2Zmc2V0Lng7IH1cbiAgZ2V0IHJpZ2h0KCl7IHJldHVybiB0aGlzLnBvcy54ICsgdGhpcy5zaXplLnggKyB0aGlzLm9mZnNldC54OyB9XG5cbiAgc2V0IGJvdHRvbSh5KXsgdGhpcy5wb3MueSA9IHkgLSAodGhpcy5zaXplLnkgKyB0aGlzLm9mZnNldC55KTsgfVxuICBzZXQgdG9wKHkpeyB0aGlzLnBvcy55ID0geSAtIHRoaXMub2Zmc2V0Lnk7IH1cbiAgc2V0IGxlZnQoeCl7IHRoaXMucG9zLnggPSB4IC0gdGhpcy5vZmZzZXQueDsgfVxuICBzZXQgcmlnaHQoeCl7IHRoaXMucG9zLnggPSB4IC0gKHRoaXMuc2l6ZS54ICsgdGhpcy5vZmZzZXQueCk7IH1cbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9tYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XG4gIHB1YmxpYyBwb3M6IFZlY3RvcjtcbiAgcHVibGljIHNpemU6IFZlY3RvcjtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IoMCwgMCk7XG4gICAgdGhpcy5zaXplID0gbmV3IFZlY3RvcigyNTYsIDIyNCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuL0xldmVsXCI7XG5pbXBvcnQgU2NlbmUgZnJvbSBcIi4vU2NlbmVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRpb25TY2VuZSBleHRlbmRzIFNjZW5lIHtcbiAgcHVibGljIGNvdW50ZG93bjogbnVtYmVyID0gMjtcblxuICBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICB0aGlzLmNvbXAuZHJhdyhjdHgpO1xuICB9XG4gIFxuICB1cGRhdGUoZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICB0aGlzLmNvdW50ZG93biAtPSBnYW1lQ29udGV4dC5kdDtcbiAgICBpZih0aGlzLmNvdW50ZG93biA8PSAwKXtcbiAgICAgIHRoaXMuZXZlbnRzLmVtaXQoU2NlbmUuQ09NUExFVEUpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBDYW1lcmEgZnJvbSBcIi4vQ2FtZXJhXCI7XG5cbmV4cG9ydCB0eXBlIExheWVyUmVuZGVyZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYT86IENhbWVyYSkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRvciB7XG4gIHByaXZhdGUgbGF5ZXJzOiBMYXllclJlbmRlcmVyW107XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5sYXllcnMgPSBbXTtcbiAgfVxuICBhZGQobGF5ZXI6IExheWVyUmVuZGVyZXIpe1xuICAgIHRoaXMubGF5ZXJzLnB1c2gobGF5ZXIpO1xuICB9XG4gIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYT86IENhbWVyYSl7XG4gICAgdGhpcy5sYXllcnMuZm9yRWFjaChsYXllciA9PiBsYXllcihjdHgsIGNhbWVyYSkpXG4gIH1cbn0iLCJpbXBvcnQgQXVkaW9Cb2FyZCBmcm9tIFwiLi9BdWRpb0JvYXJkXCI7XG5pbXBvcnQgQm91bmRpbmdCb3ggZnJvbSBcIi4vQm91bmRpbmdCb3hcIjtcbmltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgRXZlbnRCdWZmZXIgZnJvbSBcIi4vRXZlbnRCdWZmZXJcIjtcbmltcG9ydCBMZXZlbCwgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuL0xldmVsXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9tYXRoXCI7XG5pbXBvcnQgeyBSZXNvbHZlZFRpbGUgfSBmcm9tIFwiLi9UaWxlQ29sbGlkZXJcIjtcblxuZXhwb3J0IGVudW0gU2lkZXMge1xuICBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsXG59XG5cbmV4cG9ydCB0eXBlIFRhc2sgPSAoZW50aXR5PzogRW50aXR5KSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgTGlzdGVuZXIgPSB7XG4gIG5hbWU6IFN5bWJvbCxcbiAgY2FsbGJhY2s6IFRhc2ssXG4gIGNvdW50OiBudW1iZXIsXG59O1xuXG5leHBvcnQgY2xhc3MgVHJhaXQge1xuICBzdGF0aWMgVEFTSyA9IFN5bWJvbCgndGFzaycpO1xuICBwdWJsaWMgbGlzdGVuZXJzOiBMaXN0ZW5lcltdID0gW107XG5cbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KXt9XG4gIGZpbmFsaXplKGVudGl0eTogRW50aXR5KXtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmZpbHRlcihsaXN0ZW5lciA9PiB7XG4gICAgICBlbnRpdHkuZXZlbnRzLnByb2Nlc3MobGlzdGVuZXIubmFtZSwgbGlzdGVuZXIuY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIC0tbGlzdGVuZXIuY291bnQ7XG4gICAgfSk7XG4gIH1cbiAgbGlzdGVuKG5hbWU6IFN5bWJvbCwgY2FsbGJhY2s6IFRhc2ssIGNvdW50OiBudW1iZXIgPSBJbmZpbml0eSl7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaCh7IG5hbWUsIGNhbGxiYWNrLCBjb3VudCB9KTtcbiAgfVxuICBvYnN0cnVjdChlbnRpdHk6IEVudGl0eSwgc2lkZTogU2lkZXMsIG1hdGNoPzogUmVzb2x2ZWRUaWxlKXt9XG4gIHF1ZXVlKHRhc2s6IFRhc2spe1xuICAgIHRoaXMubGlzdGVuKFRyYWl0LlRBU0ssIHRhc2ssIDEpO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ/OiBHYW1lQ29udGV4dCwgbGV2ZWw/OiBMZXZlbCl7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHkge1xuICBwdWJsaWMgYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZDtcbiAgcHVibGljIHNvdW5kczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cbiAgcHVibGljIGV2ZW50czogRXZlbnRCdWZmZXIgPSBuZXcgRXZlbnRCdWZmZXIoKTtcbiAgXG4gIHB1YmxpYyBwb3M6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIHNpemU6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIG9mZnNldDogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgYm91bmRzOiBCb3VuZGluZ0JveDtcbiAgcHVibGljIHZlbDogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgbGlmZXRpbWU6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSB0cmFpdHM6IE1hcDxzdHJpbmcsIFRyYWl0PiA9IG5ldyBNYXAoKTtcblxuICBjb25zdHJ1Y3RvcihhdWRpb0JvYXJkPzogQXVkaW9Cb2FyZCl7XG4gICAgdGhpcy5hdWRpb0JvYXJkID0gYXVkaW9Cb2FyZDtcbiAgICB0aGlzLmJvdW5kcyA9IG5ldyBCb3VuZGluZ0JveCh0aGlzLnBvcywgdGhpcy5zaXplLCB0aGlzLm9mZnNldCk7XG4gIH1cblxuICBhZGRUcmFpdChuYW1lOiBzdHJpbmcsIHRyYWl0OiBUcmFpdCl7XG4gICAgdGhpcy50cmFpdHMuc2V0KG5hbWUsIHRyYWl0KTtcbiAgfVxuXG4gIGNvbGxpZGVzKGNhbmRpZGF0ZTogRW50aXR5KXtcbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0LmNvbGxpZGVzKHRoaXMsIGNhbmRpZGF0ZSk7XG4gICAgfSlcbiAgfVxuXG4gIGZpbmFsaXplKCl7XG4gICAgdGhpcy5ldmVudHMuZW1pdChUcmFpdC5UQVNLLCB0aGlzKTtcblxuICAgIHRoaXMudHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgdHJhaXQuZmluYWxpemUodGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmV2ZW50cy5jbGVhcigpO1xuICB9XG5cbiAgZ2V0VHJhaXQobmFtZTogc3RyaW5nKSA6IFRyYWl0IHtcbiAgICBjb25zdCB0cmFpdCA9IHRoaXMudHJhaXRzLmdldChuYW1lKTtcbiAgICByZXR1cm4gdHJhaXQ7XG4gIH1cblxuICBvYnN0cnVjdChzaWRlOiBTaWRlcywgbWF0Y2g/OiBSZXNvbHZlZFRpbGUpe1xuICAgIHRoaXMudHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgdHJhaXQub2JzdHJ1Y3QodGhpcywgc2lkZSwgbWF0Y2gpO1xuICAgIH0pO1xuICB9XG5cbiAgcGxheVNvdW5kcyhhdWRpb0JvYXJkOiBBdWRpb0JvYXJkLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCl7XG4gICAgdGhpcy5zb3VuZHMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIGF1ZGlvQm9hcmQucGxheShuYW1lLCBhdWRpb0NvbnRleHQpO1xuICAgIH0pO1xuICAgIHRoaXMuc291bmRzLmNsZWFyKCk7XG4gIH1cblxuICB1cGRhdGUoZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0LCBsZXZlbD86IExldmVsKXtcbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0LnVwZGF0ZSh0aGlzLCBnYW1lQ29udGV4dCwgbGV2ZWwpO1xuICAgIH0pO1xuICAgIHRoaXMucGxheVNvdW5kcyh0aGlzLmF1ZGlvQm9hcmQsIGdhbWVDb250ZXh0LmF1ZGlvQ29udGV4dCk7XG4gICAgdGhpcy5saWZldGltZSArPSBnYW1lQ29udGV4dC5kdDtcbiAgfVxuXG4gIHB1YmxpYyBkcmF3OiBMYXllclJlbmRlcmVyID0gKGN0eCwgY2FtZXJhKSA9PiB7fTtcbn0iLCJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHlDb2xsaWRlciB7XG4gIGVudGl0aWVzOiBTZXQ8RW50aXR5PjtcbiAgY29uc3RydWN0b3IoZW50aXRpZXM6IFNldDxFbnRpdHk+KXtcbiAgICB0aGlzLmVudGl0aWVzID0gZW50aXRpZXM7XG4gIH1cbiAgY2hlY2soc3ViamVjdDogRW50aXR5KXtcbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goY2FuZGlkYXRlID0+IHtcbiAgICAgIGlmKHN1YmplY3QgPT09IGNhbmRpZGF0ZSkgcmV0dXJuO1xuXG4gICAgICBpZihzdWJqZWN0LmJvdW5kcy5vdmVybGFwcyhjYW5kaWRhdGUuYm91bmRzKSl7XG4gICAgICAgIHN1YmplY3QuY29sbGlkZXMoY2FuZGlkYXRlKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59IiwidHlwZSBFdmVudCA9IHtcbiAgbmFtZTogU3ltYm9sLFxuICBhcmdzOiBhbnlbXSxcbn1cbnR5cGUgRXZlbnRDYWxsYmFjayA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRCdWZmZXIge1xuICBwcml2YXRlIGV2ZW50czogRXZlbnRbXSA9IFtdO1xuICBcbiAgY2xlYXIoKXtcbiAgICB0aGlzLmV2ZW50cy5sZW5ndGggPSAwO1xuICB9XG5cbiAgZW1pdChuYW1lOiBTeW1ib2wsIC4uLmFyZ3M6IGFueVtdKXtcbiAgICBjb25zdCBldmVudCA9IHsgbmFtZSwgYXJncyB9O1xuICAgIHRoaXMuZXZlbnRzLnB1c2goZXZlbnQpO1xuICB9XG5cbiAgcHJvY2VzcyhuYW1lOiBTeW1ib2wsIGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKXtcbiAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmKGV2ZW50Lm5hbWUgPT09IG5hbWUpe1xuICAgICAgICBjYWxsYmFjayguLi5ldmVudC5hcmdzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsInR5cGUgRXZlbnRDYWxsYmFjayA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IE1hcDxTeW1ib2wsIEV2ZW50Q2FsbGJhY2tbXT4gPSBuZXcgTWFwKCk7XG5cbiAgbGlzdGVuKG5hbWU6IFN5bWJvbCwgY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spe1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMubGlzdGVuZXJzLmdldChuYW1lKSB8fCBbXTtcbiAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgdGhpcy5saXN0ZW5lcnMuc2V0KG5hbWUsIGNhbGxiYWNrcyk7XG4gIH1cblxuICBlbWl0KG5hbWU6IFN5bWJvbCwgLi4uYXJnczogYW55W10pe1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMubGlzdGVuZXJzLmdldChuYW1lKTtcbiAgICBpZighY2FsbGJhY2tzKSByZXR1cm47XG4gICAgY2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4ge1xuICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgfSk7XG4gIH1cbn0iLCJ0eXBlIFJlY2VpdmVyID0gYW55O1xudHlwZSBSZWNlaXZlckNhbGxiYWNrID0gKHJlY2VpdmVyOiBSZWNlaXZlcikgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXRSb3V0ZXIge1xuICBwdWJsaWMgcmVjZWl2ZXJzOiBTZXQ8UmVjZWl2ZXI+ID0gbmV3IFNldCgpO1xuXG4gIGFkZFJlY2VpdmVyKHJlY2VpdmVyOiBSZWNlaXZlcil7XG4gICAgdGhpcy5yZWNlaXZlcnMuYWRkKHJlY2VpdmVyKTtcbiAgfVxuXG4gIGRyb3BSZWNlaXZlcihyZWNlaXZlcjogUmVjZWl2ZXIpe1xuICAgIHRoaXMucmVjZWl2ZXJzLmRlbGV0ZShyZWNlaXZlcik7XG4gIH1cblxuICByb3V0ZShyb3V0ZUlucHV0OiBSZWNlaXZlckNhbGxiYWNrKXtcbiAgICBmb3IoY29uc3QgcmVjZWl2ZXIgb2YgdGhpcy5yZWNlaXZlcnMpe1xuICAgICAgcm91dGVJbnB1dChyZWNlaXZlcik7XG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGVudW0gS2V5U3RhdGUgeyBSRUxFQVNFRCwgUFJFU1NFRCB9O1xuXG50eXBlIEtleU1hcCA9IChzdGF0ZTogS2V5U3RhdGUpID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkU3RhdGUge1xuICBwcml2YXRlIGtleVN0YXRlczogTWFwPHN0cmluZyxLZXlTdGF0ZT47XG4gIHByaXZhdGUga2V5TWFwOiBNYXA8c3RyaW5nLEtleU1hcD47XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5rZXlTdGF0ZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5rZXlNYXAgPSBuZXcgTWFwKCk7XG4gIH1cbiAgYWRkTWFwcGluZyhjb2RlOiBzdHJpbmcsIGNhbGxiYWNrOiBLZXlNYXApe1xuICAgIHRoaXMua2V5TWFwLnNldChjb2RlLCBjYWxsYmFjayk7XG4gIH1cbiAgaGFuZGxlRXZlbnQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpe1xuICAgIGNvbnN0IHsgY29kZSwgdHlwZSB9ID0gZXZlbnQ7XG5cbiAgICBpZighdGhpcy5rZXlNYXAuaGFzKGNvZGUpKSByZXR1cm47XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3Qga2V5U3RhdGUgPSB0eXBlID09PSAna2V5ZG93bicgPyBLZXlTdGF0ZS5QUkVTU0VEIDogS2V5U3RhdGUuUkVMRUFTRUQ7XG5cbiAgICBpZih0aGlzLmtleVN0YXRlcy5nZXQoY29kZSkgPT09IGtleVN0YXRlKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmtleVN0YXRlcy5zZXQoY29kZSwga2V5U3RhdGUpO1xuXG4gICAgdGhpcy5rZXlNYXAuZ2V0KGNvZGUpKGtleVN0YXRlKTtcbiAgfVxuICBsaXN0ZW5Ubyh3aW5kb3c6IGFueSl7XG4gICAgWydrZXlkb3duJywgJ2tleXVwJ10uZm9yRWFjaChldmVudE5hbWU9PntcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgQ2FtZXJhIGZyb20gXCIuL0NhbWVyYVwiO1xuaW1wb3J0IHsgRW50aXR5RmFjdG9yeSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuaW1wb3J0IEVudGl0eUNvbGxpZGVyIGZyb20gXCIuL0VudGl0eUNvbGxpZGVyXCI7XG5pbXBvcnQgTXVzaWNDb250cm9sbGVyIGZyb20gXCIuL011c2ljQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgZmluZFBsYXllcnMgfSBmcm9tIFwiLi9wbGF5ZXJcIjtcbmltcG9ydCBTY2VuZSBmcm9tIFwiLi9TY2VuZVwiO1xuaW1wb3J0IFRpbGVDb2xsaWRlciBmcm9tIFwiLi9UaWxlQ29sbGlkZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lQ29udGV4dCB7XG4gIGR0OiBudW1iZXIsXG4gIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LFxuICBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5LFxuICB2aWRlb0NvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbn1cblxuZnVuY3Rpb24gZm9jdXNQbGF5ZXIobGV2ZWw6IExldmVsKXtcbiAgZm9yKGNvbnN0IHBsYXllciBvZiBmaW5kUGxheWVycyhsZXZlbCkpe1xuICAgIGxldmVsLmNhbWVyYS5wb3MueCA9IE1hdGgubWF4KDAsIHBsYXllci5wb3MueCAtIDEwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGV2ZWwgZXh0ZW5kcyBTY2VuZSB7XG4gIHN0YXRpYyBUUklHR0VSID0gU3ltYm9sKCd0cmlnZ2VyJyk7XG5cbiAgcHVibGljIG5hbWU6IHN0cmluZyA9ICcnO1xuICBwdWJsaWMgY2FtZXJhOiBDYW1lcmEgPSBuZXcgQ2FtZXJhKCk7XG4gIHB1YmxpYyBtdXNpYzogTXVzaWNDb250cm9sbGVyID0gbmV3IE11c2ljQ29udHJvbGxlcigpO1xuICBwdWJsaWMgZW50aXRpZXM6IFNldDxFbnRpdHk+ID0gbmV3IFNldCgpO1xuICBwdWJsaWMgdGlsZUNvbGxpZGVyOiBUaWxlQ29sbGlkZXIgPSBuZXcgVGlsZUNvbGxpZGVyKCk7XG4gIHB1YmxpYyBlbnRpdHlDb2xsaWRlcjogRW50aXR5Q29sbGlkZXIgPSBuZXcgRW50aXR5Q29sbGlkZXIodGhpcy5lbnRpdGllcyk7XG4gIHB1YmxpYyB0aW1lOiBudW1iZXIgPSAwO1xuXG4gIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHRoaXMuY29tcC5kcmF3KGN0eCwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5tdXNpYy5wYXVzZSgpO1xuICB9XG4gIFxuICB1cGRhdGUoZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcblxuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgZW50aXR5LnVwZGF0ZShnYW1lQ29udGV4dCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHRoaXMuZW50aXR5Q29sbGlkZXIuY2hlY2soZW50aXR5KTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgZW50aXR5LmZpbmFsaXplKCk7XG4gICAgfSk7XG5cbiAgICBmb2N1c1BsYXllcih0aGlzKTtcblxuICAgIHRoaXMudGltZSArPSBkdDtcbiAgfVxufSIsImltcG9ydCBNdXNpY1BsYXllciBmcm9tIFwiLi9NdXNpY1BsYXllclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdXNpY0NvbnRyb2xsZXIge1xuICBwcml2YXRlIG11c2ljUGxheWVyOiBNdXNpY1BsYXllciA9IG51bGw7XG5cbiAgc2V0UGxheWVyKHBsYXllcjogTXVzaWNQbGF5ZXIpe1xuICAgIHRoaXMubXVzaWNQbGF5ZXIgPSBwbGF5ZXI7XG4gIH1cblxuICBwYXVzZSgpe1xuICAgIHRoaXMubXVzaWNQbGF5ZXIucGF1c2VBbGwoKTtcbiAgfVxuXG4gIHBsYXlUaGVtZShzcGVlZDogbnVtYmVyID0gMSl7XG4gICAgY29uc3QgYXVkaW8gPSB0aGlzLm11c2ljUGxheWVyLnBsYXkoJ21haW4nKTtcbiAgICBhdWRpby5wbGF5YmFja1JhdGUgPSBzcGVlZDtcbiAgfVxuXG4gIHBsYXlIdXJyeVRoZW1lKCl7XG4gICAgY29uc3QgYXVkaW8gPSB0aGlzLm11c2ljUGxheWVyLnBsYXkoJ2h1cnJ5Jyk7XG4gICAgYXVkaW8ubG9vcCA9IGZhbHNlO1xuICAgIGF1ZGlvLm9uZW5kZWQgPSAoKSA9PiB0aGlzLnBsYXlUaGVtZSgxLjMpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVzaWNQbGF5ZXIge1xuICBwcml2YXRlIHRyYWNrczogTWFwPHN0cmluZywgSFRNTEF1ZGlvRWxlbWVudD4gPSBuZXcgTWFwKCk7XG5cbiAgYWRkVHJhY2sobmFtZTogc3RyaW5nLCB0cmFjazogc3RyaW5nKXtcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyh0cmFjayk7XG4gICAgYXVkaW8ubG9vcCA9IHRydWU7XG4gICAgdGhpcy50cmFja3Muc2V0KG5hbWUsIGF1ZGlvKTtcbiAgfVxuXG4gIHBhdXNlQWxsKCl7XG4gICAgZm9yKGNvbnN0IGF1ZGlvIG9mIHRoaXMudHJhY2tzLnZhbHVlcygpKXtcbiAgICAgIGF1ZGlvLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgcGxheShuYW1lOiBzdHJpbmcpIDogSFRNTEF1ZGlvRWxlbWVudCB7XG4gICAgdGhpcy5wYXVzZUFsbCgpO1xuICAgIGNvbnN0IHRyYWNrID0gdGhpcy50cmFja3MuZ2V0KG5hbWUpO1xuICAgIGlmKHRyYWNrKSB0cmFjay5wbGF5KCk7XG4gICAgcmV0dXJuIHRyYWNrO1xuICB9XG59IiwiaW1wb3J0IENvbXBvc2l0b3IgZnJvbSBcIi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiLi9FdmVudEVtaXR0ZXJcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmUge1xuICBzdGF0aWMgQ09NUExFVEUgPSBTeW1ib2woJ3NjZW5lLmNvbXBsZXRlJyk7XG5cbiAgcHVibGljIGV2ZW50czogRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBwdWJsaWMgY29tcDogQ29tcG9zaXRvciA9IG5ldyBDb21wb3NpdG9yKCk7XG5cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgdGhpcy5jb21wLmRyYXcoY3R4KTtcbiAgfVxuXG4gIHBhdXNlKCl7fVxuICBcbiAgdXBkYXRlKGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7fVxufSIsImltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4vTGV2ZWxcIjtcbmltcG9ydCBTY2VuZSBmcm9tIFwiLi9TY2VuZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2VuZVJ1bm5lciB7XG4gIHB1YmxpYyBzY2VuZUluZGV4OiBudW1iZXIgPSAtMTtcbiAgcHVibGljIHNjZW5lczogU2NlbmVbXSA9IFtdO1xuXG4gIGFkZFNjZW5lKHNjZW5lOiBTY2VuZSl7XG4gICAgc2NlbmUuZXZlbnRzLmxpc3RlbihTY2VuZS5DT01QTEVURSwgKCkgPT4gdGhpcy5ydW5OZXh0KCkpO1xuICAgIHRoaXMuc2NlbmVzLnB1c2goc2NlbmUpO1xuICB9XG5cbiAgcnVuTmV4dCgpe1xuICAgIGNvbnN0IGN1cnJlbnRTY2VuZSA9IHRoaXMuc2NlbmVzW3RoaXMuc2NlbmVJbmRleF07XG4gICAgaWYoY3VycmVudFNjZW5lKXtcbiAgICAgIGN1cnJlbnRTY2VuZS5wYXVzZSgpO1xuICAgIH1cbiAgICB0aGlzLnNjZW5lSW5kZXgrKztcbiAgfVxuXG4gIHVwZGF0ZShnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpe1xuICAgIGNvbnN0IGN1cnJlbnRTY2VuZSA9IHRoaXMuc2NlbmVzW3RoaXMuc2NlbmVJbmRleF07XG4gICAgaWYoIWN1cnJlbnRTY2VuZSkgcmV0dXJuO1xuICAgIGN1cnJlbnRTY2VuZS51cGRhdGUoZ2FtZUNvbnRleHQpO1xuICAgIGN1cnJlbnRTY2VuZS5kcmF3KGdhbWVDb250ZXh0LnZpZGVvQ29udGV4dCk7XG4gIH1cbn0iLCJ0eXBlIEFuaW1hdGlvblJlbmRlcmVyID0gKGRpc3RhbmNlOiBudW1iZXIpID0+IHN0cmluZztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlU2hlZXQge1xuICBwcml2YXRlIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xuICBwcml2YXRlIHdpZHRoOiBudW1iZXI7IFxuICBwcml2YXRlIGhlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIGZyYW1lczogTWFwPHN0cmluZywgSFRNTENhbnZhc0VsZW1lbnRbXT47XG4gIHByaXZhdGUgYW5pbWF0aW9uczogTWFwPHN0cmluZywgQW5pbWF0aW9uUmVuZGVyZXI+O1xuICBjb25zdHJ1Y3RvcihpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcil7XG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmZyYW1lcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmFuaW1hdGlvbnMgPSBuZXcgTWFwKCk7XG4gIH1cbiAgZ2V0QW5pbWF0aW9uKG5hbWU6IHN0cmluZyl7XG4gICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5nZXQobmFtZSk7XG4gIH1cbiAgZGVmaW5lQW5pbShuYW1lOiBzdHJpbmcsIGFuaW1hdGlvbjogQW5pbWF0aW9uUmVuZGVyZXIpe1xuICAgIHRoaXMuYW5pbWF0aW9ucy5zZXQobmFtZSwgYW5pbWF0aW9uKTtcbiAgfSAgXG4gIGRlZmluZShuYW1lOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcil7XG4gICAgY29uc3QgYnVmZmVycyA9IFtmYWxzZSwgdHJ1ZV0ubWFwKGZsaXAgPT4ge1xuICAgICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAke3RoaXMud2lkdGh9cHhgKTtcbiAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBgJHt0aGlzLmhlaWdodH1weGApO1xuXG4gICAgICBpZihmbGlwKXtcbiAgICAgICAgY3R4LnNjYWxlKC0xLCAxKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgtd2lkdGgsIDApO1xuICAgICAgfVxuXG4gICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICB0aGlzLmltYWdlLCBcbiAgICAgICAgeCwgeSwgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgMCwgMCwgd2lkdGgsIGhlaWdodFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGN0eC5jYW52YXM7XG4gICAgfSlcblxuICAgIHRoaXMuZnJhbWVzLnNldChuYW1lLCBidWZmZXJzKTtcbiAgfVxuICBkZWZpbmVUaWxlKG5hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgIHRoaXMuZGVmaW5lKG5hbWUsIHgqdGhpcy53aWR0aCwgeSp0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIGRyYXcobmFtZTogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGZsaXA6IGJvb2xlYW4gPSBmYWxzZSl7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLmZyYW1lcy5nZXQobmFtZSk7XG4gICAgaWYoIWZyYW1lKXtcbiAgICAgIGNvbnNvbGUud2FybihgRnJhbWUgJHtuYW1lfSBpcyBub3QgZGVmaW5lZCFgKTtcbiAgICB9XG4gICAgY3R4LmRyYXdJbWFnZShmcmFtZVtmbGlwPzE6MF0sIHgsIHkpO1xuICB9XG4gIGRyYXdBbmltKG5hbWU6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkaXN0YW5jZTogbnVtYmVyKXtcbiAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnMuZ2V0KG5hbWUpO1xuICAgIGlmKCFhbmltYXRpb24pIHJldHVybiB0aGlzLmRyYXdUaWxlKG5hbWUsIGN0eCwgeCwgeSk7XG4gICAgdGhpcy5kcmF3VGlsZShhbmltYXRpb24oZGlzdGFuY2UpLCBjdHgsIHgsIHkpO1xuICB9XG4gIGRyYXdUaWxlKG5hbWU6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBmbGlwOiBib29sZWFuID0gZmFsc2Upe1xuICAgIHRoaXMuZHJhdyhuYW1lLCBjdHgsIHgqdGhpcy53aWR0aCwgeSp0aGlzLmhlaWdodCwgZmxpcCk7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuaW1wb3J0IExldmVsLCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4vTGV2ZWxcIjtcbmltcG9ydCB7IExldmVsVGlsZVNwZWMgfSBmcm9tIFwiLi9sb2FkZXJzL2xldmVsXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi9tYXRoXCI7XG5pbXBvcnQgeyBicmljayB9IGZyb20gXCIuL3RpbGVzL2JyaWNrXCI7XG5pbXBvcnQgeyBncm91bmQgfSBmcm9tIFwiLi90aWxlcy9ncm91bmRcIjtcbmltcG9ydCB7IGNvaW4gfSBmcm9tIFwiLi90aWxlcy9jb2luXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb2x2ZWRUaWxlIHtcbiAgdGlsZTogTGV2ZWxUaWxlU3BlYyxcbiAgeDE6IG51bWJlciwgeDI6IG51bWJlcixcbiAgeTE6IG51bWJlciwgeTI6IG51bWJlcixcbiAgaW5kZXhYOiBudW1iZXIsIGluZGV4WTogbnVtYmVyLFxufVxuXG5leHBvcnQgdHlwZSBUaWxlQ29sbGlzaW9uQ29udGV4dCA9IHtcbiAgZW50aXR5OiBFbnRpdHksIFxuICBtYXRjaDogUmVzb2x2ZWRUaWxlLCBcbiAgcmVzb2x2ZXI6IFRpbGVSZXNvbHZlciwgXG4gIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dFxufVxuXG50eXBlIEhhbmRsZXJDYWxsYmFjayA9ICh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQsIGxldmVsPzogTGV2ZWwpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBIYW5kbGVycyB7XG4gIFtrZXk6IHN0cmluZ106IEhhbmRsZXJDYWxsYmFja1tdLFxufVxuXG5jb25zdCBoYW5kbGVyczogSGFuZGxlcnMgPSB7XG4gIGJyaWNrLFxuICBncm91bmQsXG4gIGNvaW4sXG59O1xuXG5leHBvcnQgY2xhc3MgVGlsZVJlc29sdmVyIHtcbiAgcHVibGljIG1hdHJpeDogTWF0cml4PExldmVsVGlsZVNwZWM+O1xuICBwdWJsaWMgdGlsZVNpemU6IG51bWJlcjtcbiAgY29uc3RydWN0b3IobWF0cml4OiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz4sIHRpbGVTaXplOiBudW1iZXIgPSAxNil7XG4gICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG4gICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xuICB9XG4gIHRvSW5kZXgocG9zOiBudW1iZXIpIDogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihwb3MgLyB0aGlzLnRpbGVTaXplKTtcbiAgfVxuICB0b0luZGV4UmFuZ2UocG9zMTogbnVtYmVyLCBwb3MyOiBudW1iZXIpOiBudW1iZXJbXXtcbiAgICBjb25zdCBwTWF4ID0gTWF0aC5jZWlsKHBvczIgLyB0aGlzLnRpbGVTaXplKSAqIHRoaXMudGlsZVNpemU7XG4gICAgY29uc3QgcmFuZ2UgPSBbXTtcbiAgICBsZXQgcG9zID0gcG9zMTtcbiAgICBkbyB7XG4gICAgICByYW5nZS5wdXNoKHRoaXMudG9JbmRleChwb3MpKTtcbiAgICAgIHBvcyArPSB0aGlzLnRpbGVTaXplO1xuICAgIH13aGlsZShwb3MgPCBwTWF4KTtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cbiAgZ2V0QnlJbmRleCh4OiBudW1iZXIsIHk6IG51bWJlcikgOiBSZXNvbHZlZFRpbGUge1xuICAgIGNvbnN0IHRpbGUgPSB0aGlzLm1hdHJpeC5nZXQoeCwgeSk7XG4gICAgaWYodGlsZSkgcmV0dXJuIHtcbiAgICAgIHRpbGUsXG4gICAgICB4MTogeCAqIHRoaXMudGlsZVNpemUsXG4gICAgICB4MjogKHgrMSkgKiB0aGlzLnRpbGVTaXplLFxuICAgICAgeTE6IHkgKiB0aGlzLnRpbGVTaXplLFxuICAgICAgeTI6ICh5KzEpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIGluZGV4WDogeCwgaW5kZXhZOiB5LFxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBzZWFyY2hCeVBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSA6IFJlc29sdmVkVGlsZSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QnlJbmRleCh0aGlzLnRvSW5kZXgoeCksIHRoaXMudG9JbmRleCh5KSk7XG4gIH1cbiAgc2VhcmNoQnlSYW5nZSh4MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MTogbnVtYmVyLCB5MjogbnVtYmVyKSA6IFJlc29sdmVkVGlsZVtdIHtcbiAgICBjb25zdCBtYXRjaGVzOiBSZXNvbHZlZFRpbGVbXSA9IFtdO1xuICAgIHRoaXMudG9JbmRleFJhbmdlKHgxLCB4MikuZm9yRWFjaCh4ID0+IHtcbiAgICAgIHRoaXMudG9JbmRleFJhbmdlKHkxLCB5MikuZm9yRWFjaCh5ID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLmdldEJ5SW5kZXgoeCwgeSk7XG4gICAgICAgIGlmKCFtYXRjaCkgcmV0dXJuO1xuICAgICAgICBtYXRjaGVzLnB1c2gobWF0Y2gpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGNoZXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZUNvbGxpZGVyIHtcbiAgcHVibGljIHJlc29sdmVyczogVGlsZVJlc29sdmVyW10gPSBbXTtcblxuICBhZGRHcmlkKHRpbGVNYXRyaXg6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPil7XG4gICAgdGhpcy5yZXNvbHZlcnMucHVzaChuZXcgVGlsZVJlc29sdmVyKHRpbGVNYXRyaXgpKTtcbiAgfVxuXG4gIGNoZWNrWChlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBpZihlbnRpdHkudmVsLnggPT09IDApIHJldHVybjtcbiAgICBsZXQgeCA9IGVudGl0eS5ib3VuZHMubGVmdCArIChlbnRpdHkudmVsLnggPiAwID8gZW50aXR5LnNpemUueCA6IDApO1xuXG4gICAgZm9yKGNvbnN0IHJlc29sdmVyIG9mIHRoaXMucmVzb2x2ZXJzKXtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSByZXNvbHZlci5zZWFyY2hCeVJhbmdlKFxuICAgICAgICB4LCB4LFxuICAgICAgICBlbnRpdHkuYm91bmRzLnRvcCwgZW50aXR5LmJvdW5kcy5ib3R0b21cbiAgICAgICk7XG5cbiAgICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PntcbiAgICAgICAgdGhpcy5oYW5kbGUoMCwgeyBlbnRpdHksIG1hdGNoLCByZXNvbHZlciwgZ2FtZUNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjaGVja1koZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgaWYoZW50aXR5LnZlbC55ID09PSAwKSByZXR1cm47XG4gICAgbGV0IHkgPSBlbnRpdHkuYm91bmRzLnRvcCArIChlbnRpdHkudmVsLnkgPiAwID8gZW50aXR5LnNpemUueSA6IDApO1xuICBcbiAgICBmb3IoY29uc3QgcmVzb2x2ZXIgb2YgdGhpcy5yZXNvbHZlcnMpe1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IHJlc29sdmVyLnNlYXJjaEJ5UmFuZ2UoXG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCwgZW50aXR5LmJvdW5kcy5yaWdodCwgXG4gICAgICAgIHksIHlcbiAgICAgICk7XG5cbiAgICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PntcbiAgICAgICAgdGhpcy5oYW5kbGUoMSwgeyBlbnRpdHksIG1hdGNoLCByZXNvbHZlciwgZ2FtZUNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZShpbmRleDogbnVtYmVyLCB0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1t0aWxlQ29sbGlzaW9uQ29udGV4dC5tYXRjaC50aWxlLnR5cGVdO1xuICAgIGlmKCFoYW5kbGVyIHx8ICFoYW5kbGVyW2luZGV4XSkgcmV0dXJuO1xuICAgIGhhbmRsZXJbaW5kZXhdKHRpbGVDb2xsaXNpb25Db250ZXh0KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVyIHtcbiAgcHVibGljIHVwZGF0ZTogKGR0OiBudW1iZXIpID0+IHZvaWQ7XG4gIHByaXZhdGUgdXBkYXRlUHJveHk6IChkdDogbnVtYmVyKSA9PiB2b2lkO1xuICBwcml2YXRlIHJ1bm5pbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29uc3RydWN0b3IoZGVsdGFUaW1lOiBudW1iZXIgPSAxLzYwKXtcbiAgICBsZXQgYWNjdW11bGF0ZWRUaW1lID0gMCwgbGFzdFRpbWU6IG51bWJlciA9IG51bGw7XG5cbiAgICB0aGlzLnVwZGF0ZVByb3h5ID0gKHRpbWU6IG51bWJlciA9IDApID0+IHtcbiAgICAgIGlmKGxhc3RUaW1lKXtcbiAgICAgICAgYWNjdW11bGF0ZWRUaW1lICs9ICh0aW1lIC0gbGFzdFRpbWUpIC8gMTAwMDtcblxuICAgICAgICBpZihhY2N1bXVsYXRlZFRpbWUgPiAxKSBhY2N1bXVsYXRlZFRpbWUgPSAxO1xuICAgIFxuICAgICAgICB3aGlsZShhY2N1bXVsYXRlZFRpbWUgPiBkZWx0YVRpbWUpe1xuICAgICAgICAgIHRoaXMudXBkYXRlKGRlbHRhVGltZSlcbiAgICAgICAgICBhY2N1bXVsYXRlZFRpbWUgLT0gZGVsdGFUaW1lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxhc3RUaW1lID0gdGltZTtcblxuICAgICAgdGhpcy5lbnF1ZXVlKCk7XG4gICAgfVxuICB9XG4gIGVucXVldWUoKXtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVQcm94eSk7XG4gIH1cbiAgc3RhcnQoKXtcbiAgICBpZih0aGlzLnJ1bm5pbmcpIHJldHVybjtcbiAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgIHRoaXMuZW5xdWV1ZSgpO1xuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFuaW0oZnJhbWVzOiBzdHJpbmdbXSwgZnJhbWVMZW46IG51bWJlcil7XG4gIHJldHVybiBmdW5jdGlvbiByZXNvbHZlRnJhbWUoZGlzdGFuY2U6IG51bWJlcil7XG4gICAgcmV0dXJuIGZyYW1lc1tNYXRoLmZsb29yKGRpc3RhbmNlIC8gZnJhbWVMZW4pICUgZnJhbWVzLmxlbmd0aF07XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8sIHsgbG9hZE1hcmlvIH0gZnJvbSAnLi9lbnRpdGllcy9NYXJpbyc7XG5pbXBvcnQgR29vbWJhLCB7IGxvYWRHb29tYmEgfSBmcm9tICcuL2VudGl0aWVzL0dvb21iYSc7XG5pbXBvcnQgS29vcGEsIHsgbG9hZEtvb3BhIH0gZnJvbSAnLi9lbnRpdGllcy9Lb29wYSc7XG5pbXBvcnQgRW50aXR5IGZyb20gJy4vRW50aXR5JztcbmltcG9ydCBCdWxsZXQsIHsgbG9hZEJ1bGxldCB9IGZyb20gJy4vZW50aXRpZXMvQnVsbGV0JztcbmltcG9ydCBDYW5ub24sIHsgbG9hZENhbm5vbiB9IGZyb20gJy4vZW50aXRpZXMvQ2Fubm9uJztcblxuZXhwb3J0IHR5cGUgRW50aXR5Q3JlYXRvcjxUIGV4dGVuZHMgRW50aXR5PiA9ICgpID0+IFQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5RmFjdG9yeSB7XG4gIFtrZXk6IHN0cmluZ106IEVudGl0eUNyZWF0b3I8RW50aXR5PjtcbiAgbWFyaW8/OiBFbnRpdHlDcmVhdG9yPE1hcmlvPixcbiAgZ29vbWJhPzogRW50aXR5Q3JlYXRvcjxHb29tYmE+LFxuICBrb29wYT86IEVudGl0eUNyZWF0b3I8S29vcGE+LFxuICBidWxsZXQ/OiBFbnRpdHlDcmVhdG9yPEJ1bGxldD4sXG4gIGNhbm5vbj86IEVudGl0eUNyZWF0b3I8Q2Fubm9uPixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRFbnRpdGllcyhhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEVudGl0eUZhY3Rvcnk+IHtcbiAgY29uc3QgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSA9IHt9O1xuXG4gIGZ1bmN0aW9uIGFkZEFzKG5hbWU6IHN0cmluZyl7XG4gICAgcmV0dXJuIChmYWN0b3J5OiBFbnRpdHlDcmVhdG9yPEVudGl0eT4pID0+IGVudGl0eUZhY3RvcnlbbmFtZV0gPSBmYWN0b3J5O1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICBsb2FkTWFyaW8oYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdtYXJpbycpKSxcbiAgICBsb2FkR29vbWJhKGF1ZGlvQ29udGV4dCkudGhlbihhZGRBcygnZ29vbWJhJykpLFxuICAgIGxvYWRLb29wYShhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ2tvb3BhJykpLFxuICAgIGxvYWRCdWxsZXQoYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdidWxsZXQnKSksXG4gICAgbG9hZENhbm5vbihhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ2Nhbm5vbicpKSxcbiAgXSlcbiAgLnRoZW4oKCkgPT4gZW50aXR5RmFjdG9yeSk7XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVycy9zcHJpdGVcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBHcmF2aXR5IGZyb20gXCIuLi90cmFpdHMvR3Jhdml0eVwiO1xuaW1wb3J0IEtpbGxhYmxlIGZyb20gXCIuLi90cmFpdHMvS2lsbGFibGVcIjtcbmltcG9ydCBQaHlzaWNzIGZyb20gXCIuLi90cmFpdHMvUGh5c2ljc1wiO1xuaW1wb3J0IFNvbGlkIGZyb20gXCIuLi90cmFpdHMvU29saWRcIjtcbmltcG9ydCBTdG9tcGVyIGZyb20gXCIuLi90cmFpdHMvU3RvbXBlclwiO1xuaW1wb3J0IFZlbG9jaXR5IGZyb20gXCIuLi90cmFpdHMvVmVsb2NpdHlcIjtcbmltcG9ydCBNYXJpbyBmcm9tIFwiLi9NYXJpb1wiO1xuXG5jbGFzcyBCZWhhdmlvciBleHRlbmRzIFRyYWl0IHtcbiAgcHJpdmF0ZSBncmF2aXR5OiBHcmF2aXR5ID0gbmV3IEdyYXZpdHkoKTtcblxuICBjb2xsaWRlcyh1czogRW50aXR5LCB0aGVtOiBFbnRpdHkpOiB2b2lkIHtcbiAgICBjb25zdCBzdG9tcGVyID0gdGhlbS5nZXRUcmFpdCgnc3RvbXBlcicpO1xuICAgIGlmKHVzIGluc3RhbmNlb2YgQnVsbGV0ICYmICF1cy5raWxsYWJsZS5kZWFkICYmIHN0b21wZXIgaW5zdGFuY2VvZiBTdG9tcGVyKXtcbiAgICAgIGlmKHRoZW0udmVsLnkgPiB1cy52ZWwueSl7XG4gICAgICAgIHVzLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgICAgdXMudmVsLnNldCgxMDAsIC0yMDApO1xuICAgICAgfWVsc2UgaWYodGhlbSBpbnN0YW5jZW9mIE1hcmlvKXtcbiAgICAgICAgdGhlbS5raWxsYWJsZS5raWxsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBpZighKGVudGl0eSBpbnN0YW5jZW9mIEJ1bGxldCkpIHJldHVybjtcbiAgICBpZihlbnRpdHkua2lsbGFibGUuZGVhZCl7XG4gICAgICB0aGlzLmdyYXZpdHkudXBkYXRlKGVudGl0eSwgZ2FtZUNvbnRleHQpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXQgZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgdmVsb2NpdHk6IFZlbG9jaXR5O1xuICBwdWJsaWMgYmVoYXZpb3I6IEJlaGF2aW9yO1xuICBwdWJsaWMga2lsbGFibGU6IEtpbGxhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZFRyYWl0KCd2ZWxvY2l0eScsIHRoaXMudmVsb2NpdHkgPSBuZXcgVmVsb2NpdHkoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnYnVsbGV0JywgdGhpcy5iZWhhdmlvciA9IG5ldyBCZWhhdmlvcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQnVsbGV0RmFjdG9yeSA9ICgpID0+IEJ1bGxldDtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRCdWxsZXQoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxCdWxsZXRGYWN0b3J5PiB7XG4gIHJldHVybiBsb2FkU3ByaXRlU2hlZXQoJ2J1bGxldCcpXG4gIC50aGVuKGNyZWF0ZUJ1bGxldEZhY3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWxsZXRGYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0KSA6IEJ1bGxldEZhY3Rvcnkge1xuICBmdW5jdGlvbiBkcmF3QnVsbGV0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBzcHJpdGVzLmRyYXcoJ2J1bGxldCcsIGN0eCwgMCwgMCwgdGhpcy52ZWwueCA8IDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQnVsbGV0KCl7XG4gICAgY29uc3QgYnVsbGV0ID0gbmV3IEJ1bGxldCgpO1xuICAgIGJ1bGxldC5zaXplLnNldCgxNiwgMTYpO1xuXG4gICAgYnVsbGV0LmRyYXcgPSBkcmF3QnVsbGV0O1xuXG4gICAgcmV0dXJuIGJ1bGxldDtcbiAgfVxufSIsImltcG9ydCBBdWRpb0JvYXJkIGZyb20gXCIuLi9BdWRpb0JvYXJkXCI7XG5pbXBvcnQgeyBFbnRpdHlGYWN0b3J5IH0gZnJvbSBcIi4uL2VudGl0aWVzXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCwgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZEF1ZGlvQm9hcmQgfSBmcm9tIFwiLi4vbG9hZGVycy9hdWRpb1wiO1xuaW1wb3J0IHsgZmluZFBsYXllcnMgfSBmcm9tIFwiLi4vcGxheWVyXCI7XG5pbXBvcnQgRW1pdHRlciBmcm9tIFwiLi4vdHJhaXRzL0VtaXR0ZXJcIjtcblxuY29uc3QgSE9MRF9GSVJFX1RIUkVTSE9MRCA9IDMwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW5ub24gZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgZW1pdHRlcjogRW1pdHRlcjtcblxuICBjb25zdHJ1Y3RvcihhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKXtcbiAgICBzdXBlcihhdWRpb0JvYXJkKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdlbWl0dGVyJywgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKSk7XG4gICAgdGhpcy5zaXplLnNldCgxNiwgMTQpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIENhbm5vbkZhY3RvcnkgPSAoKSA9PiBDYW5ub247XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ2Fubm9uKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8Q2Fubm9uRmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZEF1ZGlvQm9hcmQoJ2Nhbm5vbicsIGF1ZGlvQ29udGV4dClcbiAgLnRoZW4oYXVkaW8gPT4ge1xuICAgIHJldHVybiBjcmVhdGVDYW5ub25GYWN0b3J5KGF1ZGlvKTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlQ2Fubm9uRmFjdG9yeShhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKSA6IENhbm5vbkZhY3Rvcnkge1xuICBmdW5jdGlvbiBlbWl0QnVsbGV0KGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQsIGxldmVsOiBMZXZlbCl7XG4gICAgaWYoIShlbnRpdHkgaW5zdGFuY2VvZiBDYW5ub24pKSByZXR1cm47XG5cbiAgICBsZXQgZGlyO1xuICAgIGZvcihjb25zdCBwbGF5ZXIgb2YgZmluZFBsYXllcnMobGV2ZWwpKXtcbiAgICAgIGRpciA9IHBsYXllci5wb3MueCAtIGVudGl0eS5wb3MueDtcbiAgICAgIGlmKE1hdGguYWJzKHBsYXllci5wb3MueCAtIGVudGl0eS5wb3MueCkgPD0gSE9MRF9GSVJFX1RIUkVTSE9MRCl7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBidWxsZXQgPSBnYW1lQ29udGV4dC5lbnRpdHlGYWN0b3J5LmJ1bGxldCgpO1xuICAgIGJ1bGxldC5wb3MuY29weShlbnRpdHkucG9zKTtcbiAgICBidWxsZXQudmVsLnggPSA4MCAqIE1hdGguc2lnbihkaXIpO1xuXG4gICAgZW50aXR5LnNvdW5kcy5hZGQoJ3Nob290Jyk7XG4gICAgbGV2ZWwuZW50aXRpZXMuYWRkKGJ1bGxldCk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQ2Fubm9uKCl7XG4gICAgY29uc3QgY2Fubm9uID0gbmV3IENhbm5vbihhdWRpb0JvYXJkKTtcblxuICAgIGNhbm5vbi5lbWl0dGVyLmludGVydmFsID0gNDtcbiAgICBjYW5ub24uZW1pdHRlci5lbWl0dGVycy5wdXNoKGVtaXRCdWxsZXQpO1xuXG4gICAgcmV0dXJuIGNhbm5vbjtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVycy9zcHJpdGVcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGVuZHVsdW1Nb3ZlIGZyb20gXCIuLi90cmFpdHMvUGVuZHVsdW1Nb3ZlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcbmltcG9ydCBNYXJpbyBmcm9tIFwiLi9NYXJpb1wiO1xuXG5jbGFzcyBCZWhhdmlvciBleHRlbmRzIFRyYWl0IHtcbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KTogdm9pZCB7XG4gICAgY29uc3Qgc3RvbXBlciA9IHRoZW0uZ2V0VHJhaXQoJ3N0b21wZXInKTtcbiAgICBpZih1cyBpbnN0YW5jZW9mIEdvb21iYSAmJiAhdXMua2lsbGFibGUuZGVhZCAmJiBzdG9tcGVyIGluc3RhbmNlb2YgU3RvbXBlcil7XG4gICAgICBpZih0aGVtLnZlbC55ID4gdXMudmVsLnkpe1xuICAgICAgICB1cy5raWxsYWJsZS5raWxsKCk7XG4gICAgICAgIHVzLnBlbmR1bHVtTW92ZS5zcGVlZCA9IDA7XG4gICAgICB9ZWxzZSBpZih0aGVtIGluc3RhbmNlb2YgTWFyaW8pe1xuICAgICAgICB0aGVtLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29vbWJhIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHBoeXNpY3M6IFBoeXNpY3M7XG4gIHB1YmxpYyBzb2xpZDogU29saWQ7XG4gIHB1YmxpYyBwZW5kdWx1bU1vdmU6IFBlbmR1bHVtTW92ZTtcbiAgcHVibGljIGJlaGF2aW9yOiBCZWhhdmlvcjtcbiAgcHVibGljIGtpbGxhYmxlOiBLaWxsYWJsZTtcblxuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGh5c2ljcycsIHRoaXMucGh5c2ljcyA9IG5ldyBQaHlzaWNzKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3NvbGlkJywgdGhpcy5zb2xpZCA9IG5ldyBTb2xpZCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwZW5kdWx1bU1vdmUnLCB0aGlzLnBlbmR1bHVtTW92ZSA9IG5ldyBQZW5kdWx1bU1vdmUoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnZ29vbWJhJywgdGhpcy5iZWhhdmlvciA9IG5ldyBCZWhhdmlvcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgR29vbWJhRmFjdG9yeSA9ICgpID0+IEdvb21iYTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRHb29tYmEoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxHb29tYmFGYWN0b3J5PiB7XG4gIHJldHVybiBsb2FkU3ByaXRlU2hlZXQoJ2dvb21iYScpXG4gIC50aGVuKGNyZWF0ZUdvb21iYUZhY3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVHb29tYmFGYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0KSA6IEdvb21iYUZhY3Rvcnkge1xuICBjb25zdCB3YWxrQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCd3YWxrJyk7XG5cbiAgZnVuY3Rpb24gcm91dGVBbmltKGdvb21iYTogR29vbWJhKSA6IHN0cmluZyB7XG4gICAgaWYoZ29vbWJhLmtpbGxhYmxlLmRlYWQpe1xuICAgICAgcmV0dXJuICdmbGF0JztcbiAgICB9XG4gICAgcmV0dXJuIHdhbGtBbmltKGdvb21iYS5saWZldGltZSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3R29vbWJhKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBzcHJpdGVzLmRyYXcocm91dGVBbmltKHRoaXMpLCBjdHgsIDAsIDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlR29vbWJhKCl7XG4gICAgY29uc3QgZ29vbWJhID0gbmV3IEdvb21iYSgpO1xuICAgIGdvb21iYS5zaXplLnNldCgxNiwgMTYpO1xuXG4gICAgZ29vbWJhLmRyYXcgPSBkcmF3R29vbWJhO1xuXG4gICAgcmV0dXJuIGdvb21iYTtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnMvc3ByaXRlXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4uL3RyYWl0cy9LaWxsYWJsZVwiO1xuaW1wb3J0IFBlbmR1bHVtTW92ZSBmcm9tIFwiLi4vdHJhaXRzL1BlbmR1bHVtTW92ZVwiO1xuaW1wb3J0IFBoeXNpY3MgZnJvbSBcIi4uL3RyYWl0cy9QaHlzaWNzXCI7XG5pbXBvcnQgU29saWQgZnJvbSBcIi4uL3RyYWl0cy9Tb2xpZFwiO1xuaW1wb3J0IFN0b21wZXIgZnJvbSBcIi4uL3RyYWl0cy9TdG9tcGVyXCI7XG5pbXBvcnQgTWFyaW8gZnJvbSBcIi4vTWFyaW9cIjtcblxuZW51bSBLb29wYVN0YXRlIHtcbiAgV0FMS0lORywgSElESU5HLCBQQU5JQyxcbn1cblxuY2xhc3MgQmVoYXZpb3IgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBzdGF0ZTogS29vcGFTdGF0ZSA9IEtvb3BhU3RhdGUuV0FMS0lORztcbiAgcHVibGljIGhpZGVUaW1lOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGhpZGVEdXJhdGlvbjogbnVtYmVyID0gNTtcbiAgcHJpdmF0ZSBwYW5pY1NwZWVkOiBudW1iZXIgPSAzMDA7XG4gIHByaXZhdGUgd2Fsa1NwZWVkOiBudW1iZXIgPSBudWxsO1xuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IHN0b21wZXIgPSB0aGVtLmdldFRyYWl0KCdzdG9tcGVyJyk7XG4gICAgaWYodXMgaW5zdGFuY2VvZiBLb29wYSAmJiAhdXMua2lsbGFibGUuZGVhZCAmJiBzdG9tcGVyIGluc3RhbmNlb2YgU3RvbXBlcil7XG4gICAgICBpZih0aGVtLnZlbC55ID4gdXMudmVsLnkpe1xuICAgICAgICB0aGlzLmhhbmRsZVN0b21wKHVzLCB0aGVtKTtcbiAgICAgIH1lbHNlIGlmKHRoZW0gaW5zdGFuY2VvZiBNYXJpbyl7XG4gICAgICAgIHRoaXMuaGFuZGxlTnVkZ2UodXMsIHRoZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU51ZGdlKHVzOiBLb29wYSwgdGhlbTogTWFyaW8pe1xuICAgIHN3aXRjaCh0aGlzLnN0YXRlKXtcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5XQUxLSU5HOiB0aGVtLmtpbGxhYmxlLmtpbGwoKTsgYnJlYWs7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuSElESU5HOiB0aGlzLnBhbmljKHVzLCB0aGVtKTsgYnJlYWs7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuUEFOSUM6IHtcbiAgICAgICAgY29uc3QgdHJhdmVsRGlyID0gTWF0aC5zaWduKHVzLnZlbC54KTtcbiAgICAgICAgY29uc3QgaW1wYWN0RGlyID0gTWF0aC5zaWduKHVzLnBvcy54IC0gdGhlbS5wb3MueCk7XG4gICAgICAgIGlmKHRyYXZlbERpciAhPT0gMCAmJiB0cmF2ZWxEaXIgIT09IGltcGFjdERpcil7XG4gICAgICAgICAgdGhlbS5raWxsYWJsZS5raWxsKCk7XG4gICAgICAgIH1cbiAgICAgIH0gYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU3RvbXAodXM6IEtvb3BhLCB0aGVtOiBFbnRpdHkpe1xuICAgIHN3aXRjaCh0aGlzLnN0YXRlKXtcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5XQUxLSU5HOiB0aGlzLmhpZGUodXMpOyBicmVhaztcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5ISURJTkc6IHtcbiAgICAgICAgdXMua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB1cy52ZWwuc2V0KDEwMCwgLTIwMCk7XG4gICAgICAgIHVzLnNvbGlkLm9ic3RydWN0cyA9IGZhbHNlO1xuICAgICAgfSBicmVhaztcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5QQU5JQzogdGhpcy5oaWRlKHVzKTsgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaGlkZSh1czogS29vcGEpe1xuICAgIHVzLnZlbC54ID0gMDtcbiAgICB1cy5wZW5kdWx1bU1vdmUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIGlmKCF0aGlzLndhbGtTcGVlZCkgdGhpcy53YWxrU3BlZWQgPSB1cy5wZW5kdWx1bU1vdmUuc3BlZWQ7XG4gICAgdGhpcy5zdGF0ZSA9IEtvb3BhU3RhdGUuSElESU5HO1xuICAgIHRoaXMuaGlkZVRpbWUgPSAwO1xuICB9XG5cbiAgcGFuaWModXM6IEtvb3BhLCB0aGVtOiBFbnRpdHkpe1xuICAgIHVzLnBlbmR1bHVtTW92ZS5lbmFibGVkID0gdHJ1ZTtcbiAgICB1cy5wZW5kdWx1bU1vdmUuc3BlZWQgPSB0aGlzLnBhbmljU3BlZWQgKiBNYXRoLnNpZ24odGhlbS52ZWwueCk7XG4gICAgdGhpcy5zdGF0ZSA9IEtvb3BhU3RhdGUuUEFOSUM7XG4gIH1cblxuICB1bmhpZGUodXM6IEtvb3BhKXtcbiAgICB1cy5wZW5kdWx1bU1vdmUuZW5hYmxlZCA9IHRydWU7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLnNwZWVkID0gdGhpcy53YWxrU3BlZWQ7XG4gICAgdGhpcy5zdGF0ZSA9IEtvb3BhU3RhdGUuV0FMS0lORztcbiAgfVxuXG4gIHVwZGF0ZSh1czogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcblxuICAgIGlmKCEodXMgaW5zdGFuY2VvZiBLb29wYSkpIHJldHVybjtcbiAgICBpZih0aGlzLnN0YXRlID09PSBLb29wYVN0YXRlLkhJRElORyl7XG4gICAgICB0aGlzLmhpZGVUaW1lICs9IGR0O1xuICAgICAgaWYodGhpcy5oaWRlVGltZSA+IHRoaXMuaGlkZUR1cmF0aW9uKXtcbiAgICAgICAgdGhpcy51bmhpZGUodXMgYXMgS29vcGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLb29wYSBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyBwaHlzaWNzOiBQaHlzaWNzO1xuICBwdWJsaWMgc29saWQ6IFNvbGlkO1xuICBwdWJsaWMgcGVuZHVsdW1Nb3ZlOiBQZW5kdWx1bU1vdmU7XG4gIHB1YmxpYyBiZWhhdmlvcjogQmVoYXZpb3I7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BoeXNpY3MnLCB0aGlzLnBoeXNpY3MgPSBuZXcgUGh5c2ljcygpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdzb2xpZCcsIHRoaXMuc29saWQgPSBuZXcgU29saWQoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGVuZHVsdW1Nb3ZlJywgdGhpcy5wZW5kdWx1bU1vdmUgPSBuZXcgUGVuZHVsdW1Nb3ZlKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2dvb21iYScsIHRoaXMuYmVoYXZpb3IgPSBuZXcgQmVoYXZpb3IoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgna2lsbGFibGUnLCB0aGlzLmtpbGxhYmxlID0gbmV3IEtpbGxhYmxlKCkpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEtvb3BhRmFjdG9yeSA9ICgpID0+IEtvb3BhO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEtvb3BhKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8S29vcGFGYWN0b3J5PiB7XG4gIHJldHVybiBsb2FkU3ByaXRlU2hlZXQoJ2tvb3BhJylcbiAgLnRoZW4oY3JlYXRlS29vcGFGYWN0b3J5KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS29vcGFGYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0KSA6IEtvb3BhRmFjdG9yeSB7XG4gIGNvbnN0IHdhbGtBbmltID0gc3ByaXRlcy5nZXRBbmltYXRpb24oJ3dhbGsnKTtcbiAgY29uc3Qgd2FrZUFuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbignd2FrZScpO1xuXG4gIGZ1bmN0aW9uIHJvdXRlQW5pbShrb29wYTogS29vcGEpe1xuICAgIHN3aXRjaChrb29wYS5iZWhhdmlvci5zdGF0ZSl7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuSElESU5HOiB7XG4gICAgICAgIGlmKGtvb3BhLmJlaGF2aW9yLmhpZGVUaW1lID4gMykgcmV0dXJuIHdha2VBbmltKGtvb3BhLmxpZmV0aW1lKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5QQU5JQzogcmV0dXJuICdoaWRpbmcnO1xuICAgICAgZGVmYXVsdDogcmV0dXJuIHdhbGtBbmltKGtvb3BhLmxpZmV0aW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3S29vcGEoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdyhyb3V0ZUFuaW0odGhpcyksIGN0eCwgMCwgMCwgdGhpcy52ZWwueCA8IDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlS29vcGEoKXtcbiAgICBjb25zdCBrb29wYSA9IG5ldyBLb29wYSgpO1xuICAgIGtvb3BhLnNpemUuc2V0KDE2LCAxNik7XG4gICAga29vcGEub2Zmc2V0LnkgPSA4O1xuXG4gICAga29vcGEuZHJhdyA9IGRyYXdLb29wYTtcblxuICAgIHJldHVybiBrb29wYTtcbiAgfVxufSIsImltcG9ydCBBdWRpb0JvYXJkIGZyb20gXCIuLi9BdWRpb0JvYXJkXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IGxvYWRBdWRpb0JvYXJkIH0gZnJvbSBcIi4uL2xvYWRlcnMvYXVkaW9cIjtcbmltcG9ydCB7IGxvYWRTcHJpdGVTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL3Nwcml0ZVwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IEdvIGZyb20gXCIuLi90cmFpdHMvR29cIjtcbmltcG9ydCBKdW1wIGZyb20gXCIuLi90cmFpdHMvSnVtcFwiO1xuaW1wb3J0IEtpbGxhYmxlIGZyb20gXCIuLi90cmFpdHMvS2lsbGFibGVcIjtcbmltcG9ydCBQaHlzaWNzIGZyb20gXCIuLi90cmFpdHMvUGh5c2ljc1wiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vdHJhaXRzL1BsYXllclwiO1xuaW1wb3J0IFNvbGlkIGZyb20gXCIuLi90cmFpdHMvU29saWRcIjtcbmltcG9ydCBTdG9tcGVyIGZyb20gXCIuLi90cmFpdHMvU3RvbXBlclwiO1xuXG5jb25zdCBlbnVtIERyYWcge1xuICBTTE9XID0gMS8xMDAwLFxuICBGQVNUID0gMS81MDAwLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFyaW8gZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgcGxheWVyOiBQbGF5ZXI7XG4gIHB1YmxpYyBwaHlzaWNzOiBQaHlzaWNzO1xuICBwdWJsaWMgc29saWQ6IFNvbGlkO1xuICBwdWJsaWMgZ286IEdvO1xuICBwdWJsaWMganVtcDogSnVtcDtcbiAgcHVibGljIHN0b21wZXI6IFN0b21wZXI7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZCl7XG4gICAgc3VwZXIoYXVkaW9Cb2FyZCk7XG4gICAgdGhpcy5zaXplLnNldCgxNCwgMTYpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BsYXllcicsIHRoaXMucGxheWVyID0gbmV3IFBsYXllcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwaHlzaWNzJywgdGhpcy5waHlzaWNzID0gbmV3IFBoeXNpY3MoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnc29saWQnLCB0aGlzLnNvbGlkID0gbmV3IFNvbGlkKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2dvJywgdGhpcy5nbyA9IG5ldyBHbygpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdqdW1wJywgdGhpcy5qdW1wID0gbmV3IEp1bXAoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnc3RvbXBlcicsIHRoaXMuc3RvbXBlciA9IG5ldyBTdG9tcGVyKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2tpbGxhYmxlJywgdGhpcy5raWxsYWJsZSA9IG5ldyBLaWxsYWJsZSgpKTtcbiAgICB0aGlzLmdvLmRyYWcgPSBEcmFnLlNMT1c7XG4gIH1cblxuICB0dXJibyhlbmFibGVkOiBib29sZWFuKXtcbiAgICB0aGlzLmdvLmRyYWcgPSBlbmFibGVkID8gRHJhZy5GQVNUIDogRHJhZy5TTE9XO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIE1hcmlvRmFjdG9yeSA9ICgpID0+IE1hcmlvO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZE1hcmlvKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8TWFyaW9GYWN0b3J5PiB7XG4gIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgbG9hZFNwcml0ZVNoZWV0KCdtYXJpbycpLFxuICAgIGxvYWRBdWRpb0JvYXJkKCdtYXJpbycsIGF1ZGlvQ29udGV4dCksXG4gIF0pXG4gIC50aGVuKChbc3ByaXRlcywgYXVkaW9dKSA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZU1hcmlvRmFjdG9yeShzcHJpdGVzLCBhdWRpbyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXJpb0ZhY3Rvcnkoc3ByaXRlczogU3ByaXRlU2hlZXQsIGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQpIDogTWFyaW9GYWN0b3J5IHtcbiAgY29uc3QgcnVuQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCdydW4nKTtcblxuICBmdW5jdGlvbiByb3V0ZUZyYW1lKG1hcmlvOiBNYXJpbyl7XG4gICAgaWYobWFyaW8uanVtcC5mYWxsaW5nKXtcbiAgICAgIHJldHVybiAnanVtcCc7XG4gICAgfVxuICAgIGlmKG1hcmlvLmdvLmRpc3RhbmNlID4gMCl7XG4gICAgICBpZigobWFyaW8udmVsLnggPiAwICYmIG1hcmlvLmdvLmRpciA8IDApIHx8IChtYXJpby52ZWwueCA8IDAgJiYgbWFyaW8uZ28uZGlyID4gMCkpXG4gICAgICAgIHJldHVybiAnYnJlYWsnO1xuICBcbiAgICAgIHJldHVybiBydW5BbmltKG1hcmlvLmdvLmRpc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuICdpZGxlJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdNYXJpbyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgc3ByaXRlcy5kcmF3KHJvdXRlRnJhbWUodGhpcyksIGN0eCwgMCwgMCwgdGhpcy5nby5oZWFkaW5nIDwgMCk7XG4gIH1cbiAgXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXJpbygpe1xuICAgIGNvbnN0IG1hcmlvID0gbmV3IE1hcmlvKGF1ZGlvQm9hcmQpO1xuXG4gICAgbWFyaW8uZHJhdyA9IGRyYXdNYXJpbztcbiAgICBtYXJpby5raWxsYWJsZS5yZW1vdmVBZnRlciA9IDA7XG5cbiAgICByZXR1cm4gbWFyaW87XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8gZnJvbSAnLi9lbnRpdGllcy9NYXJpbyc7XG5pbXBvcnQgSW5wdXRSb3V0ZXIgZnJvbSAnLi9JbnB1dFJvdXRlcic7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9LZXlib2FyZFN0YXRlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwS2V5Ym9hcmQod2luZG93OiBXaW5kb3cpIDogSW5wdXRSb3V0ZXIge1xuICBjb25zdCBpbnB1dCA9IG5ldyBLZXlib2FyZCgpO1xuICBjb25zdCByb3V0ZXIgPSBuZXcgSW5wdXRSb3V0ZXIoKTtcblxuICBpbnB1dC5saXN0ZW5Ubyh3aW5kb3cpO1xuICBcbiAgaW5wdXQuYWRkTWFwcGluZygnS2V5UCcsIGtleVN0YXRlID0+IHtcbiAgICBpZihrZXlTdGF0ZSl7XG4gICAgICByb3V0ZXIucm91dGUoKGVudGl0eTogTWFyaW8pID0+IGVudGl0eS5qdW1wLnN0YXJ0KCkpO1xuICAgIH1lbHNle1xuICAgICAgcm91dGVyLnJvdXRlKChlbnRpdHk6IE1hcmlvKSA9PiBlbnRpdHkuanVtcC5jYW5jZWwoKSk7XG4gICAgfVxuICB9KTtcbiAgXG4gIGlucHV0LmFkZE1hcHBpbmcoJ0tleU8nLCBrZXlTdGF0ZSA9PiB7XG4gICAgcm91dGVyLnJvdXRlKChlbnRpdHk6IE1hcmlvKSA9PiBlbnRpdHkudHVyYm8oa2V5U3RhdGUgPT09IDEpKTtcbiAgfSk7XG5cbiAgaW5wdXQuYWRkTWFwcGluZygnS2V5QScsIGtleVN0YXRlID0+IHtcbiAgICByb3V0ZXIucm91dGUoKGVudGl0eTogTWFyaW8pID0+IGVudGl0eS5nby5kaXIgKz0ga2V5U3RhdGUgPyAtMSA6IDEpO1xuICB9KTtcbiAgXG4gIGlucHV0LmFkZE1hcHBpbmcoJ0tleUQnLCBrZXlTdGF0ZSA9PiB7XG4gICAgcm91dGVyLnJvdXRlKChlbnRpdHk6IE1hcmlvKSA9PiBlbnRpdHkuZ28uZGlyICs9IGtleVN0YXRlID8gMSA6IC0xKTtcbiAgfSk7XG4gIFxuICByZXR1cm4gcm91dGVyO1xufSIsImltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgTGV2ZWxUaWxlU3BlYyB9IGZyb20gXCIuLi9sb2FkZXJzL2xldmVsXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0aFwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IHsgVGlsZVJlc29sdmVyIH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFja2dyb3VuZExheWVyKGxldmVsOiBMZXZlbCwgdGlsZXM6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPiwgc3ByaXRlczogU3ByaXRlU2hlZXQpIDogTGF5ZXJSZW5kZXJlciB7XG4gIGNvbnN0IHJlc29sdmVyID0gbmV3IFRpbGVSZXNvbHZlcih0aWxlcyk7XG5cbiAgY29uc3QgY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICBjdHguY2FudmFzLndpZHRoID0gMjU2ICsgMTY7XG4gIGN0eC5jYW52YXMuaGVpZ2h0ID0gMjQwO1xuXG4gIGZ1bmN0aW9uIHJlZHJhdyhkcmF3RnJvbTogbnVtYmVyLCBkcmF3VG86IG51bWJlcil7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodCk7XG5cbiAgICBmb3IobGV0IHg9ZHJhd0Zyb207IHg8PWRyYXdUbzsgeCsrKXtcbiAgICAgIGNvbnN0IGNvbCA9IHRpbGVzLmdyaWRbeF07XG4gICAgICBpZighY29sKSBjb250aW51ZTtcbiAgICAgIGNvbC5mb3JFYWNoKCh0aWxlLCB5KT0+e1xuICAgICAgICBzcHJpdGVzLmRyYXdBbmltKHRpbGUubmFtZSwgY3R4LCB4LWRyYXdGcm9tLCB5LCBsZXZlbC50aW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3QmFja2dyb3VuZExheWVyKHNjcmVlbiwgY2FtZXJhKXsgXG4gICAgY29uc3QgZHJhd1dpZHRoID0gcmVzb2x2ZXIudG9JbmRleChjYW1lcmEuc2l6ZS54KTtcbiAgICBjb25zdCBkcmF3RnJvbSA9IHJlc29sdmVyLnRvSW5kZXgoY2FtZXJhLnBvcy54KTtcbiAgICBjb25zdCBkcmF3VG8gPSBkcmF3RnJvbSArIGRyYXdXaWR0aDtcbiAgICByZWRyYXcoZHJhd0Zyb20sIGRyYXdUbyk7XG4gICAgc2NyZWVuLmRyYXdJbWFnZShcbiAgICAgIGN0eC5jYW52YXMsIFxuICAgICAgLWNhbWVyYS5wb3MueCAlIDE2LCBcbiAgICAgIC1jYW1lcmEucG9zLnlcbiAgICApO1xuICB9XG59IiwiaW1wb3J0IENhbWVyYSBmcm9tIFwiLi4vQ2FtZXJhXCI7XG5pbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgVGlsZVJlc29sdmVyIH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5pbnRlcmZhY2UgVmVjMiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH07XG5cbmZ1bmN0aW9uIGNyZWF0ZUVudGl0eUxheWVyKGVudGl0aWVzOiBTZXQ8RW50aXR5Pil7XG4gIHJldHVybiBmdW5jdGlvbiBkcmF3Qm91bmRpbmdCb3goY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgICBlbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgucmVjdChcbiAgICAgICAgZW50aXR5LmJvdW5kcy5sZWZ0IC0gY2FtZXJhLnBvcy54LCBcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AgLSBjYW1lcmEucG9zLnksIFxuICAgICAgICBlbnRpdHkuc2l6ZS54LCBlbnRpdHkuc2l6ZS55XG4gICAgICApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUaWxlQ2FuZGlkYXRlTGF5ZXIodGlsZVJlc29sdmVyOiBUaWxlUmVzb2x2ZXIpe1xuICBjb25zdCByZXNvbHZlZFRpbGVzOiBWZWMyW10gPSBbXTtcblxuICBjb25zdCB0aWxlU2l6ZSA9IHRpbGVSZXNvbHZlci50aWxlU2l6ZTtcblxuICBjb25zdCBnZXRCeUluZGV4T3JpZ2luYWwgPSB0aWxlUmVzb2x2ZXIuZ2V0QnlJbmRleDtcbiAgdGlsZVJlc29sdmVyLmdldEJ5SW5kZXggPSBmdW5jdGlvbiBnZXRCeUluZGV4RmFrZSh4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgcmVzb2x2ZWRUaWxlcy5wdXNoKHt4LCB5fSk7XG4gICAgcmV0dXJuIGdldEJ5SW5kZXhPcmlnaW5hbC5jYWxsKHRpbGVSZXNvbHZlciwgeCwgeSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd1RpbGVDYW5kaWRhdGVzKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW1lcmE6IENhbWVyYSl7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsdWUnO1xuICAgIHJlc29sdmVkVGlsZXMuZm9yRWFjaCgoe3gseX0pID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5yZWN0KFxuICAgICAgICB4KnRpbGVTaXplIC0gY2FtZXJhLnBvcy54LCBcbiAgICAgICAgeSp0aWxlU2l6ZSAtIGNhbWVyYS5wb3MueSwgXG4gICAgICAgIHRpbGVTaXplLCB0aWxlU2l6ZVxuICAgICAgKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9KTtcblxuICAgIHJlc29sdmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgfTtcbn1cbiBcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb2xsaXNpb25MYXllcihsZXZlbDogTGV2ZWwpIDogTGF5ZXJSZW5kZXJlciB7XG4gIGNvbnN0IGRyYXdUaWxlQ2FuZGlkYXRlcyA9IGxldmVsLnRpbGVDb2xsaWRlci5yZXNvbHZlcnMubWFwKGNyZWF0ZVRpbGVDYW5kaWRhdGVMYXllcik7XG4gIGNvbnN0IGRyYXdCb3VuZGluZ0JveGVzID0gY3JlYXRlRW50aXR5TGF5ZXIobGV2ZWwuZW50aXRpZXMpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3Q29sbGlzaW9uKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW1lcmE6IENhbWVyYSl7XG4gICAgZHJhd1RpbGVDYW5kaWRhdGVzLmZvckVhY2goZHJhdyA9PiBkcmF3KGN0eCwgY2FtZXJhKSk7XG4gICAgZHJhd0JvdW5kaW5nQm94ZXMoY3R4LCBjYW1lcmEpO1xuICB9XG59IiwiaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9Db21wb3NpdG9yXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb2xvckxheWVyKGNvbG9yOiBzdHJpbmcpIDogTGF5ZXJSZW5kZXJlciB7XG4gIHJldHVybiBmdW5jdGlvbiBkcmF3RGFzaGJvYXJkKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcbiAgfVxufSIsImltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgRm9udFNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnMvZm9udFwiO1xuaW1wb3J0IHsgZmluZFBsYXllcnMgfSBmcm9tIFwiLi4vcGxheWVyXCI7XG5pbXBvcnQgTGV2ZWxUaW1lciBmcm9tIFwiLi4vdHJhaXRzL0xldmVsVGltZXJcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL3RyYWl0cy9QbGF5ZXJcIjtcblxuZnVuY3Rpb24gZ2V0UGxheWVyVHJhaXQobGV2ZWw6IExldmVsKSA6IFBsYXllciB7XG4gIGZvcihjb25zdCBlbnRpdHkgb2YgZmluZFBsYXllcnMobGV2ZWwpKXtcbiAgICByZXR1cm4gZW50aXR5LmdldFRyYWl0KCdwbGF5ZXInKSBhcyBQbGF5ZXI7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGltZXJUcmFpdChsZXZlbDogTGV2ZWwpIDogTGV2ZWxUaW1lciB7XG4gIGZvcihjb25zdCBlbnRpdHkgb2YgbGV2ZWwuZW50aXRpZXMpe1xuICAgIGNvbnN0IHRyYWl0ID0gZW50aXR5LmdldFRyYWl0KCdsZXZlbFRpbWVyJyk7XG4gICAgaWYodHJhaXQgJiYgdHJhaXQgaW5zdGFuY2VvZiBMZXZlbFRpbWVyKSByZXR1cm4gdHJhaXQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURhc2hib2FyZExheWVyKGZvbnQ6IEZvbnRTaGVldCwgbGV2ZWw6IExldmVsKSA6IExheWVyUmVuZGVyZXIge1xuICBjb25zdCBMSU5FMSA9IGZvbnQuc2l6ZTtcbiAgY29uc3QgTElORTIgPSBmb250LnNpemUgKiAyO1xuXG4gIGNvbnN0IHRpbWVyID0gZ2V0VGltZXJUcmFpdChsZXZlbCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdEYXNoYm9hcmQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllclRyYWl0KGxldmVsKTtcbiAgICBcbiAgICBmb250LmRyYXcocGxheWVyLm5hbWUsIGN0eCwgMTYsIExJTkUxKTtcbiAgICBmb250LmRyYXcocGxheWVyLnNjb3JlLnRvU3RyaW5nKCkucGFkU3RhcnQoNiwgJzAnKSwgY3R4LCAxNiwgTElORTIpO1xuXG4gICAgZm9udC5kcmF3KGBAeCR7cGxheWVyLmNvaW5zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gLCBjdHgsIDk2LCBMSU5FMik7XG5cbiAgICBmb250LmRyYXcoJ1dPUkxEJywgY3R4LCAxNTIsIExJTkUxKTtcbiAgICBmb250LmRyYXcobGV2ZWwubmFtZSwgY3R4LCAxNjAsIExJTkUyKTtcblxuICAgIGZvbnQuZHJhdygnVElNRScsIGN0eCwgMjA4LCBMSU5FMSk7XG4gICAgZm9udC5kcmF3KE1hdGgubWF4KDAsIHRpbWVyLmN1cnJlbnRUaW1lKS50b0ZpeGVkKDApLnBhZFN0YXJ0KDMsICcwJyksIGN0eCwgMjE2LCBMSU5FMik7XG4gIH1cbn0iLCJpbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBNYXJpbyBmcm9tIFwiLi4vZW50aXRpZXMvTWFyaW9cIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IEZvbnRTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL2ZvbnRcIjtcbmltcG9ydCB7IGZpbmRQbGF5ZXJzIH0gZnJvbSBcIi4uL3BsYXllclwiO1xuXG5mdW5jdGlvbiBnZXRQbGF5ZXIobGV2ZWw6IExldmVsKSA6IE1hcmlvIHtcbiAgZm9yKGNvbnN0IGVudGl0eSBvZiBmaW5kUGxheWVycyhsZXZlbCkpe1xuICAgIGlmKGVudGl0eSBpbnN0YW5jZW9mIE1hcmlvKSByZXR1cm4gZW50aXR5O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQbGF5ZXJQcm9ncmVzc0xheWVyKGZvbnQ6IEZvbnRTaGVldCwgbGV2ZWw6IExldmVsKSA6IExheWVyUmVuZGVyZXIge1xuICBjb25zdCBzaXplID0gZm9udC5zaXplO1xuXG4gIGNvbnN0IGJ1ZmZlcjogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgYnVmZmVyLndpZHRoID0gYnVmZmVyLmhlaWdodCA9IDMyO1xuICBjb25zdCBidWZmZXJDdHggPSBidWZmZXIuZ2V0Q29udGV4dCgnMmQnKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd1BsYXllclByb2dyZXNzKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXIobGV2ZWwpO1xuICAgIGZvbnQuZHJhdyhgV09STEQgJHtsZXZlbC5uYW1lfWAsIGN0eCwgc2l6ZSoxMiwgc2l6ZSoxMik7XG5cbiAgICBidWZmZXJDdHguY2xlYXJSZWN0KDAsIDAsIGJ1ZmZlci53aWR0aCwgYnVmZmVyLmhlaWdodCk7XG4gICAgcGxheWVyLmRyYXcoYnVmZmVyQ3R4KTtcbiAgICBjdHguZHJhd0ltYWdlKGJ1ZmZlciwgc2l6ZSoxMiwgc2l6ZSoxNSk7XG5cbiAgICBmb250LmRyYXcoYHggJHtwbGF5ZXIucGxheWVyLmxpdmVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgJyAnKX1gLCBjdHgsIHNpemUqMTYsIHNpemUqMTYpO1xuICB9XG59IiwiaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuLi9FbnRpdHlcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNwcml0ZUxheWVyKGVudGl0aWVzOiBTZXQ8RW50aXR5Piwgd2lkdGg6IG51bWJlciA9IDY0LCBoZWlnaHQ6IG51bWJlciA9IDY0KSA6IExheWVyUmVuZGVyZXIge1xuICBjb25zdCBzcHJpdGVDdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICBzcHJpdGVDdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIHNwcml0ZUN0eC5jYW52YXMud2lkdGggPSB3aWR0aDtcbiAgc3ByaXRlQ3R4LmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdTcHJpdGVMYXllcihjdHgsIGNhbWVyYSl7XG4gICAgZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgc3ByaXRlQ3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIGVudGl0eS5kcmF3KHNwcml0ZUN0eCk7XG5cbiAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIHNwcml0ZUN0eC5jYW52YXMsIFxuICAgICAgICBlbnRpdHkucG9zLnggLSBjYW1lcmEucG9zLngsXG4gICAgICAgIGVudGl0eS5wb3MueSAtIGNhbWVyYS5wb3MueVxuICAgICAgKTtcbiAgICB9KVxuICB9XG59IiwiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZShwYXRoOiBzdHJpbmcpIDogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PntcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLm9ubG9hZCA9ICgpPT5yZXNvbHZlKGltZyk7XG4gICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgaW1nLnNyYyA9IHBhdGg7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEpTT04ocGF0aDogc3RyaW5nKSA6IFByb21pc2U8b2JqZWN0PiB7XG4gIHJldHVybiBmZXRjaChwYXRoKS50aGVuKHJlcz0+cmVzLmpzb24oKSk7XG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4uL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCB7IGxvYWRKU09OIH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcblxudHlwZSBBdWRpb0xvYWRlciA9ICh1cmw6IHN0cmluZykgPT4gUHJvbWlzZTxBdWRpb0J1ZmZlcj47XG5cbmludGVyZmFjZSBBdWRpb1NwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHVybDogc3RyaW5nLFxufVxuaW50ZXJmYWNlIEF1ZGlvU2hlZXRTcGVjIHtcbiAgZng6IEF1ZGlvU3BlY1tdLFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEF1ZGlvQm9hcmQobmFtZTogc3RyaW5nLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEF1ZGlvQm9hcmQ+IHtcbiAgY29uc3QgbG9hZEF1ZGlvID0gY3JlYXRlQXVkaW9Mb2FkZXIoYXVkaW9Db250ZXh0KTtcbiAgY29uc3QgYXVkaW9TaGVldCA9IGF3YWl0IGxvYWRKU09OKGAuL3NvdW5kcy8ke25hbWV9Lmpzb25gKSBhcyBBdWRpb1NoZWV0U3BlYztcbiAgY29uc3QgYXVkaW9Cb2FyZCA9IG5ldyBBdWRpb0JvYXJkKCk7XG4gIGNvbnN0IGpvYnM6IGFueVtdID0gW107XG4gIGF1ZGlvU2hlZXQuZnguZm9yRWFjaCgoeyBuYW1lLCB1cmwgfSkgPT4ge1xuICAgIGpvYnMucHVzaChcbiAgICAgIGxvYWRBdWRpbyh1cmwpXG4gICAgICAudGhlbihidWZmZXIgPT4ge1xuICAgICAgICBhdWRpb0JvYXJkLmFkZChuYW1lLCBidWZmZXIpO1xuICAgICAgfSlcbiAgICApO1xuICB9KTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoam9icyk7XG4gIHJldHVybiBhdWRpb0JvYXJkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXVkaW9Mb2FkZXIoY29udGV4dDogQXVkaW9Db250ZXh0KSA6IEF1ZGlvTG9hZGVyIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGxvYWRBdWRpbyh1cmw6IHN0cmluZykgOiBQcm9taXNlPEF1ZGlvQnVmZmVyPiB7XG4gICAgcmV0dXJuIGZldGNoKHVybClcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgIC50aGVuKGFycmF5QnVmZmVyID0+IHtcbiAgICAgIHJldHVybiBjb250ZXh0LmRlY29kZUF1ZGlvRGF0YShhcnJheUJ1ZmZlcik7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBsb2FkSW1hZ2UgfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuXG5jb25zdCBMRVRURVJTID0gYCAhXCIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXFxcXV5fXFxgYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+YFxuXG5leHBvcnQgY2xhc3MgRm9udFNoZWV0IHtcbiAgcHJpdmF0ZSBzaGVldDogU3ByaXRlU2hlZXQ7XG4gIHB1YmxpYyBzaXplOiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHNoZWV0OiBTcHJpdGVTaGVldCwgc2l6ZTogbnVtYmVyKXtcbiAgICB0aGlzLnNoZWV0ID0gc2hlZXQ7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgfVxuICBkcmF3KHRleHQ6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyKXtcbiAgICBmb3IobGV0IHg9MDsgeDx0ZXh0Lmxlbmd0aDsgeCsrKXtcbiAgICAgIHRoaXMuc2hlZXQuZHJhdyh0ZXh0W3hdLCBjdHgsIG9mZnNldFggKyB4ICogdGhpcy5zaXplLCBvZmZzZXRZKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRGb250KCkgOiBQcm9taXNlPEZvbnRTaGVldD4ge1xuICBjb25zdCBpbWFnZSA9IGF3YWl0IGxvYWRJbWFnZSgnLi9zaGVldHMvZm9udC5wbmcnKVxuICBjb25zdCBzcHJpdGVzID0gbmV3IFNwcml0ZVNoZWV0KGltYWdlKTtcblxuICBjb25zdCBzaXplID0gODtcbiAgZm9yKGxldCBpPTA7IGk8TEVUVEVSUy5sZW5ndGg7IGkrKyl7XG4gICAgY29uc3QgeCA9IChpICYgMTUpICogc2l6ZTtcbiAgICBjb25zdCB5ID0gKGkgPj4gNCkgKiBzaXplO1xuICAgIHNwcml0ZXMuZGVmaW5lKExFVFRFUlNbaV0sIHgsIHksIHNpemUsIHNpemUpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBGb250U2hlZXQoc3ByaXRlcywgc2l6ZSk7XG59IiwiaW1wb3J0IHsgRW50aXR5RmFjdG9yeSB9IGZyb20gXCIuLi9lbnRpdGllc1wiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJzL2JhY2tncm91bmRcIjtcbmltcG9ydCB7IGNyZWF0ZVNwcml0ZUxheWVyIH0gZnJvbSBcIi4uL2xheWVycy9zcHJpdGVcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IGxvYWRKU09OIH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgTGV2ZWxUaW1lciBmcm9tIFwiLi4vdHJhaXRzL0xldmVsVGltZXJcIjtcbmltcG9ydCBUcmlnZ2VyIGZyb20gXCIuLi90cmFpdHMvVHJpZ2dlclwiO1xuaW1wb3J0IHsgbG9hZE11c2ljU2hlZXQgfSBmcm9tIFwiLi9tdXNpY1wiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4vc3ByaXRlXCI7XG5cbnR5cGUgUmFuZ2UgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcj8sIG51bWJlcj9dO1xuZXhwb3J0IHR5cGUgTGV2ZWxUaWxlU3BlYyA9IHtcbiAgbmFtZTogc3RyaW5nLFxuICBwYXR0ZXJuPzogc3RyaW5nLFxuICB0eXBlPzogc3RyaW5nLFxuICByYW5nZXM6IFJhbmdlW10sXG59XG50eXBlIFBhdHRlcm5TcGVjID0ge1xuICB0aWxlczogTGV2ZWxUaWxlU3BlY1tdLFxufVxudHlwZSBQYXR0ZXJuc1NwZWMgPSB7XG4gIFtrZXk6IHN0cmluZ106IFBhdHRlcm5TcGVjLFxufTtcbnR5cGUgTGF5ZXJTcGVjID0ge1xuICB0aWxlczogTGV2ZWxUaWxlU3BlY1tdLFxufVxudHlwZSBFbnRpdHlTcGVjID0ge1xuICBuYW1lOiBzdHJpbmcsXG4gIHBvczogW251bWJlciwgbnVtYmVyXSxcbn1cbmV4cG9ydCB0eXBlIFRyaWdnZXJTcGVjID0ge1xuICB0eXBlOiBzdHJpbmcsXG4gIG5hbWU6IHN0cmluZyxcbiAgcG9zOiBbbnVtYmVyLCBudW1iZXJdLFxufVxudHlwZSBMZXZlbFNwZWMgPSB7XG4gIHNwcml0ZVNoZWV0OiBzdHJpbmcsXG4gIG11c2ljU2hlZXQ6IHN0cmluZyxcbiAgcGF0dGVyblNoZWV0OiBzdHJpbmcsXG4gIGxheWVyczogTGF5ZXJTcGVjW10sXG4gIGVudGl0aWVzOiBFbnRpdHlTcGVjW10sXG4gIHRyaWdnZXJzPzogVHJpZ2dlclNwZWNbXSxcbn1cbnR5cGUgRXhwYW5kZWRUaWxlID0ge1xuICB0aWxlOiBMZXZlbFRpbGVTcGVjLFxuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGltZXIoKSA6IEVudGl0eSB7XG4gIGNvbnN0IHRpbWVyID0gbmV3IEVudGl0eSgpO1xuICB0aW1lci5hZGRUcmFpdCgnbGV2ZWxUaW1lcicsIG5ldyBMZXZlbFRpbWVyKCkpO1xuICByZXR1cm4gdGltZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRyaWdnZXIoKSA6IEVudGl0eSB7XG4gIGNvbnN0IGVudGl0eSA9IG5ldyBFbnRpdHkoKTtcbiAgZW50aXR5LmFkZFRyYWl0KCd0cmlnZ2VyJywgbmV3IFRyaWdnZXIoKSk7XG4gIHJldHVybiBlbnRpdHk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRQYXR0ZXJuKG5hbWU6IHN0cmluZykgOiBQcm9taXNlPFBhdHRlcm5zU3BlYz4ge1xuICByZXR1cm4gYXdhaXQgbG9hZEpTT04oYC4vc3ByaXRlcy9wYXR0ZXJucy8ke25hbWV9Lmpzb25gKSBhcyBQYXR0ZXJuc1NwZWM7XG59XG5cbmZ1bmN0aW9uIHNldHVwQmVoYXZpb3IobGV2ZWw6IExldmVsKXtcbiAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpO1xuICBsZXZlbC5lbnRpdGllcy5hZGQodGltZXIpO1xuXG4gIGxldmVsLmV2ZW50cy5saXN0ZW4oTGV2ZWxUaW1lci5USU1FUl9PS0FZLCAoKSA9PiBsZXZlbC5tdXNpYy5wbGF5VGhlbWUoKSk7XG4gIGxldmVsLmV2ZW50cy5saXN0ZW4oTGV2ZWxUaW1lci5USU1FUl9IVVJSWSwgKCkgPT4gbGV2ZWwubXVzaWMucGxheUh1cnJ5VGhlbWUoKSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwQmFja2dyb3VuZHMobGV2ZWxTcGVjOiBMZXZlbFNwZWMsIGxldmVsOiBMZXZlbCwgc3ByaXRlczogU3ByaXRlU2hlZXQsIHBhdHRlcm5zU3BlYzogUGF0dGVybnNTcGVjKXtcbiAgbGV2ZWxTcGVjLmxheWVycy5mb3JFYWNoKGxheWVyID0+IHtcbiAgICBjb25zdCBncmlkID0gY3JlYXRlR3JpZChsYXllci50aWxlcywgcGF0dGVybnNTcGVjKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kTGF5ZXIgPSBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIobGV2ZWwsIGdyaWQsIHNwcml0ZXMpO1xuICAgIGxldmVsLmNvbXAuYWRkKGJhY2tncm91bmRMYXllcik7XG4gICAgbGV2ZWwudGlsZUNvbGxpZGVyLmFkZEdyaWQoZ3JpZCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cEVudGl0aWVzKGxldmVsU3BlYzogTGV2ZWxTcGVjLCBsZXZlbDogTGV2ZWwsIGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3Rvcnkpe1xuICBsZXZlbFNwZWMuZW50aXRpZXMuZm9yRWFjaCgoe25hbWUsIHBvczogW3gsIHldfSkgPT4ge1xuICAgIGNvbnN0IGNyZWF0ZUVudGl0eSA9IGVudGl0eUZhY3RvcnlbbmFtZV07XG4gICAgY29uc3QgZW50aXR5ID0gY3JlYXRlRW50aXR5KCk7XG4gICAgZW50aXR5LnBvcy5zZXQoeCwgeSk7XG4gICAgbGV2ZWwuZW50aXRpZXMuYWRkKGVudGl0eSk7XG4gIH0pXG5cbiAgY29uc3Qgc3ByaXRlTGF5ZXIgPSBjcmVhdGVTcHJpdGVMYXllcihsZXZlbC5lbnRpdGllcyk7XG4gIGxldmVsLmNvbXAuYWRkKHNwcml0ZUxheWVyKTtcbn1cblxuZnVuY3Rpb24gc2V0dXBUcmlnZ2VycyhsZXZlbFNwZWM6IExldmVsU3BlYywgbGV2ZWw6IExldmVsKXtcbiAgaWYoIWxldmVsU3BlYy50cmlnZ2VycykgcmV0dXJuO1xuICBmb3IoY29uc3QgdHJpZ2dlclNwZWMgb2YgbGV2ZWxTcGVjLnRyaWdnZXJzKXtcbiAgICBjb25zdCBlbnRpdHkgPSBjcmVhdGVUcmlnZ2VyKCk7XG4gICAgY29uc3QgdHJpZ2dlciA9IGVudGl0eS5nZXRUcmFpdCgndHJpZ2dlcicpIGFzIFRyaWdnZXI7XG4gICAgaWYoIXRyaWdnZXIpIGNvbnRpbnVlO1xuICAgIHRyaWdnZXIuY29uZGl0aW9ucy5wdXNoKChlbnRpdHksIHRvdWNoZXMsIGdjLCBsZXZlbCkgPT4ge1xuICAgICAgbGV2ZWwuZXZlbnRzLmVtaXQoTGV2ZWwuVFJJR0dFUiwgdHJpZ2dlclNwZWMsIGVudGl0eSwgdG91Y2hlcyk7XG4gICAgfSk7XG4gICAgZW50aXR5LnBvcy5zZXQoLi4udHJpZ2dlclNwZWMucG9zKTtcbiAgICBlbnRpdHkuc2l6ZS5zZXQoNjQsIDY0KTtcbiAgICBsZXZlbC5lbnRpdGllcy5hZGQoZW50aXR5KTtcbiAgfVxufVxuXG50eXBlIExldmVsTG9hZGVyID0gKG5hbWU6IHN0cmluZykgPT4gUHJvbWlzZTxMZXZlbD47XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGV2ZWxMb2FkZXIoZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSkgOiBMZXZlbExvYWRlciB7XG4gIHJldHVybiBmdW5jdGlvbiBsb2FkTGV2ZWwobmFtZTogc3RyaW5nKSA6IFByb21pc2U8TGV2ZWw+IHtcbiAgICByZXR1cm4gKGxvYWRKU09OKGAuL2xldmVscy8ke25hbWV9Lmpzb25gKSBhcyBQcm9taXNlPExldmVsU3BlYz4pXG4gICAgLnRoZW4obGV2ZWxTcGVjID0+IFByb21pc2UuYWxsKFtcbiAgICAgIGxldmVsU3BlYyxcbiAgICAgIGxvYWRTcHJpdGVTaGVldChsZXZlbFNwZWMuc3ByaXRlU2hlZXQpLFxuICAgICAgbG9hZE11c2ljU2hlZXQobGV2ZWxTcGVjLm11c2ljU2hlZXQpLFxuICAgICAgbG9hZFBhdHRlcm4obGV2ZWxTcGVjLnBhdHRlcm5TaGVldCksXG4gICAgXSkpXG4gICAgLnRoZW4oKFtsZXZlbFNwZWMsIHNwcml0ZXMsIG11c2ljUGxheWVyLCBwYXR0ZXJuU3BlY10pID0+IHtcbiAgICAgIGNvbnN0IGxldmVsID0gbmV3IExldmVsKCk7XG4gICAgICBsZXZlbC5uYW1lID0gbmFtZTtcbiAgICAgIGxldmVsLm11c2ljLnNldFBsYXllcihtdXNpY1BsYXllcik7XG5cbiAgICAgIHNldHVwQmFja2dyb3VuZHMobGV2ZWxTcGVjLCBsZXZlbCwgc3ByaXRlcywgcGF0dGVyblNwZWMpO1xuICAgICAgc2V0dXBFbnRpdGllcyhsZXZlbFNwZWMsIGxldmVsLCBlbnRpdHlGYWN0b3J5KTtcbiAgICAgIHNldHVwVHJpZ2dlcnMobGV2ZWxTcGVjLCBsZXZlbCk7XG4gICAgICBzZXR1cEJlaGF2aW9yKGxldmVsKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGxldmVsO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdyaWQodGlsZXM6IExldmVsVGlsZVNwZWNbXSwgcGF0dGVybnM6IFBhdHRlcm5zU3BlYykgOiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz4ge1xuICBjb25zdCBncmlkOiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz4gPSBuZXcgTWF0cml4KCk7XG5cbiAgZm9yKGNvbnN0IHsgdGlsZSwgeCwgeSB9IG9mIGV4cGFuZFRpbGVzKHRpbGVzLCBwYXR0ZXJucykpe1xuICAgIGdyaWQuc2V0KHgsIHksIHRpbGUpO1xuICB9XG5cbiAgcmV0dXJuIGdyaWQ7XG59XG5cbnR5cGUgQ29vcmQgPSB7IHg6IG51bWJlciwgeTpudW1iZXIgfTtcbmZ1bmN0aW9uKiBleHBhbmRTcGFuKHhTdGFydDogbnVtYmVyLCB4TGVuOiBudW1iZXIsIHlTdGFydDogbnVtYmVyLCB5TGVuOiBudW1iZXIpIDogR2VuZXJhdG9yPENvb3JkPiB7XG4gIGNvbnN0IHhFbmQgPSB4U3RhcnQgKyB4TGVuLCB5RW5kID0geVN0YXJ0ICsgeUxlbjtcbiAgZm9yKGxldCB4PXhTdGFydDsgeDx4RW5kOyB4Kyspe1xuICAgIGZvcihsZXQgeT15U3RhcnQ7IHk8eUVuZDsgeSsrKXtcbiAgICAgIHlpZWxkIHsgeCwgeSB9O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBleHBhbmRSYW5nZShyYW5nZTogUmFuZ2UpIDogR2VuZXJhdG9yPENvb3JkPiB7XG4gIHN3aXRjaChyYW5nZS5sZW5ndGgpe1xuICAgIGNhc2UgNDogcmV0dXJuIGV4cGFuZFNwYW4oLi4ucmFuZ2UpO1xuICAgIGNhc2UgMzogcmV0dXJuIGV4cGFuZFNwYW4ocmFuZ2VbMF0sIHJhbmdlWzFdLCByYW5nZVsyXSwgMSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZXhwYW5kU3BhbihyYW5nZVswXSwgMSwgcmFuZ2VbMV0sIDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uKiBleHBhbmRSYW5nZXMocmFuZ2VzOiBSYW5nZVtdKSA6IEdlbmVyYXRvcjxhbnk+IHtcbiAgZm9yKGNvbnN0IHJhbmdlIG9mIHJhbmdlcyl7XG4gICAgeWllbGQqIGV4cGFuZFJhbmdlKHJhbmdlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogZXhwYW5kVGlsZXModGlsZXM6IExldmVsVGlsZVNwZWNbXSwgcGF0dGVybnM6IFBhdHRlcm5zU3BlYykgOiBHZW5lcmF0b3I8RXhwYW5kZWRUaWxlPiB7XG4gIGZ1bmN0aW9uKiB3YWxrVGlsZXModGlsZXM6IExldmVsVGlsZVNwZWNbXSwgb2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpIDogR2VuZXJhdG9yPEV4cGFuZGVkVGlsZT4ge1xuICAgIGZvcihjb25zdCB0aWxlIG9mIHRpbGVzKXtcbiAgICAgIGZvcihjb25zdCB7IHgsIHkgfSBvZiBleHBhbmRSYW5nZXModGlsZS5yYW5nZXMpKXtcbiAgICAgICAgY29uc3QgZGVyaXZlZFggPSB4ICsgb2Zmc2V0WCwgZGVyaXZlZFkgPSB5ICsgb2Zmc2V0WTtcbiAgICAgICAgaWYodGlsZS5wYXR0ZXJuKXtcbiAgICAgICAgICBjb25zdCB0aWxlcyA9IHBhdHRlcm5zW3RpbGUucGF0dGVybl0udGlsZXM7XG4gICAgICAgICAgeWllbGQqIHdhbGtUaWxlcyh0aWxlcywgZGVyaXZlZFgsIGRlcml2ZWRZKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgdGlsZSxcbiAgICAgICAgICAgIHg6IGRlcml2ZWRYLFxuICAgICAgICAgICAgeTogZGVyaXZlZFksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHlpZWxkKiB3YWxrVGlsZXModGlsZXMsIDAsIDApO1xufSIsImltcG9ydCB7IGxvYWRKU09OIH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCBNdXNpY1BsYXllciBmcm9tIFwiLi4vTXVzaWNQbGF5ZXJcIjtcblxuaW50ZXJmYWNlIE11c2ljU3BlYyB7XG4gIHVybDogc3RyaW5nLFxufVxuaW50ZXJmYWNlIE11c2ljU2hlZXRTcGVjIHtcbiAgW25hbWU6IHN0cmluZ106IE11c2ljU3BlYyxcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRNdXNpY1NoZWV0KG5hbWU6IHN0cmluZykgOiBQcm9taXNlPE11c2ljUGxheWVyPiB7XG4gIGNvbnN0IG11c2ljU2hlZXQgPSBhd2FpdCBsb2FkSlNPTihgLi9tdXNpYy8ke25hbWV9Lmpzb25gKSBhcyBNdXNpY1NoZWV0U3BlYztcbiAgY29uc3QgbXVzaWNQbGF5ZXIgPSBuZXcgTXVzaWNQbGF5ZXIoKTtcbiAgZm9yKGNvbnN0IFtuYW1lLCB0cmFja10gb2YgT2JqZWN0LmVudHJpZXMobXVzaWNTaGVldCkpe1xuICAgIG11c2ljUGxheWVyLmFkZFRyYWNrKG5hbWUsIHRyYWNrLnVybCk7XG4gIH1cbiAgcmV0dXJuIG11c2ljUGxheWVyO1xufSIsImltcG9ydCB7IGNyZWF0ZUFuaW0gfSBmcm9tIFwiLi4vYW5pbVwiO1xuaW1wb3J0IHsgbG9hZEltYWdlLCBsb2FkSlNPTiB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGlsZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIGluZGV4OiBbbnVtYmVyLCBudW1iZXJdLFxufVxuaW50ZXJmYWNlIEZyYW1lU3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgcmVjdDogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG59XG5pbnRlcmZhY2UgQW5pbWF0aW9uU3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgZnJhbWVMZW46IG51bWJlcixcbiAgZnJhbWVzOiBzdHJpbmdbXSxcbn1cbmludGVyZmFjZSBTaGVldFNwZWMge1xuICBpbWFnZVVSTDogc3RyaW5nLFxuICB0aWxlVzogbnVtYmVyLCB0aWxlSDogbnVtYmVyLFxuICB0aWxlcz86IFRpbGVTcGVjW10sXG4gIGZyYW1lcz86IEZyYW1lU3BlY1tdLFxuICBhbmltYXRpb25zPzogQW5pbWF0aW9uU3BlY1tdLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNwcml0ZVNoZWV0KG5hbWU6IHN0cmluZyl7XG4gIHJldHVybiAobG9hZEpTT04oYC4vc3ByaXRlcy8ke25hbWV9Lmpzb25gKSBhcyBQcm9taXNlPFNoZWV0U3BlYz4pXG4gIC50aGVuKHNoZWV0U3BlYyA9PiBQcm9taXNlLmFsbChbXG4gICAgc2hlZXRTcGVjLFxuICAgIGxvYWRJbWFnZShzaGVldFNwZWMuaW1hZ2VVUkwpLFxuICBdKSlcbiAgLnRoZW4oKFtzaGVldFNwZWMsIGltYWdlXSk9PntcbiAgICBjb25zdCBzcHJpdGVzID0gbmV3IFNwcml0ZVNoZWV0KGltYWdlLCBzaGVldFNwZWMudGlsZVcsIHNoZWV0U3BlYy50aWxlSCk7XG5cbiAgICBpZihzaGVldFNwZWMudGlsZXMpe1xuICAgICAgc2hlZXRTcGVjLnRpbGVzLmZvckVhY2godGlsZVNwZWMgPT4ge1xuICAgICAgICBzcHJpdGVzLmRlZmluZVRpbGUodGlsZVNwZWMubmFtZSwgLi4udGlsZVNwZWMuaW5kZXgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoc2hlZXRTcGVjLmZyYW1lcyl7XG4gICAgICBzaGVldFNwZWMuZnJhbWVzLmZvckVhY2goKHtuYW1lLCByZWN0fSkgPT4ge1xuICAgICAgICBzcHJpdGVzLmRlZmluZShuYW1lLCAuLi5yZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKHNoZWV0U3BlYy5hbmltYXRpb25zKXtcbiAgICAgIHNoZWV0U3BlYy5hbmltYXRpb25zLmZvckVhY2goKHtuYW1lLCBmcmFtZUxlbiwgZnJhbWVzfSkgPT4ge1xuICAgICAgICBjb25zdCBhbmltYXRpb24gPSBjcmVhdGVBbmltKGZyYW1lcywgZnJhbWVMZW4pO1xuICAgICAgICBzcHJpdGVzLmRlZmluZUFuaW0obmFtZSwgYW5pbWF0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBzcHJpdGVzO1xuICB9KVxufSIsInR5cGUgTWF0cml4Q2FsbGJhY2s8VD4gPSAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHRpbGU6IFQpID0+IHZvaWQ7XG5cbmV4cG9ydCBjbGFzcyBNYXRyaXg8VD4ge1xuICBwdWJsaWMgZ3JpZDogVFtdW107XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5ncmlkID0gW107XG4gIH1cbiAgZGVsZXRlKHg6IG51bWJlciwgeTogbnVtYmVyKXtcbiAgICBjb25zdCBjb2wgPSB0aGlzLmdyaWRbeF07XG4gICAgaWYoY29sKSBkZWxldGUgY29sW3ldO1xuICB9XG4gIGdldCh4OiBudW1iZXIsIHk6IG51bWJlcikgOiBUIHtcbiAgICBjb25zdCBjb2wgPSB0aGlzLmdyaWRbeF07XG4gICAgaWYoY29sKSByZXR1cm4gY29sW3ldO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB2YWx1ZTogVCl7XG4gICAgaWYoIXRoaXMuZ3JpZFt4XSkgdGhpcy5ncmlkW3hdID0gW107XG4gICAgdGhpcy5ncmlkW3hdW3ldID0gdmFsdWU7XG4gIH1cbiAgZm9yRWFjaChjYWxsYmFjazogTWF0cml4Q2FsbGJhY2s8VD4pe1xuICAgIHRoaXMuZ3JpZC5mb3JFYWNoKChjb2x1bW5zLCB4KSA9PiB7XG4gICAgICBjb2x1bW5zLmZvckVhY2goKHRpbGUsIHkpID0+IHtcbiAgICAgICAgY2FsbGJhY2soeCwgeSwgdGlsZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmVjdG9yIHtcbiAgcHVibGljIHg6IG51bWJlcjtcbiAgcHVibGljIHk6IG51bWJlcjtcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCl7XG4gICAgdGhpcy5zZXQoeCwgeSk7XG4gIH1cbiAgY29weShzb3VyY2U6IFZlY3Rvcil7XG4gICAgdGhpcy5zZXQoc291cmNlLngsIHNvdXJjZS55KTtcbiAgfVxuICBzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxufSIsImltcG9ydCBNYXJpbyBmcm9tIFwiLi9lbnRpdGllcy9NYXJpb1wiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi9MZXZlbFwiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi90cmFpdHMvUGxheWVyXCI7XG5pbXBvcnQgUGxheWVyQ29udHJvbGxlciBmcm9tIFwiLi90cmFpdHMvUGxheWVyQ29udHJvbGxlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGxheWVyRW52KHBsYXllcjogTWFyaW8pIDogRW50aXR5IHtcbiAgY29uc3QgZW52ID0gbmV3IEVudGl0eSgpO1xuICBjb25zdCBjb250cm9sbGVyID0gbmV3IFBsYXllckNvbnRyb2xsZXIoKTtcbiAgY29udHJvbGxlci5jaGVja3BvaW50LnNldCg2NCwgNjQpO1xuICBjb250cm9sbGVyLnNldFBsYXllcihwbGF5ZXIpO1xuICBlbnYuYWRkVHJhaXQoJ2NvbnRyb2xsZXInLCBjb250cm9sbGVyKTtcbiAgcmV0dXJuIGVudjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uKiBmaW5kUGxheWVycyhsZXZlbDogTGV2ZWwpIDogR2VuZXJhdG9yPEVudGl0eT4ge1xuICBmb3IoY29uc3QgZW50aXR5IG9mIGxldmVsLmVudGl0aWVzKXtcbiAgICBpZihlbnRpdHkuZ2V0VHJhaXQoJ3BsYXllcicpIGluc3RhbmNlb2YgUGxheWVyKSB5aWVsZCBlbnRpdHk7XG4gIH1cbn0iLCJpbXBvcnQgeyBTaWRlcyB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IFRpbGVDb2xsaXNpb25Db250ZXh0IH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5mdW5jdGlvbiBoYW5kbGVYKHRpbGVDb2xsaXNpb25Db250ZXh0OiBUaWxlQ29sbGlzaW9uQ29udGV4dCwgbGV2ZWw6IExldmVsKXtcbiAgY29uc3QgeyBlbnRpdHksIG1hdGNoIH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDtcbiAgaWYoZW50aXR5LnZlbC54ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5yaWdodCA+IG1hdGNoLngxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5SSUdIVCwgbWF0Y2gpO1xuICAgIH1cbiAgfWVsc2UgaWYoZW50aXR5LnZlbC54IDwgMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5sZWZ0IDwgbWF0Y2gueDIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLkxFRlQsIG1hdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlWSh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQsIGxldmVsOiBMZXZlbCl7XG4gIGNvbnN0IHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDsgXG5cbiAgaWYoZW50aXR5LnZlbC55ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5ib3R0b20gPiBtYXRjaC55MSl7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuQk9UVE9NLCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnkgPCAwKXtcbiAgICBpZihlbnRpdHkuZ2V0VHJhaXQoJ3BsYXllcicpKXtcbiAgICAgIGNvbnN0IGdyaWQgPSByZXNvbHZlci5tYXRyaXg7XG4gICAgICBncmlkLmRlbGV0ZShtYXRjaC5pbmRleFgsIG1hdGNoLmluZGV4WSk7XG4gICAgICBjb25zdCBnb29tYmEgPSBnYW1lQ29udGV4dC5lbnRpdHlGYWN0b3J5Lmdvb21iYSgpO1xuICAgICAgZ29vbWJhLnBvcy5zZXQoZW50aXR5LnBvcy54LCBtYXRjaC55MSk7XG4gICAgICBnb29tYmEudmVsLnNldCg1MCwgLTQwMCk7XG4gICAgICBsZXZlbC5lbnRpdGllcy5hZGQoZ29vbWJhKTtcbiAgICB9XG4gICAgaWYoZW50aXR5LmJvdW5kcy50b3AgPCBtYXRjaC55Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuVE9QLCBtYXRjaCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBicmljayA9IFsgaGFuZGxlWCwgaGFuZGxlWSBdOyIsImltcG9ydCB7IFRpbGVDb2xsaXNpb25Db250ZXh0IH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vdHJhaXRzL1BsYXllclwiO1xuXG5mdW5jdGlvbiBoYW5kbGUodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIHJlc29sdmVyLCBtYXRjaCB9ID0gdGlsZUNvbGxpc2lvbkNvbnRleHQ7XG4gIGNvbnN0IHBsYXllciA9IGVudGl0eS5nZXRUcmFpdCgncGxheWVyJyk7XG4gIGlmKHBsYXllciBpbnN0YW5jZW9mIFBsYXllcil7XG4gICAgcGxheWVyLmFkZENvaW5zKDEpO1xuICAgIGNvbnN0IGdyaWQgPSByZXNvbHZlci5tYXRyaXg7XG4gICAgZ3JpZC5kZWxldGUobWF0Y2guaW5kZXhYLCBtYXRjaC5pbmRleFkpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjb2luID0gWyBoYW5kbGUsIGhhbmRsZSBdOyIsImltcG9ydCB7IFNpZGVzIH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgVGlsZUNvbGxpc2lvbkNvbnRleHQgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmZ1bmN0aW9uIGhhbmRsZVgodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIG1hdGNoIH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDtcbiAgaWYoZW50aXR5LnZlbC54ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5yaWdodCA+IG1hdGNoLngxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5SSUdIVCwgbWF0Y2gpO1xuICAgIH1cbiAgfWVsc2UgaWYoZW50aXR5LnZlbC54IDwgMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5sZWZ0IDwgbWF0Y2gueDIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLkxFRlQsIG1hdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlWSh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnkgPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmJvdHRvbSA+IG1hdGNoLnkxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5CT1RUT00sIG1hdGNoKTtcbiAgICB9XG4gIH1lbHNlIGlmKGVudGl0eS52ZWwueSA8IDApe1xuICAgIGlmKGVudGl0eS5ib3VuZHMudG9wIDwgbWF0Y2gueTIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlRPUCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ3JvdW5kID0gWyBoYW5kbGVYLCBoYW5kbGVZIF07IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCwgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG50eXBlIEVtaXR0ZXJDYWxsYmFjayA9IChlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0LCBsZXZlbD86IExldmVsKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWl0dGVyIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGNvb2xkb3duOiBudW1iZXIgPSAyO1xuICBwdWJsaWMgaW50ZXJ2YWw6IG51bWJlciA9IDI7XG4gIHB1YmxpYyBlbWl0dGVyczogRW1pdHRlckNhbGxiYWNrW10gPSBbXTtcblxuICBlbWl0KGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpe1xuICAgIGZvcihjb25zdCBlbWl0dGVyIG9mIHRoaXMuZW1pdHRlcnMpe1xuICAgICAgZW1pdHRlcihlbnRpdHksIGdhbWVDb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuICAgIHRoaXMuY29vbGRvd24gLT0gZHQ7XG4gICAgaWYodGhpcy5jb29sZG93biA8IDApe1xuICAgICAgdGhpcy5lbWl0KGVudGl0eSwgZ2FtZUNvbnRleHQpO1xuICAgICAgdGhpcy5jb29sZG93biA9IHRoaXMuaW50ZXJ2YWw7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgSnVtcCBmcm9tIFwiLi9KdW1wXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdvIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgZGlyOiBudW1iZXI7XG4gIHByaXZhdGUgYWNjZWxlcmF0aW9uOiBudW1iZXI7XG4gIHByaXZhdGUgZGVjZWxlcmF0aW9uOiBudW1iZXI7XG4gIHByaXZhdGUgZnJpY3Rpb246IG51bWJlcjtcbiAgcHVibGljIGRpc3RhbmNlOiBudW1iZXI7XG4gIHB1YmxpYyBoZWFkaW5nOiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRpciA9IDA7XG4gICAgdGhpcy5hY2NlbGVyYXRpb24gPSA0MDA7XG4gICAgdGhpcy5kZWNlbGVyYXRpb24gPSAzMDA7XG4gICAgdGhpcy5mcmljdGlvbiA9IDEvNTAwMDtcbiAgICB0aGlzLmRpc3RhbmNlID0gMDtcbiAgICB0aGlzLmhlYWRpbmcgPSAxO1xuICB9XG5cbiAgc2V0IGRyYWcoZnJpY3Rpb246IG51bWJlcil7IHRoaXMuZnJpY3Rpb24gPSBmcmljdGlvbjsgfVxuXG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcbiAgICBjb25zdCBhYnNYID0gTWF0aC5hYnMoZW50aXR5LnZlbC54KTtcblxuICAgIGlmKHRoaXMuZGlyICE9PSAwKXtcbiAgICAgIGVudGl0eS52ZWwueCArPSB0aGlzLmFjY2VsZXJhdGlvbiAqIGR0ICogdGhpcy5kaXI7XG5cbiAgICAgIGNvbnN0IGp1bXAgPSBlbnRpdHkuZ2V0VHJhaXQoJ2p1bXAnKTtcbiAgICAgIGlmKGp1bXApe1xuICAgICAgICBpZihqdW1wIGluc3RhbmNlb2YgSnVtcCAmJiAhanVtcC5mYWxsaW5nKXtcbiAgICAgICAgICB0aGlzLmhlYWRpbmcgPSB0aGlzLmRpcjtcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHRoaXMuaGVhZGluZyA9IHRoaXMuZGlyO1xuICAgICAgfVxuICAgIH1lbHNlIGlmKGVudGl0eS52ZWwueCAhPT0gMCl7XG4gICAgICBjb25zdCBkZWNlbCA9IE1hdGgubWluKGFic1gsIHRoaXMuZGVjZWxlcmF0aW9uICogZHQpO1xuICAgICAgZW50aXR5LnZlbC54ICs9IGRlY2VsICogKGVudGl0eS52ZWwueCA+IDAgPyAtMSA6IDEpO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgfVxuXG4gICAgY29uc3QgZHJhZyA9IHRoaXMuZnJpY3Rpb24gKiBlbnRpdHkudmVsLnggKiBhYnNYO1xuICAgIGVudGl0eS52ZWwueCAtPSBkcmFnO1xuICAgIFxuICAgIHRoaXMuZGlzdGFuY2UgKz0gYWJzWCAqIGR0O1xuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXZpdHkgZXh0ZW5kcyBUcmFpdCB7XG4gIHByaXZhdGUgZ3Jhdml0eTogbnVtYmVyID0gMTUwMDtcbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcblxuICAgIGVudGl0eS52ZWwueSArPSB0aGlzLmdyYXZpdHkgKiBkdDtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgU2lkZXMsIFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuY29uc3QgU1BFRURfQk9PU1QgPSAwLjM7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEp1bXAgZXh0ZW5kcyBUcmFpdCB7XG4gIHByaXZhdGUgZHVyYXRpb246IG51bWJlcjtcbiAgcHJpdmF0ZSB2ZWxvY2l0eTogbnVtYmVyO1xuICBwcml2YXRlIGVuZ2FnZVRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSByZWFkeTogbnVtYmVyO1xuXG4gIHByaXZhdGUgZ3JhY2VUaW1lOiBudW1iZXI7XG4gIHByaXZhdGUgZ3JhY2VEdXJhdGlvbjogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kdXJhdGlvbiA9IDAuMztcbiAgICB0aGlzLnZlbG9jaXR5ID0gMjAwO1xuICAgIHRoaXMuZW5nYWdlVGltZSA9IDA7XG4gICAgdGhpcy5yZWFkeSA9IDA7XG5cbiAgICB0aGlzLmdyYWNlVGltZSA9IDA7XG4gICAgdGhpcy5ncmFjZUR1cmF0aW9uID0gMC4xO1xuICB9XG4gIHB1YmxpYyBnZXQgZmFsbGluZygpIDogYm9vbGVhbiB7IHJldHVybiB0aGlzLnJlYWR5IDwgMDsgfVxuICBzdGFydCgpe1xuICAgIHRoaXMuZ3JhY2VUaW1lID0gdGhpcy5ncmFjZUR1cmF0aW9uO1xuICB9XG4gIGNhbmNlbCgpe1xuICAgIHRoaXMuZW5nYWdlVGltZSA9IDA7XG4gICAgdGhpcy5ncmFjZVRpbWUgPSAwO1xuICB9XG4gIG9ic3RydWN0KGVudGl0eTogRW50aXR5LCBzaWRlOiBTaWRlcyl7XG4gICAgaWYoc2lkZSA9PT0gU2lkZXMuQk9UVE9NKSB0aGlzLnJlYWR5ID0gMTtcbiAgICBpZihzaWRlID09PSBTaWRlcy5UT1ApIHRoaXMuY2FuY2VsKCk7XG4gIH1cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpe1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuICAgIFxuICAgIGlmKHRoaXMuZ3JhY2VUaW1lID4gMCl7XG4gICAgICBpZih0aGlzLnJlYWR5ID4gMCl7XG4gICAgICAgIGVudGl0eS5zb3VuZHMuYWRkKCdqdW1wJyk7XG4gICAgICAgIHRoaXMuZW5nYWdlVGltZSA9IHRoaXMuZHVyYXRpb247XG4gICAgICAgIHRoaXMuZ3JhY2VUaW1lID0gMDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5ncmFjZVRpbWUgLT0gZHQ7XG4gICAgfVxuXG4gICAgaWYodGhpcy5lbmdhZ2VUaW1lID4gMCl7XG4gICAgICBlbnRpdHkudmVsLnkgPSAtKHRoaXMudmVsb2NpdHkgKyBNYXRoLmFicyhlbnRpdHkudmVsLngpICogU1BFRURfQk9PU1QpO1xuICAgICAgdGhpcy5lbmdhZ2VUaW1lIC09IGR0O1xuICAgIH1cblxuICAgIHRoaXMucmVhZHktLTtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwsIHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2lsbGFibGUgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBkZWFkOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyByZW1vdmVBZnRlcjogbnVtYmVyID0gMjtcbiAgcHJpdmF0ZSBkZWFkVGltZTogbnVtYmVyID0gMDtcblxuICBraWxsKCl7XG4gICAgdGhpcy5xdWV1ZSgoKSA9PiB0aGlzLmRlYWQgPSB0cnVlKTtcbiAgfVxuXG4gIHJldml2ZSgpe1xuICAgIHRoaXMuZGVhZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVhZFRpbWUgPSAwO1xuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQsIGxldmVsOiBMZXZlbCk6IHZvaWQge1xuICAgIGlmKHRoaXMuZGVhZCl7XG4gICAgICB0aGlzLmRlYWRUaW1lICs9IGdhbWVDb250ZXh0LmR0O1xuICAgICAgaWYodGhpcy5kZWFkVGltZSA+IHRoaXMucmVtb3ZlQWZ0ZXIpe1xuICAgICAgICB0aGlzLnF1ZXVlKCgpID0+IGxldmVsLmVudGl0aWVzLmRlbGV0ZShlbnRpdHkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IExldmVsLCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsVGltZXIgZXh0ZW5kcyBUcmFpdCB7XG4gIHN0YXRpYyBUSU1FUl9IVVJSWSA9IFN5bWJvbCgndGltZXIuaHVycnknKTtcbiAgc3RhdGljIFRJTUVSX09LQVkgPSBTeW1ib2woJ3RpbWVyLm9rYXknKTtcblxuICBwcml2YXRlIHRvdGFsVGltZTogbnVtYmVyID0gMzAwO1xuICBwdWJsaWMgY3VycmVudFRpbWU6IG51bWJlciA9IHRoaXMudG90YWxUaW1lO1xuICBwcml2YXRlIGh1cnJ5VGltZTogbnVtYmVyID0gMTAwO1xuICBwcml2YXRlIGh1cnJ5RW1pdHRlZDogYm9vbGVhbiA9IG51bGw7XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQsIGxldmVsOiBMZXZlbCk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudFRpbWUgLT0gZ2FtZUNvbnRleHQuZHQgKiAyO1xuICAgIGlmKHRoaXMuaHVycnlFbWl0dGVkICE9PSB0cnVlICYmIHRoaXMuY3VycmVudFRpbWUgPCB0aGlzLmh1cnJ5VGltZSl7XG4gICAgICBsZXZlbC5ldmVudHMuZW1pdChMZXZlbFRpbWVyLlRJTUVSX0hVUlJZKTtcbiAgICAgIHRoaXMuaHVycnlFbWl0dGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYodGhpcy5odXJyeUVtaXR0ZWQgIT09IGZhbHNlICYmIHRoaXMuY3VycmVudFRpbWUgPiB0aGlzLmh1cnJ5VGltZSl7XG4gICAgICBsZXZlbC5ldmVudHMuZW1pdChMZXZlbFRpbWVyLlRJTUVSX09LQVkpO1xuICAgICAgdGhpcy5odXJyeUVtaXR0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFNpZGVzLCBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlbmR1bHVtV2FsayBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICBwdWJsaWMgc3BlZWQ6IG51bWJlciA9IC0zMDtcbiAgb2JzdHJ1Y3QoZW50aXR5OiBFbnRpdHksIHNpZGU6IFNpZGVzKTogdm9pZCB7XG4gICAgaWYoc2lkZSA9PT0gU2lkZXMuTEVGVCB8fCBzaWRlID09PSBTaWRlcy5SSUdIVClcbiAgICAgIHRoaXMuc3BlZWQgKj0gLTE7XG4gIH1cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBpZih0aGlzLmVuYWJsZWQpIGVudGl0eS52ZWwueCA9IHRoaXMuc3BlZWQ7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IExldmVsLCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBoeXNpY3MgZXh0ZW5kcyBUcmFpdCB7XG4gIHByaXZhdGUgZ3Jhdml0eTogbnVtYmVyID0gMTUwMDtcbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQsIGxldmVsOiBMZXZlbCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuXG4gICAgZW50aXR5LnBvcy54ICs9IGVudGl0eS52ZWwueCAqIGR0O1xuICAgIGxldmVsLnRpbGVDb2xsaWRlci5jaGVja1goZW50aXR5LCBnYW1lQ29udGV4dCk7XG5cbiAgICBlbnRpdHkucG9zLnkgKz0gZW50aXR5LnZlbC55ICogZHQ7XG4gICAgbGV2ZWwudGlsZUNvbGxpZGVyLmNoZWNrWShlbnRpdHksIGdhbWVDb250ZXh0KTtcblxuICAgIGVudGl0eS52ZWwueSArPSB0aGlzLmdyYXZpdHkgKiBkdDtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi9TdG9tcGVyXCI7XG5cbmNvbnN0IENPSU5fTElGRV9USFJFU0hPTEQgPSAxMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIG5hbWU6IHN0cmluZyA9ICdOL0EnO1xuICBwdWJsaWMgY29pbnM6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBsaXZlczogbnVtYmVyID0gMztcbiAgcHVibGljIHNjb3JlOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMubGlzdGVuKFN0b21wZXIuU1RPTVAsICgpID0+IHtcbiAgICAgIHRoaXMuc2NvcmUgKz0gMTAwO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkQ29pbnMoY291bnQ6IG51bWJlcil7XG4gICAgdGhpcy5jb2lucyArPSBjb3VudDtcbiAgICB0aGlzLnF1ZXVlKChlbnRpdHk6IEVudGl0eSkgPT4gZW50aXR5LnNvdW5kcy5hZGQoJ2NvaW4nKSk7XG4gICAgd2hpbGUodGhpcy5jb2lucyA+PSBDT0lOX0xJRkVfVEhSRVNIT0xEKXtcbiAgICAgIHRoaXMuYWRkTGl2ZXMoMSk7XG4gICAgICB0aGlzLmNvaW5zIC09IENPSU5fTElGRV9USFJFU0hPTEQ7XG4gICAgfVxuICB9XG5cbiAgYWRkTGl2ZXMoY291bnQ6IG51bWJlcil7XG4gICAgdGhpcy5saXZlcyArPSBjb3VudDtcbiAgfVxufSIsImltcG9ydCBNYXJpbyBmcm9tIFwiLi4vZW50aXRpZXMvTWFyaW9cIjtcbmltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwsIHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9tYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckNvbnRyb2xsZXIgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBjaGVja3BvaW50OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyBwbGF5ZXI6IE1hcmlvID0gbnVsbDtcblxuICBzZXRQbGF5ZXIocGxheWVyOiBNYXJpbyl7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCwgbGV2ZWw6IExldmVsKTogdm9pZCB7XG4gICAgaWYodGhpcy5wbGF5ZXIgJiYgIWxldmVsLmVudGl0aWVzLmhhcyh0aGlzLnBsYXllcikpe1xuICAgICAgdGhpcy5wbGF5ZXIua2lsbGFibGUucmV2aXZlKCk7XG4gICAgICB0aGlzLnBsYXllci5wb3Muc2V0KHRoaXMuY2hlY2twb2ludC54LCB0aGlzLmNoZWNrcG9pbnQueSk7XG4gICAgICBsZXZlbC5lbnRpdGllcy5hZGQodGhpcy5wbGF5ZXIpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgU2lkZXMsIFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgUmVzb2x2ZWRUaWxlIH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2xpZCBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIG9ic3RydWN0czogYm9vbGVhbiA9IHRydWU7XG4gIG9ic3RydWN0KGVudGl0eTogRW50aXR5LCBzaWRlOiBTaWRlcywgbWF0Y2g6IFJlc29sdmVkVGlsZSl7XG4gICAgaWYoIXRoaXMub2JzdHJ1Y3RzKSByZXR1cm47XG4gICAgc3dpdGNoKHNpZGUpe1xuICAgICAgY2FzZSBTaWRlcy5SSUdIVDoge1xuICAgICAgICBlbnRpdHkuYm91bmRzLmxlZnQgPSBtYXRjaC54MSAtIGVudGl0eS5zaXplLng7XG4gICAgICAgIGVudGl0eS52ZWwueCA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5MRUZUOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCA9IG1hdGNoLngyO1xuICAgICAgICBlbnRpdHkudmVsLnggPSAwO1xuICAgICAgfSBicmVhaztcbiAgICAgIGNhc2UgU2lkZXMuQk9UVE9NOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMudG9wID0gbWF0Y2gueTEgLSBlbnRpdHkuc2l6ZS55O1xuICAgICAgICBlbnRpdHkudmVsLnkgPSAwO1xuICAgICAgfSBicmVhaztcbiAgICAgIGNhc2UgU2lkZXMuVE9QOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMudG9wID0gbWF0Y2gueTI7XG4gICAgICAgIGVudGl0eS52ZWwueSA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4vS2lsbGFibGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvbXBlciBleHRlbmRzIFRyYWl0IHtcbiAgc3RhdGljIFNUT01QID0gU3ltYm9sKCdzdG9tcCcpO1xuICBwcml2YXRlIGJvdW5kU3BlZWQ6IG51bWJlciA9IDQwMDtcbiAgXG4gIHByaXZhdGUgYm91bmNlKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSl7XG4gICAgdXMuYm91bmRzLmJvdHRvbSA9IHRoZW0uYm91bmRzLnRvcDtcbiAgICB1cy52ZWwueSA9IC10aGlzLmJvdW5kU3BlZWRcbiAgfVxuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IGtpbGxhYmxlID0gdGhlbS5nZXRUcmFpdCgna2lsbGFibGUnKTtcbiAgICBpZigha2lsbGFibGUgfHwgIShraWxsYWJsZSBpbnN0YW5jZW9mIEtpbGxhYmxlKSB8fCBraWxsYWJsZS5kZWFkKSByZXR1cm47XG4gICAgXG4gICAgaWYodXMudmVsLnkgPiB0aGVtLnZlbC55KXtcbiAgICAgIHRoaXMucXVldWUoKCkgPT4gdGhpcy5ib3VuY2UodXMsIHRoZW0pKTtcbiAgICAgIHVzLnNvdW5kcy5hZGQoJ3N0b21wJyk7XG4gICAgICB1cy5ldmVudHMuZW1pdChTdG9tcGVyLlNUT01QLCB1cywgdGhlbSk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCwgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG50eXBlIFRvdWNoID0gKGVudGl0eTogRW50aXR5LCB0b3VjaGVzOiBTZXQ8RW50aXR5PiwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0LCBsZXZlbDogTGV2ZWwpID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyaWdnZXIgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyB0b3VjaGVzOiBTZXQ8RW50aXR5PiA9IG5ldyBTZXQoKTtcbiAgcHVibGljIGNvbmRpdGlvbnM6IFRvdWNoW10gPSBbXTtcblxuICBjb2xsaWRlcyh1czogRW50aXR5LCB0aGVtOiBFbnRpdHkpOiB2b2lkIHtcbiAgICB0aGlzLnRvdWNoZXMuYWRkKHRoZW0pO1xuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQsIGxldmVsOiBMZXZlbCkge1xuICAgIGlmKHRoaXMudG91Y2hlcy5zaXplID4gMCl7XG4gICAgICBmb3IoY29uc3QgY29uZGl0aW9uIG9mIHRoaXMuY29uZGl0aW9ucyl7XG4gICAgICAgIGNvbmRpdGlvbihlbnRpdHksIHRoaXMudG91Y2hlcywgZ2FtZUNvbnRleHQsIGxldmVsKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudG91Y2hlcy5jbGVhcigpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWxvY2l0eSBleHRlbmRzIFRyYWl0IHtcbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcbiAgICBlbnRpdHkucG9zLnggKz0gZW50aXR5LnZlbC54ICogZHQ7XG4gICAgZW50aXR5LnBvcy55ICs9IGVudGl0eS52ZWwueSAqIGR0O1xuICB9XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgVGltZXIgZnJvbSAnLi9UaW1lcic7XG5pbXBvcnQgeyBzZXR1cEtleWJvYXJkIH0gZnJvbSAnLi9pbnB1dCc7XG5pbXBvcnQgeyBjcmVhdGVMZXZlbExvYWRlciwgVHJpZ2dlclNwZWMgfSBmcm9tICcuL2xvYWRlcnMvbGV2ZWwnO1xuaW1wb3J0IHsgbG9hZEVudGl0aWVzIH0gZnJvbSAnLi9lbnRpdGllcyc7XG5pbXBvcnQgeyBjcmVhdGVDb2xsaXNpb25MYXllciB9IGZyb20gJy4vbGF5ZXJzL2NvbGxpc2lvbic7XG5pbXBvcnQgeyBsb2FkRm9udCB9IGZyb20gJy4vbG9hZGVycy9mb250JztcbmltcG9ydCB7IGNyZWF0ZURhc2hib2FyZExheWVyIH0gZnJvbSAnLi9sYXllcnMvZGFzaGJvYXJkJztcbmltcG9ydCB7IGNyZWF0ZVBsYXllckVudiB9IGZyb20gJy4vcGxheWVyJztcbmltcG9ydCBTY2VuZVJ1bm5lciBmcm9tICcuL1NjZW5lUnVubmVyJztcbmltcG9ydCB7IGNyZWF0ZVBsYXllclByb2dyZXNzTGF5ZXIgfSBmcm9tICcuL2xheWVycy9wbGF5ZXItcHJvZ3Jlc3MnO1xuaW1wb3J0IENvbXBvc2l0aW9uU2NlbmUgZnJvbSAnLi9Db21wb3NpdGlvblNjZW5lJztcbmltcG9ydCB7IGNyZWF0ZUNvbG9yTGF5ZXIgfSBmcm9tICcuL2xheWVycy9jb2xvcic7XG5pbXBvcnQgTGV2ZWwgZnJvbSAnLi9MZXZlbCc7XG5pbXBvcnQgRW50aXR5IGZyb20gJy4vRW50aXR5JztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi90cmFpdHMvUGxheWVyJztcblxuYXN5bmMgZnVuY3Rpb24gbWFpbihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KXtcbiAgY29uc3QgdmlkZW9Db250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgdmlkZW9Db250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG5cbiAgY29uc3QgW2VudGl0eUZhY3RvcnksIGZvbnRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIGxvYWRFbnRpdGllcyhhdWRpb0NvbnRleHQpLFxuICAgIGxvYWRGb250KCksXG4gIF0pO1xuXG4gIGNvbnN0IGxvYWRMZXZlbCA9IGF3YWl0IGNyZWF0ZUxldmVsTG9hZGVyKGVudGl0eUZhY3RvcnkpO1xuXG4gIGNvbnN0IHNjZW5lUnVubmVyID0gbmV3IFNjZW5lUnVubmVyKCk7XG4gIFxuICBjb25zdCBtYXJpbyA9IGVudGl0eUZhY3RvcnkubWFyaW8oKTtcbiAgbWFyaW8ucGxheWVyLm5hbWUgPSAnTUFSSU8nO1xuICBjb25zdCBpbnB1dFJvdXRlciA9IHNldHVwS2V5Ym9hcmQod2luZG93KTtcbiAgaW5wdXRSb3V0ZXIuYWRkUmVjZWl2ZXIobWFyaW8pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHJ1bkxldmVsKG5hbWU6IHN0cmluZyl7XG4gICAgY29uc3QgbGV2ZWwgPSBhd2FpdCBsb2FkTGV2ZWwobmFtZSk7XG5cbiAgICBsZXZlbC5ldmVudHMubGlzdGVuKExldmVsLlRSSUdHRVIsIChzcGVjOiBUcmlnZ2VyU3BlYywgdHJpZ2dlcjogRW50aXR5LCB0b3VjaGVzOiBTZXQ8RW50aXR5PikgPT4ge1xuICAgICAgaWYoc3BlYy50eXBlICE9PSAnZ290bycpIHJldHVybjtcbiAgICAgIGNvbnNvbGUubG9nKCdFbWl0dGluZyBsZXZlbCB0cmlnZ2VyIGV2ZW50Jywgc3BlYyk7XG4gICAgICBmb3IoY29uc3QgZW50aXR5IG9mIHRvdWNoZXMpe1xuICAgICAgICBjb25zdCBwbGF5ZXIgPSBlbnRpdHkuZ2V0VHJhaXQoJ3BsYXllcicpIGFzIFBsYXllcjtcbiAgICAgICAgaWYoIXBsYXllcikgY29udGludWU7XG4gICAgICAgIHJldHVybiBydW5MZXZlbChzcGVjLm5hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICBcbiAgICBjb25zdCBkYXNoYm9hcmRMYXllciA9IGNyZWF0ZURhc2hib2FyZExheWVyKGZvbnQsIGxldmVsKTtcbiAgICBjb25zdCBwbGF5ZXJQcm9ncmVzc0xheWVyID0gY3JlYXRlUGxheWVyUHJvZ3Jlc3NMYXllcihmb250LCBsZXZlbCk7XG5cbiAgICBtYXJpby5wb3Muc2V0KDAsIDApO1xuICAgIGxldmVsLmVudGl0aWVzLmFkZChtYXJpbyk7XG4gIFxuICAgIGNvbnN0IHBsYXllckVudiA9IGNyZWF0ZVBsYXllckVudihtYXJpbyk7XG4gICAgbGV2ZWwuZW50aXRpZXMuYWRkKHBsYXllckVudik7XG4gIFxuICAgIGNvbnN0IHdhaXRTY3JlZW4gPSBuZXcgQ29tcG9zaXRpb25TY2VuZSgpO1xuICAgIHdhaXRTY3JlZW4uY29tcC5hZGQoY3JlYXRlQ29sb3JMYXllcignIzAwMCcpKTtcbiAgICB3YWl0U2NyZWVuLmNvbXAuYWRkKGRhc2hib2FyZExheWVyKTtcbiAgICB3YWl0U2NyZWVuLmNvbXAuYWRkKHBsYXllclByb2dyZXNzTGF5ZXIpO1xuICAgIHNjZW5lUnVubmVyLmFkZFNjZW5lKHdhaXRTY3JlZW4pO1xuICBcbiAgICBsZXZlbC5jb21wLmFkZChjcmVhdGVDb2xsaXNpb25MYXllcihsZXZlbCkpO1xuICAgIGxldmVsLmNvbXAuYWRkKGRhc2hib2FyZExheWVyKTtcbiAgICBzY2VuZVJ1bm5lci5hZGRTY2VuZShsZXZlbCk7XG5cbiAgICBjb25zb2xlLmxvZygnUnVubmluZyBuZXh0IHNjZW5lJywgc2NlbmVSdW5uZXIuc2NlbmVJbmRleCk7XG4gICAgc2NlbmVSdW5uZXIucnVuTmV4dCgpO1xuICAgIGNvbnNvbGUubG9nKCdSdW5uaW5nIG5leHQgc2NlbmUnLCBzY2VuZVJ1bm5lci5zY2VuZUluZGV4KTtcbiAgICBzY2VuZVJ1bm5lci5ydW5OZXh0KCk7XG4gICAgY29uc29sZS5sb2coJ1J1bm5pbmcgbmV4dCBzY2VuZScsIHNjZW5lUnVubmVyLnNjZW5lSW5kZXgpO1xuICB9XG5cbiAgKHdpbmRvdyBhcyBhbnkpLnJ1bkxldmVsID0gcnVuTGV2ZWw7XG5cbiAgY29uc3QgdGltZXIgPSBuZXcgVGltZXIoKTtcblxuICBjb25zb2xlLmxvZyhzY2VuZVJ1bm5lcik7XG4gIHRpbWVyLnVwZGF0ZSA9IChkdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZy4uLicpO1xuICAgIHNjZW5lUnVubmVyLnVwZGF0ZSh7IGR0LCBhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnksIHZpZGVvQ29udGV4dCB9KTtcbiAgfVxuXG4gIHRpbWVyLnN0YXJ0KCk7XG5cbiAgcnVuTGV2ZWwoJ2RlYnVnLXByb2dyZXNzaW9uJyk7XG59XG5cbmNvbnN0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMjc2NyZWVuJyk7XG5cbmNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydCk7XG4gIG1haW4oY2FudmFzKTtcbn1cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0YXJ0KTtcbiJdLCJuYW1lcyI6WyJBdWRpb0JvYXJkIiwiYnVmZmVycyIsIk1hcCIsImFkZCIsIm5hbWUiLCJidWZmZXIiLCJ0aGlzIiwic2V0IiwicGxheSIsImNvbnRleHQiLCJnZXQiLCJzb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJzdGFydCIsIkJvdW5kaW5nQm94IiwiY29uc3RydWN0b3IiLCJwb3MiLCJzaXplIiwib2Zmc2V0Iiwib3ZlcmxhcHMiLCJib3giLCJib3R0b20iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJ5IiwieCIsIkNhbWVyYSIsIlZlY3RvciIsIkNvbXBvc2l0aW9uU2NlbmUiLCJjb3VudGRvd24iLCJkcmF3IiwiY3R4IiwiY29tcCIsInVwZGF0ZSIsImdhbWVDb250ZXh0IiwiZHQiLCJldmVudHMiLCJlbWl0IiwiQ29tcG9zaXRvciIsImxheWVycyIsImxheWVyIiwicHVzaCIsImNhbWVyYSIsImZvckVhY2giLCJTaWRlcyIsIlRyYWl0IiwibGlzdGVuZXJzIiwiY29sbGlkZXMiLCJ1cyIsInRoZW0iLCJmaW5hbGl6ZSIsImVudGl0eSIsImZpbHRlciIsImxpc3RlbmVyIiwicHJvY2VzcyIsImNhbGxiYWNrIiwiY291bnQiLCJsaXN0ZW4iLCJJbmZpbml0eSIsIm9ic3RydWN0Iiwic2lkZSIsIm1hdGNoIiwicXVldWUiLCJ0YXNrIiwiVEFTSyIsImxldmVsIiwiU3ltYm9sIiwiRW50aXR5IiwiYXVkaW9Cb2FyZCIsInNvdW5kcyIsIlNldCIsInZlbCIsImxpZmV0aW1lIiwidHJhaXRzIiwiYm91bmRzIiwiYWRkVHJhaXQiLCJ0cmFpdCIsImNhbmRpZGF0ZSIsImNsZWFyIiwiZ2V0VHJhaXQiLCJwbGF5U291bmRzIiwiYXVkaW9Db250ZXh0IiwiRW50aXR5Q29sbGlkZXIiLCJlbnRpdGllcyIsImNoZWNrIiwic3ViamVjdCIsIkV2ZW50QnVmZmVyIiwibGVuZ3RoIiwiYXJncyIsImV2ZW50IiwiRXZlbnRFbWl0dGVyIiwiY2FsbGJhY2tzIiwiSW5wdXRSb3V0ZXIiLCJyZWNlaXZlcnMiLCJhZGRSZWNlaXZlciIsInJlY2VpdmVyIiwiZHJvcFJlY2VpdmVyIiwiZGVsZXRlIiwicm91dGUiLCJyb3V0ZUlucHV0IiwiS2V5U3RhdGUiLCJLZXlib2FyZFN0YXRlIiwia2V5U3RhdGVzIiwia2V5TWFwIiwiYWRkTWFwcGluZyIsImNvZGUiLCJoYW5kbGVFdmVudCIsInR5cGUiLCJoYXMiLCJwcmV2ZW50RGVmYXVsdCIsImtleVN0YXRlIiwiUFJFU1NFRCIsIlJFTEVBU0VEIiwibGlzdGVuVG8iLCJ3aW5kb3ciLCJldmVudE5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiTGV2ZWwiLCJtdXNpYyIsInRpbGVDb2xsaWRlciIsImVudGl0eUNvbGxpZGVyIiwidGltZSIsInBhdXNlIiwicGxheWVyIiwiZmluZFBsYXllcnMiLCJNYXRoIiwibWF4IiwiZm9jdXNQbGF5ZXIiLCJUUklHR0VSIiwiTXVzaWNDb250cm9sbGVyIiwibXVzaWNQbGF5ZXIiLCJzZXRQbGF5ZXIiLCJwYXVzZUFsbCIsInBsYXlUaGVtZSIsInNwZWVkIiwicGxheWJhY2tSYXRlIiwicGxheUh1cnJ5VGhlbWUiLCJhdWRpbyIsImxvb3AiLCJvbmVuZGVkIiwiTXVzaWNQbGF5ZXIiLCJ0cmFja3MiLCJhZGRUcmFjayIsInRyYWNrIiwiQXVkaW8iLCJ2YWx1ZXMiLCJTY2VuZSIsIkNPTVBMRVRFIiwiU2NlbmVSdW5uZXIiLCJzY2VuZUluZGV4Iiwic2NlbmVzIiwiYWRkU2NlbmUiLCJzY2VuZSIsInJ1bk5leHQiLCJjdXJyZW50U2NlbmUiLCJ2aWRlb0NvbnRleHQiLCJTcHJpdGVTaGVldCIsImltYWdlIiwid2lkdGgiLCJoZWlnaHQiLCJmcmFtZXMiLCJhbmltYXRpb25zIiwiZ2V0QW5pbWF0aW9uIiwiZGVmaW5lQW5pbSIsImFuaW1hdGlvbiIsImRlZmluZSIsIm1hcCIsImZsaXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb250ZXh0IiwiY2FudmFzIiwic2V0QXR0cmlidXRlIiwic2NhbGUiLCJ0cmFuc2xhdGUiLCJkcmF3SW1hZ2UiLCJkZWZpbmVUaWxlIiwiZnJhbWUiLCJjb25zb2xlIiwid2FybiIsImRyYXdBbmltIiwiZGlzdGFuY2UiLCJkcmF3VGlsZSIsImhhbmRsZXJzIiwiYnJpY2siLCJncm91bmQiLCJjb2luIiwiVGlsZVJlc29sdmVyIiwibWF0cml4IiwidGlsZVNpemUiLCJ0b0luZGV4IiwiZmxvb3IiLCJ0b0luZGV4UmFuZ2UiLCJwb3MxIiwicG9zMiIsInBNYXgiLCJjZWlsIiwicmFuZ2UiLCJnZXRCeUluZGV4IiwidGlsZSIsIngxIiwieDIiLCJ5MSIsInkyIiwiaW5kZXhYIiwiaW5kZXhZIiwic2VhcmNoQnlQb3NpdGlvbiIsInNlYXJjaEJ5UmFuZ2UiLCJtYXRjaGVzIiwiVGlsZUNvbGxpZGVyIiwicmVzb2x2ZXJzIiwiYWRkR3JpZCIsInRpbGVNYXRyaXgiLCJjaGVja1giLCJyZXNvbHZlciIsImhhbmRsZSIsImNoZWNrWSIsImluZGV4IiwidGlsZUNvbGxpc2lvbkNvbnRleHQiLCJoYW5kbGVyIiwiVGltZXIiLCJkZWx0YVRpbWUiLCJydW5uaW5nIiwiYWNjdW11bGF0ZWRUaW1lIiwibGFzdFRpbWUiLCJ1cGRhdGVQcm94eSIsImVucXVldWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjcmVhdGVBbmltIiwiZnJhbWVMZW4iLCJsb2FkRW50aXRpZXMiLCJlbnRpdHlGYWN0b3J5IiwiYWRkQXMiLCJmYWN0b3J5IiwiUHJvbWlzZSIsImFsbCIsImxvYWRNYXJpbyIsInRoZW4iLCJsb2FkR29vbWJhIiwibG9hZEtvb3BhIiwibG9hZEJ1bGxldCIsImxvYWRDYW5ub24iLCJCZWhhdmlvciIsImdyYXZpdHkiLCJzdG9tcGVyIiwiQnVsbGV0Iiwia2lsbGFibGUiLCJkZWFkIiwia2lsbCIsInN1cGVyIiwidmVsb2NpdHkiLCJiZWhhdmlvciIsImxvYWRTcHJpdGVTaGVldCIsImNyZWF0ZUJ1bGxldEZhY3RvcnkiLCJzcHJpdGVzIiwiZHJhd0J1bGxldCIsImJ1bGxldCIsIkNhbm5vbiIsImVtaXR0ZXIiLCJsb2FkQXVkaW9Cb2FyZCIsImVtaXRCdWxsZXQiLCJkaXIiLCJhYnMiLCJjb3B5Iiwic2lnbiIsImNhbm5vbiIsImludGVydmFsIiwiZW1pdHRlcnMiLCJjcmVhdGVDYW5ub25GYWN0b3J5IiwiR29vbWJhIiwicGVuZHVsdW1Nb3ZlIiwicGh5c2ljcyIsInNvbGlkIiwiY3JlYXRlR29vbWJhRmFjdG9yeSIsIndhbGtBbmltIiwiZHJhd0dvb21iYSIsImdvb21iYSIsIktvb3BhU3RhdGUiLCJzdGF0ZSIsIldBTEtJTkciLCJoaWRlVGltZSIsImhpZGVEdXJhdGlvbiIsInBhbmljU3BlZWQiLCJ3YWxrU3BlZWQiLCJLb29wYSIsImhhbmRsZVN0b21wIiwiaGFuZGxlTnVkZ2UiLCJISURJTkciLCJwYW5pYyIsIlBBTklDIiwidHJhdmVsRGlyIiwiaW1wYWN0RGlyIiwiaGlkZSIsIm9ic3RydWN0cyIsImVuYWJsZWQiLCJ1bmhpZGUiLCJjcmVhdGVLb29wYUZhY3RvcnkiLCJ3YWtlQW5pbSIsImRyYXdLb29wYSIsImtvb3BhIiwicm91dGVBbmltIiwiTWFyaW8iLCJnbyIsImp1bXAiLCJkcmFnIiwidHVyYm8iLCJydW5BbmltIiwicm91dGVGcmFtZSIsIm1hcmlvIiwiZmFsbGluZyIsImRyYXdNYXJpbyIsImhlYWRpbmciLCJyZW1vdmVBZnRlciIsImNyZWF0ZU1hcmlvRmFjdG9yeSIsInNldHVwS2V5Ym9hcmQiLCJpbnB1dCIsInJvdXRlciIsImNhbmNlbCIsImNyZWF0ZUJhY2tncm91bmRMYXllciIsInRpbGVzIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwic2NyZWVuIiwiZHJhd1dpZHRoIiwiZHJhd0Zyb20iLCJkcmF3VG8iLCJjbGVhclJlY3QiLCJjb2wiLCJncmlkIiwicmVkcmF3IiwiY3JlYXRlVGlsZUNhbmRpZGF0ZUxheWVyIiwidGlsZVJlc29sdmVyIiwicmVzb2x2ZWRUaWxlcyIsImdldEJ5SW5kZXhPcmlnaW5hbCIsImNhbGwiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsInJlY3QiLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJjcmVhdGVDb2xsaXNpb25MYXllciIsImRyYXdUaWxlQ2FuZGlkYXRlcyIsImRyYXdCb3VuZGluZ0JveGVzIiwiY3JlYXRlQ29sb3JMYXllciIsImNvbG9yIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjcmVhdGVEYXNoYm9hcmRMYXllciIsImZvbnQiLCJMSU5FMSIsIkxJTkUyIiwidGltZXIiLCJnZXRUaW1lclRyYWl0IiwiZ2V0UGxheWVyVHJhaXQiLCJzY29yZSIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJjb2lucyIsImN1cnJlbnRUaW1lIiwidG9GaXhlZCIsImNyZWF0ZVBsYXllclByb2dyZXNzTGF5ZXIiLCJidWZmZXJDdHgiLCJnZXRQbGF5ZXIiLCJsaXZlcyIsImNyZWF0ZVNwcml0ZUxheWVyIiwic3ByaXRlQ3R4IiwibG9hZEltYWdlIiwicGF0aCIsInJlc29sdmUiLCJyZWplY3QiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJsb2FkSlNPTiIsImZldGNoIiwicmVzIiwianNvbiIsImxvYWRBdWRpbyIsImNyZWF0ZUF1ZGlvTG9hZGVyIiwiYXVkaW9TaGVldCIsImpvYnMiLCJmeCIsInVybCIsInJlc3BvbnNlIiwiYXJyYXlCdWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJMRVRURVJTIiwiRm9udFNoZWV0Iiwic2hlZXQiLCJ0ZXh0Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJsb2FkRm9udCIsImkiLCJjcmVhdGVUcmlnZ2VyIiwibG9hZFBhdHRlcm4iLCJzZXR1cEJlaGF2aW9yIiwiY3JlYXRlVGltZXIiLCJzZXR1cEJhY2tncm91bmRzIiwibGV2ZWxTcGVjIiwicGF0dGVybnNTcGVjIiwicGF0dGVybnMiLCJNYXRyaXgiLCJ3YWxrVGlsZXMiLCJleHBhbmRSYW5nZXMiLCJyYW5nZXMiLCJkZXJpdmVkWCIsImRlcml2ZWRZIiwicGF0dGVybiIsImV4cGFuZFRpbGVzIiwiY3JlYXRlR3JpZCIsImJhY2tncm91bmRMYXllciIsImNyZWF0ZUxldmVsTG9hZGVyIiwic3ByaXRlU2hlZXQiLCJsb2FkTXVzaWNTaGVldCIsIm11c2ljU2hlZXQiLCJwYXR0ZXJuU2hlZXQiLCJwYXR0ZXJuU3BlYyIsImNyZWF0ZUVudGl0eSIsInNwcml0ZUxheWVyIiwic2V0dXBFbnRpdGllcyIsInRyaWdnZXJzIiwidHJpZ2dlclNwZWMiLCJ0cmlnZ2VyIiwiY29uZGl0aW9ucyIsInRvdWNoZXMiLCJnYyIsInNldHVwVHJpZ2dlcnMiLCJleHBhbmRTcGFuIiwieFN0YXJ0IiwieExlbiIsInlTdGFydCIsInlMZW4iLCJ4RW5kIiwieUVuZCIsImV4cGFuZFJhbmdlIiwiT2JqZWN0IiwiZW50cmllcyIsInNoZWV0U3BlYyIsImltYWdlVVJMIiwidGlsZVciLCJ0aWxlSCIsInRpbGVTcGVjIiwidmFsdWUiLCJjb2x1bW5zIiwiY3JlYXRlUGxheWVyRW52IiwiZW52IiwiY29udHJvbGxlciIsImNoZWNrcG9pbnQiLCJhZGRDb2lucyIsIkVtaXR0ZXIiLCJjb29sZG93biIsIkdvIiwiYWNjZWxlcmF0aW9uIiwiZGVjZWxlcmF0aW9uIiwiZnJpY3Rpb24iLCJhYnNYIiwiZGVjZWwiLCJtaW4iLCJHcmF2aXR5IiwiSnVtcCIsImR1cmF0aW9uIiwiZW5nYWdlVGltZSIsInJlYWR5IiwiZ3JhY2VUaW1lIiwiZ3JhY2VEdXJhdGlvbiIsIktpbGxhYmxlIiwiZGVhZFRpbWUiLCJyZXZpdmUiLCJMZXZlbFRpbWVyIiwidG90YWxUaW1lIiwiaHVycnlUaW1lIiwiaHVycnlFbWl0dGVkIiwiVElNRVJfSFVSUlkiLCJUSU1FUl9PS0FZIiwiUGVuZHVsdW1XYWxrIiwiUGh5c2ljcyIsIlBsYXllciIsImFkZExpdmVzIiwiUGxheWVyQ29udHJvbGxlciIsIlNvbGlkIiwiU3RvbXBlciIsImJvdW5kU3BlZWQiLCJib3VuY2UiLCJTVE9NUCIsIlRyaWdnZXIiLCJjb25kaXRpb24iLCJWZWxvY2l0eSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiciIsInRvU3RyaW5nVGFnIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJBdWRpb0NvbnRleHQiLCJsb2FkTGV2ZWwiLCJzY2VuZVJ1bm5lciIsInJ1bkxldmVsIiwic3BlYyIsImxvZyIsImRhc2hib2FyZExheWVyIiwicGxheWVyUHJvZ3Jlc3NMYXllciIsInBsYXllckVudiIsIndhaXRTY3JlZW4iLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==