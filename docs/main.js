/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/AudioBoard.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.buffers=new Map}add(t,e){this.buffers.set(t,e)}play(t,e){const s=this.buffers.get(t);if(!s)return;const i=e.createBufferSource();i.connect(e.destination),i.buffer=s,i.start(0)}}},"./src/BoundingBox.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.pos=t,this.size=e,this.offset=s}overlaps(t){return this.bottom>t.top&&this.top<t.bottom&&this.left<t.right&&this.right>t.left}get bottom(){return this.pos.y+this.size.y+this.offset.y}get top(){return this.pos.y+this.offset.y}get left(){return this.pos.x+this.offset.x}get right(){return this.pos.x+this.size.x+this.offset.x}set bottom(t){this.pos.y=t-(this.size.y+this.offset.y)}set top(t){this.pos.y=t-this.offset.y}set left(t){this.pos.x=t-this.offset.x}set right(t){this.pos.x=t-(this.size.x+this.offset.x)}}},"./src/Camera.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/math.ts");class r{constructor(){this.pos=new i.Vector(0,0),this.size=new i.Vector(256,224)}}},"./src/Compositor.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.layers=[]}add(t){this.layers.push(t)}draw(t,e){this.layers.forEach((s=>s(t,e)))}}},"./src/Entity.ts":(t,e,s)=>{s.r(e),s.d(e,{Sides:()=>i,Trait:()=>o,default:()=>c});var i,r=s("./src/BoundingBox.ts"),n=s("./src/EventEmitter.ts"),a=s("./src/math.ts");!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(i||(i={}));class o{constructor(){this.tasks=[],this.events=new n.default}collides(t,e){}finalize(){this.tasks.forEach((t=>t())),this.tasks.length=0}obstruct(t,e,s){}queue(t){this.tasks.push(t)}update(t,e){}}class c{constructor(t){this.sounds=new Set,this.pos=new a.Vector,this.size=new a.Vector,this.offset=new a.Vector,this.vel=new a.Vector,this.traits=new Map,this.lifetime=0,this.draw=(t,e)=>{},this.audioBoard=t,this.bounds=new r.default(this.pos,this.size,this.offset)}addTrait(t,e){this.traits.set(t,e)}collides(t){this.traits.forEach((e=>{e.collides(this,t)}))}finalize(){this.traits.forEach((t=>{t.finalize()}))}getTrait(t){return this.traits.get(t)}obstruct(t,e){this.traits.forEach((s=>{s.obstruct(this,t,e)}))}playSounds(t,e){this.sounds.forEach((s=>{t.play(s,e)})),this.sounds.clear()}update(t){this.traits.forEach((e=>{e.update(this,t)})),this.playSounds(this.audioBoard,t.audioContext),this.lifetime+=t.dt}}},"./src/EntityCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t){this.entities=t}check(t){this.entities.forEach((e=>{t!==e&&t.bounds.overlaps(e.bounds)&&(t.collides(e),e.collides(t))}))}}},"./src/EventEmitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.listeners=new Map}listen(t,e){const s=this.listeners.get(t)||[];s.push(e),this.listeners.set(t,s)}emit(t,...e){const s=this.listeners.get(t);s&&s.forEach((t=>{t(...e)}))}}},"./src/KeyboardState.ts":(t,e,s)=>{var i;s.r(e),s.d(e,{KeyState:()=>i,default:()=>r}),function(t){t[t.RELEASED=0]="RELEASED",t[t.PRESSED=1]="PRESSED"}(i||(i={}));class r{constructor(){this.keyStates=new Map,this.keyMap=new Map}addMapping(t,e){this.keyMap.set(t,e)}handleEvent(t){const{code:e,type:s}=t;if(!this.keyMap.has(e))return;t.preventDefault();const r="keydown"===s?i.PRESSED:i.RELEASED;this.keyStates.get(e)!==r&&(this.keyStates.set(e,r),this.keyMap.get(e)(r))}listenTo(t){["keydown","keyup"].forEach((e=>{t.addEventListener(e,(t=>{this.handleEvent(t)}))}))}}},"./src/Level.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o});var i=s("./src/Compositor.ts"),r=s("./src/EntityCollider.ts"),n=s("./src/MusicController.ts"),a=s("./src/TileCollider.ts");class o{constructor(){this.music=new n.default,this.comp=new i.default,this.entities=new Set,this.tileCollider=new a.default,this.entityCollider=new r.default(this.entities),this.time=0}update(t,e,s){this.entities.forEach((i=>{i.update({dt:t,level:this,audioContext:e,entityFactory:s})})),this.entities.forEach((t=>{this.entityCollider.check(t)})),this.entities.forEach((t=>{t.finalize()})),this.time+=t}}},"./src/MusicController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.musicPlayer=null}play(t){this.musicPlayer.play(t)}setPlayer(t){this.musicPlayer=t}}},"./src/MusicPlayer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.tracks=new Map}addTrack(t,e){const s=new Audio(e);s.loop=!0,this.tracks.set(t,s)}play(t){const e=this.tracks.get(t);e&&e.play()}}},"./src/SpriteSheet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.image=t,this.width=e,this.height=s,this.frames=new Map,this.animations=new Map}getAnimation(t){return this.animations.get(t)}defineAnim(t,e){this.animations.set(t,e)}define(t,e,s,i,r){const n=[!1,!0].map((t=>{const n=document.createElement("canvas").getContext("2d");return n.canvas.setAttribute("width",`${this.width}px`),n.canvas.setAttribute("height",`${this.height}px`),t&&(n.scale(-1,1),n.translate(-i,0)),n.drawImage(this.image,e,s,i,r,0,0,i,r),n.canvas}));this.frames.set(t,n)}defineTile(t,e,s){this.define(t,e*this.width,s*this.height,this.width,this.height)}draw(t,e,s,i,r=!1){const n=this.frames.get(t);n||console.warn(`Frame ${t} is not defined!`),e.drawImage(n[r?1:0],s,i)}drawAnim(t,e,s,i,r){const n=this.animations.get(t);if(!n)return this.drawTile(t,e,s,i);this.drawTile(n(r),e,s,i)}drawTile(t,e,s,i,r=!1){this.draw(t,e,s*this.width,i*this.height,r)}}},"./src/TileCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{TileResolver:()=>a,default:()=>o});var i=s("./src/tiles/brick.ts"),r=s("./src/tiles/ground.ts");const n={brick:i.brick,ground:r.ground};class a{constructor(t,e=16){this.matrix=t,this.tileSize=e}toIndex(t){return Math.floor(t/this.tileSize)}toIndexRange(t,e){const s=Math.ceil(e/this.tileSize)*this.tileSize,i=[];let r=t;do{i.push(this.toIndex(r)),r+=this.tileSize}while(r<s);return i}getByIndex(t,e){const s=this.matrix.get(t,e);return s?{tile:s,x1:t*this.tileSize,x2:(t+1)*this.tileSize,y1:e*this.tileSize,y2:(e+1)*this.tileSize,indexX:t,indexY:e}:null}searchByPosition(t,e){return this.getByIndex(this.toIndex(t),this.toIndex(e))}searchByRange(t,e,s,i){const r=[];return this.toIndexRange(t,e).forEach((t=>{this.toIndexRange(s,i).forEach((e=>{const s=this.getByIndex(t,e);s&&r.push(s)}))})),r}}class o{constructor(){this.resolvers=[]}addGrid(t){this.resolvers.push(new a(t))}checkX(t,e){if(0===t.vel.x)return;let s=t.bounds.left+(t.vel.x>0?t.size.x:0);for(const i of this.resolvers){i.searchByRange(s,s,t.bounds.top,t.bounds.bottom).forEach((s=>{this.handle(0,{entity:t,match:s,resolver:i,gameContext:e})}))}}checkY(t,e){if(0===t.vel.y)return;let s=t.bounds.top+(t.vel.y>0?t.size.y:0);for(const i of this.resolvers){i.searchByRange(t.bounds.left,t.bounds.right,s,s).forEach((s=>{this.handle(1,{entity:t,match:s,resolver:i,gameContext:e})}))}}handle(t,e){const s=n[e.match.tile.type];s&&s[t]&&s[t](e)}}},"./src/Timer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t=1/60){this.running=!1;let e=0,s=0;this.updateProxy=(i=0)=>{for(e+=(i-s)/1e3,e>1&&(e=1);e>t;)this.update(t),e-=t;s=i,this.enqueue()}}enqueue(){requestAnimationFrame(this.updateProxy)}start(){this.running||(this.running=!0,this.enqueue())}}},"./src/anim.ts":(t,e,s)=>{function i(t,e){return function(s){return t[Math.floor(s/e)%t.length]}}s.r(e),s.d(e,{createAnim:()=>i})},"./src/entities.ts":(t,e,s)=>{s.r(e),s.d(e,{loadEntities:()=>c});var i=s("./src/entities/Mario.ts"),r=s("./src/entities/Goomba.ts"),n=s("./src/entities/Koopa.ts"),a=s("./src/entities/Bullet.ts"),o=s("./src/entities/Cannon.ts");function c(t){const e={};function s(t){return s=>e[t]=s}return Promise.all([(0,i.loadMario)(t).then(s("mario")),(0,r.loadGoomba)(t).then(s("goomba")),(0,n.loadKoopa)(t).then(s("koopa")),(0,a.loadBullet)(t).then(s("bullet")),(0,o.loadCannon)(t,e).then(s("cannon"))]).then((()=>e))}},"./src/entities/Bullet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>h,loadBullet:()=>u});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Gravity.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/Stomper.ts"),c=s("./src/traits/Velocity.ts"),l=s("./src/entities/Mario.ts");class d extends i.Trait{constructor(){super(...arguments),this.gravity=new n.default}collides(t,e){const s=e.getTrait("stomper");t instanceof h&&!t.killable.dead&&s instanceof o.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.vel.set(100,-200)):e instanceof l.default&&e.killable.kill())}update(t,e){t instanceof h&&t.killable.dead&&this.gravity.update(t,e)}}class h extends i.default{constructor(){super(),this.addTrait("velocity",this.velocity=new c.default),this.addTrait("bullet",this.behavior=new d),this.addTrait("killable",this.killable=new a.default)}}function u(t){return(0,r.loadSpriteSheet)("bullet").then(f)}function f(t){function e(e){t.draw("bullet",e,0,0,this.vel.x<0)}return function(){const t=new h;return t.size.set(16,16),t.draw=e,t}}},"./src/entities/Cannon.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o,loadCannon:()=>c});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/player.ts"),a=s("./src/traits/Emitter.ts");class o extends i.default{constructor(t){super(t),this.addTrait("emitter",this.emitter=new a.default),this.size.set(16,14)}}function c(t,e){return(0,r.loadAudioBoard)("cannon",t).then((t=>function(t,e){function s(t,s){if(!(t instanceof o))return;let i;for(const e of(0,n.findPlayers)(s))if(i=e.pos.x-t.pos.x,Math.abs(e.pos.x-t.pos.x)<=30)return;const r=e.bullet();r.pos.copy(t.pos),r.vel.x=80*Math.sign(i),t.sounds.add("shoot"),s.entities.add(r)}return function(){const e=new o(t);return e.emitter.interval=4,e.emitter.emitters.push(s),e}}(t,e)))}},"./src/entities/Goomba.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>u,loadGoomba:()=>f});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Killable.ts"),a=s("./src/traits/PendulumMove.ts"),o=s("./src/traits/Physics.ts"),c=s("./src/traits/Solid.ts"),l=s("./src/traits/Stomper.ts"),d=s("./src/entities/Mario.ts");class h extends i.Trait{collides(t,e){const s=e.getTrait("stomper");t instanceof u&&!t.killable.dead&&s instanceof l.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.pendulumMove.speed=0):e instanceof d.default&&e.killable.kill())}}class u extends i.default{constructor(){super(),this.addTrait("physics",this.physics=new o.default),this.addTrait("solid",this.solid=new c.default),this.addTrait("pendulumMove",this.pendulumMove=new a.default),this.addTrait("goomba",this.behavior=new h),this.addTrait("killable",this.killable=new n.default)}}function f(t){return(0,r.loadSpriteSheet)("goomba").then(p)}function p(t){const e=t.getAnimation("walk");function s(s){var i;t.draw((i=this).killable.dead?"flat":e(i.lifetime),s,0,0)}return function(){const t=new u;return t.size.set(16,16),t.draw=s,t}}},"./src/entities/Koopa.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadKoopa:()=>p});var i,r=s("./src/Entity.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/PendulumMove.ts"),c=s("./src/traits/Physics.ts"),l=s("./src/traits/Solid.ts"),d=s("./src/traits/Stomper.ts"),h=s("./src/entities/Mario.ts");!function(t){t[t.WALKING=0]="WALKING",t[t.HIDING=1]="HIDING",t[t.PANIC=2]="PANIC"}(i||(i={}));class u extends r.Trait{constructor(){super(...arguments),this.state=i.WALKING,this.hideTime=0,this.hideDuration=5,this.panicSpeed=300,this.walkSpeed=null}collides(t,e){const s=e.getTrait("stomper");t instanceof f&&!t.killable.dead&&s instanceof d.default&&(e.vel.y>t.vel.y?this.handleStomp(t,e):e instanceof h.default&&this.handleNudge(t,e))}handleNudge(t,e){switch(this.state){case i.WALKING:e.killable.kill();break;case i.HIDING:this.panic(t,e);break;case i.PANIC:{const s=Math.sign(t.vel.x),i=Math.sign(t.pos.x-e.pos.x);0!==s&&s!==i&&e.killable.kill()}}}handleStomp(t,e){switch(this.state){case i.WALKING:this.hide(t);break;case i.HIDING:t.killable.kill(),t.vel.set(100,-200),t.solid.obstructs=!1;break;case i.PANIC:this.hide(t)}}hide(t){t.vel.x=0,t.pendulumMove.enabled=!1,this.walkSpeed||(this.walkSpeed=t.pendulumMove.speed),this.state=i.HIDING}panic(t,e){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.panicSpeed*Math.sign(e.vel.x),this.state=i.PANIC}unhide(t){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.walkSpeed,this.state=i.WALKING}update(t,e){const{dt:s}=e;t instanceof f&&this.state===i.HIDING&&(this.hideTime+=s,this.hideTime>this.hideDuration&&this.unhide(t))}}class f extends r.default{constructor(){super(),this.addTrait("physics",this.physics=new c.default),this.addTrait("solid",this.solid=new l.default),this.addTrait("pendulumMove",this.pendulumMove=new o.default),this.addTrait("goomba",this.behavior=new u),this.addTrait("killable",this.killable=new a.default)}}function p(t){return(0,n.loadSpriteSheet)("koopa").then(y)}function y(t){const e=t.getAnimation("walk"),s=t.getAnimation("wake");function r(r){t.draw(function(t){switch(t.behavior.state){case i.HIDING:if(t.behavior.hideTime>3)return s(t.lifetime);case i.PANIC:return"hiding";default:return e(t.lifetime)}}(this),r,0,0,this.vel.x<0)}return function(){const t=new f;return t.size.set(16,16),t.offset.y=8,t.draw=r,t}}},"./src/entities/Mario.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadMario:()=>p});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Go.ts"),o=s("./src/traits/Jump.ts"),c=s("./src/traits/Killable.ts"),l=s("./src/traits/Physics.ts"),d=s("./src/traits/Player.ts"),h=s("./src/traits/Solid.ts"),u=s("./src/traits/Stomper.ts");class f extends i.default{constructor(t){super(t),this.size.set(14,16),this.addTrait("player",this.player=new d.default),this.addTrait("physics",this.physics=new l.default),this.addTrait("solid",this.solid=new h.default),this.addTrait("go",this.go=new a.default),this.addTrait("jump",this.jump=new o.default),this.addTrait("stomper",this.stomper=new u.default),this.addTrait("killable",this.killable=new c.default),this.go.drag=.001}turbo(t){this.go.drag=t?2e-4:.001}}function p(t){return Promise.all([(0,n.loadSpriteSheet)("mario"),(0,r.loadAudioBoard)("mario",t)]).then((([t,e])=>function(t,e){const s=t.getAnimation("run");function i(t){return t.jump.falling?"jump":t.go.distance>0?t.vel.x>0&&t.go.dir<0||t.vel.x<0&&t.go.dir>0?"break":s(t.go.distance):"idle"}function r(e){t.draw(i(this),e,0,0,this.go.heading<0)}return function(){const t=new f(e);return t.draw=r,t.killable.removeAfter=0,t}}(t,e)))}},"./src/input.ts":(t,e,s)=>{s.r(e),s.d(e,{setupKeyboard:()=>r});var i=s("./src/KeyboardState.ts");function r(t){const e=new i.default;return e.addMapping("KeyP",(e=>{e?t.jump.start():t.jump.cancel()})),e.addMapping("KeyO",(e=>{t.turbo(1===e)})),e.addMapping("KeyA",(e=>{t.go.dir+=e?-1:1})),e.addMapping("KeyD",(e=>{t.go.dir+=e?1:-1})),e}},"./src/layers/background.ts":(t,e,s)=>{s.r(e),s.d(e,{createBackgroundLayer:()=>r});var i=s("./src/TileCollider.ts");function r(t,e,s){const r=new i.TileResolver(e),n=document.createElement("canvas").getContext("2d");return n.imageSmoothingEnabled=!1,n.canvas.width=272,n.canvas.height=240,function(i,a){const o=r.toIndex(a.size.x),c=r.toIndex(a.pos.x);!function(i,r){n.clearRect(0,0,n.canvas.width,n.canvas.height);for(let a=i;a<=r;a++){const r=e.grid[a];r&&r.forEach(((e,r)=>{s.drawAnim(e.name,n,a-i,r,t.time)}))}}(c,c+o),i.drawImage(n.canvas,-a.pos.x%16,-a.pos.y)}}},"./src/layers/collision.ts":(t,e,s)=>{function i(t){const e=[],s=t.tileSize,i=t.getByIndex;return t.getByIndex=function(s,r){return e.push({x:s,y:r}),i.call(t,s,r)},function(t,i){t.strokeStyle="blue",e.forEach((({x:e,y:r})=>{t.beginPath(),t.rect(e*s-i.pos.x,r*s-i.pos.y,s,s),t.stroke(),t.closePath()})),e.length=0}}function r(t){const e=t.tileCollider.resolvers.map(i),s=(r=t.entities,function(t,e){t.strokeStyle="red",r.forEach((s=>{t.beginPath(),t.rect(s.bounds.left-e.pos.x,s.bounds.top-e.pos.y,s.size.x,s.size.y),t.stroke(),t.closePath()}))});var r;return function(t,i){e.forEach((e=>e(t,i))),s(t,i)}}s.r(e),s.d(e,{createCollisionLayer:()=>r})},"./src/layers/dashboard.ts":(t,e,s)=>{function i(t,e){const s=t.size,i=2*t.size;return function(r){const n=Math.max(0,e.time);t.draw("MARIO",r,16,s),t.draw(e.score.toString().padStart(6,"0"),r,16,i),t.draw(`@x${26..toString().padStart(2,"0")}`,r,96,i),t.draw("WORLD",r,152,s),t.draw("1-1",r,160,i),t.draw("TIME",r,208,s),t.draw(n.toFixed(0).padStart(3,"0"),r,216,i)}}s.r(e),s.d(e,{createDashboardLayer:()=>i})},"./src/layers/sprite.ts":(t,e,s)=>{function i(t,e=64,s=64){const i=document.createElement("canvas").getContext("2d");return i.imageSmoothingEnabled=!1,i.canvas.width=e,i.canvas.height=s,function(r,n){t.forEach((t=>{i.clearRect(0,0,e,s),t.draw(i),r.drawImage(i.canvas,t.pos.x-n.pos.x,t.pos.y-n.pos.y)}))}}s.r(e),s.d(e,{createSpriteLayer:()=>i})},"./src/loaders.ts":(t,e,s)=>{s.r(e),s.d(e,{loadImage:()=>r,loadJSON:()=>n});var i=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function r(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,s)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s,i.src=t}))}))}function n(t){return fetch(t).then((t=>t.json()))}},"./src/loaders/audio.ts":(t,e,s)=>{s.r(e),s.d(e,{loadAudioBoard:()=>a,createAudioLoader:()=>o});var i=s("./src/AudioBoard.ts"),r=s("./src/loaders.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t,e){return n(this,void 0,void 0,(function*(){const s=o(e),n=yield(0,r.loadJSON)(`./sounds/${t}.json`),a=new i.default,c=[];return n.fx.forEach((({name:t,url:e})=>{c.push(s(e).then((e=>{a.add(t,e)})))})),yield Promise.all(c),a}))}function o(t){return function(e){return fetch(e).then((t=>t.arrayBuffer())).then((e=>t.decodeAudioData(e)))}}},"./src/loaders/font.ts":(t,e,s)=>{s.r(e),s.d(e,{FontSheet:()=>o,loadFont:()=>c});var i=s("./src/loaders.ts"),r=s("./src/SpriteSheet.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const a=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";class o{constructor(t,e){this.sheet=t,this.size=e}draw(t,e,s,i){for(let r=0;r<t.length;r++)this.sheet.draw(t[r],e,s+r*this.size,i)}}function c(){return n(this,void 0,void 0,(function*(){const t=yield(0,i.loadImage)("./sheets/font.png"),e=new r.default(t);for(let t=0;t<a.length;t++){const s=8*(15&t),i=8*(t>>4);e.define(a[t],s,i,8,8)}return new o(e,8)}))}},"./src/loaders/level.ts":(t,e,s)=>{s.r(e),s.d(e,{createLevelLoader:()=>h});var i=s("./src/layers/background.ts"),r=s("./src/layers/sprite.ts"),n=s("./src/Level.ts"),a=s("./src/loaders.ts"),o=s("./src/math.ts"),c=s("./src/loaders/music.ts"),l=s("./src/loaders/sprite.ts");function d(t,e,s){t.layers.forEach(((r,n)=>{const a=function(t,e){const s=new o.Matrix;for(const{tile:i,x:r,y:n}of function*(t,e){function*s(t,i,r){for(const n of t)for(const{x:t,y:a}of p(n.ranges)){const o=t+i,c=a+r;if(n.pattern){const t=e[n.pattern].tiles;yield*s(t,o,c)}else yield{tile:n,x:o,y:c}}}yield*s(t,0,0)}(t,e))s.set(r,n,i);return s}(r.tiles,t.patterns),c=(0,i.createBackgroundLayer)(e,a,s);e.comp.add(c),e.tileCollider.addGrid(a)}))}function h(t){return function(e){return(0,a.loadJSON)(`./levels/${e}.json`).then((t=>Promise.all([t,(0,l.loadSpriteSheet)(t.spriteSheet),(0,c.loadMusicSheet)(t.musicSheet)]))).then((([e,s,i])=>{const a=new n.default;return a.music.setPlayer(i),d(e,a,s),function(t,e,s){t.entities.forEach((({name:t,pos:[i,r]})=>{const n=(0,s[t])();n.pos.set(i,r),e.entities.add(n)}));const i=(0,r.createSpriteLayer)(e.entities);e.comp.add(i)}(e,a,t),a}))}}function*u(t,e,s,i){const r=t+e,n=s+i;for(let e=t;e<r;e++)for(let t=s;t<n;t++)yield{x:e,y:t}}function f(t){switch(t.length){case 4:return u(...t);case 3:return u(t[0],t[1],t[2],1);case 2:return u(t[0],1,t[1],1)}}function*p(t){for(const e of t)yield*f(e)}},"./src/loaders/music.ts":(t,e,s)=>{s.r(e),s.d(e,{loadMusicSheet:()=>a});var i=s("./src/loaders.ts"),r=s("./src/MusicPlayer.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t){return n(this,void 0,void 0,(function*(){const e=yield(0,i.loadJSON)(`./music/${t}.json`),s=new r.default;for(const[t,i]of Object.entries(e))s.addTrack(t,i.url);return s}))}},"./src/loaders/sprite.ts":(t,e,s)=>{s.r(e),s.d(e,{loadSpriteSheet:()=>a});var i=s("./src/anim.ts"),r=s("./src/loaders.ts"),n=s("./src/SpriteSheet.ts");function a(t){return(0,r.loadJSON)(`./sprites/${t}.json`).then((t=>Promise.all([t,(0,r.loadImage)(t.imageURL)]))).then((([t,e])=>{const s=new n.default(e,t.tileW,t.tileH);return t.tiles&&t.tiles.forEach((t=>{s.defineTile(t.name,...t.index)})),t.frames&&t.frames.forEach((({name:t,rect:e})=>{s.define(t,...e)})),t.animations&&t.animations.forEach((({name:t,frameLen:e,frames:r})=>{const n=(0,i.createAnim)(r,e);s.defineAnim(t,n)})),s}))}},"./src/math.ts":(t,e,s)=>{s.r(e),s.d(e,{Matrix:()=>i,Vector:()=>r});class i{constructor(){this.grid=[]}delete(t,e){const s=this.grid[t];s&&delete s[e]}get(t,e){const s=this.grid[t];if(s)return s[e]}set(t,e,s){this.grid[t]||(this.grid[t]=[]),this.grid[t][e]=s}forEach(t){this.grid.forEach(((e,s)=>{e.forEach(((e,i)=>{t(s,i,e)}))}))}}class r{constructor(t=0,e=0){this.set(t,e)}copy(t){this.set(t.x,t.y)}set(t,e){this.x=t,this.y=e}}},"./src/player.ts":(t,e,s)=>{s.r(e),s.d(e,{createPlayerEnv:()=>a,findPlayers:()=>o});var i=s("./src/Entity.ts"),r=s("./src/traits/Player.ts"),n=s("./src/traits/PlayerController.ts");function a(t){const e=new i.default,s=new n.default;return s.checkpoint.set(64,64),s.setPlayer(t),e.addTrait("controller",s),e}function*o(t){for(const e of t.entities)e.getTrait("player")instanceof r.default&&(yield e)}},"./src/tiles/brick.ts":(t,e,s)=>{s.r(e),s.d(e,{brick:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s,resolver:r,gameContext:n}=t;if(e.vel.y>0)e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s);else if(e.vel.y<0){if(e.getTrait("player")){r.matrix.delete(s.indexX,s.indexY);const t=n.entityFactory.goomba();t.pos.set(e.pos.x,s.y1),t.vel.set(50,-400),n.level.entities.add(t)}e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}}]},"./src/tiles/ground.ts":(t,e,s)=>{s.r(e),s.d(e,{ground:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s}=t;e.vel.y>0?e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s):e.vel.y<0&&e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}]},"./src/traits/Emitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.cooldown=2,this.interval=2,this.emitters=[]}emit(t,e){for(const s of this.emitters)s(t,e)}update(t,e){const{dt:s,level:i}=e;this.cooldown-=s,this.cooldown<0&&(this.emit(t,i),this.cooldown=this.interval)}}},"./src/traits/Go.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Jump.ts");class n extends i.Trait{constructor(){super(),this.dir=0,this.acceleration=400,this.deceleration=300,this.friction=2e-4,this.distance=0,this.heading=1}set drag(t){this.friction=t}update(t,e){const{dt:s}=e,i=Math.abs(t.vel.x);if(0!==this.dir){t.vel.x+=this.acceleration*s*this.dir;const e=t.getTrait("jump");e?e instanceof r.default&&!e.falling&&(this.heading=this.dir):this.heading=this.dir}else if(0!==t.vel.x){const e=Math.min(i,this.deceleration*s);t.vel.x+=e*(t.vel.x>0?-1:1)}else this.distance=0;const n=this.friction*t.vel.x*i;t.vel.x-=n,this.distance+=i*s}}},"./src/traits/Gravity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{dt:s}=e;t.vel.y+=this.gravity*s}}},"./src/traits/Jump.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(),this.duration=.3,this.velocity=200,this.engageTime=0,this.ready=0,this.graceTime=0,this.graceDuration=.1}get falling(){return this.ready<0}start(){this.graceTime=this.graceDuration}cancel(){this.engageTime=0,this.graceTime=0}obstruct(t,e){e===i.Sides.BOTTOM&&(this.ready=1),e===i.Sides.TOP&&this.cancel()}update(t,e){const{dt:s}=e;this.graceTime>0&&(this.ready>0&&(t.sounds.add("jump"),this.engageTime=this.duration,this.graceTime=0),this.graceTime-=s),this.engageTime>0&&(t.vel.y=-(this.velocity+.3*Math.abs(t.vel.x)),this.engageTime-=s),this.ready--}}},"./src/traits/Killable.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.dead=!1,this.removeAfter=2,this.deadTime=0}kill(){this.queue((()=>this.dead=!0))}revive(){this.dead=!1,this.deadTime=0}update(t,e){const{dt:s,level:i}=e;this.dead&&(this.deadTime+=s,this.deadTime>this.removeAfter&&this.queue((()=>i.entities.delete(t))))}}},"./src/traits/PendulumMove.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.enabled=!0,this.speed=-30}obstruct(t,e){e!==i.Sides.LEFT&&e!==i.Sides.RIGHT||(this.speed*=-1)}update(t,e){this.enabled&&(t.vel.x=this.speed)}}},"./src/traits/Physics.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{level:s,dt:i}=e;t.pos.x+=t.vel.x*i,s.tileCollider.checkX(t,e),t.pos.y+=t.vel.y*i,s.tileCollider.checkY(t,e),t.vel.y+=this.gravity*i}}},"./src/traits/Player.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.lives=3,this.score=0}}},"./src/traits/PlayerController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/math.ts");class n extends i.Trait{constructor(){super(...arguments),this.player=null,this.checkpoint=new r.Vector,this.time=300,this.score=0}setPlayer(t){this.player=t,this.player.stomper.events.listen("stomp",(()=>{this.score+=100}))}update(t,e){const{dt:s,level:i}=e;this.player&&!i.entities.has(this.player)?(this.player.killable.revive(),this.player.pos.set(this.checkpoint.x,this.checkpoint.y),i.entities.add(this.player)):this.time-=2*s}}},"./src/traits/Solid.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.obstructs=!0}obstruct(t,e,s){if(this.obstructs)switch(e){case i.Sides.RIGHT:t.bounds.left=s.x1-t.size.x,t.vel.x=0;break;case i.Sides.LEFT:t.bounds.left=s.x2,t.vel.x=0;break;case i.Sides.BOTTOM:t.bounds.top=s.y1-t.size.y,t.vel.y=0;break;case i.Sides.TOP:t.bounds.top=s.y2,t.vel.y=0}}}},"./src/traits/Stomper.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Killable.ts");class n extends i.Trait{constructor(){super(...arguments),this.boundSpeed=400}bounce(t,e){t.bounds.bottom=e.bounds.top,t.vel.y=-this.boundSpeed}collides(t,e){const s=e.getTrait("killable");s&&s instanceof r.default&&!s.dead&&t.vel.y>e.vel.y&&(this.queue((()=>this.bounce(t,e))),t.sounds.add("stomp"),this.events.emit("stomp",t,e))}}},"./src/traits/Velocity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{update(t,e){const{dt:s}=e;t.pos.x+=t.vel.x*s,t.pos.y+=t.vel.y*s}}}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{s.r(i);var t=s("./src/Timer.ts"),e=s("./src/input.ts"),r=s("./src/Camera.ts"),n=s("./src/loaders/level.ts"),a=s("./src/entities.ts"),o=s("./src/layers/collision.ts"),c=s("./src/loaders/font.ts"),l=s("./src/layers/dashboard.ts"),d=s("./src/player.ts"),h=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const u=document.querySelector("canvas#screen"),f=()=>{window.removeEventListener("click",f),function(s){h(this,void 0,void 0,(function*(){const i=s.getContext("2d");i.imageSmoothingEnabled=!1;const h=new AudioContext,[u,f]=yield Promise.all([(0,a.loadEntities)(h),(0,c.loadFont)()]),p=yield(0,n.createLevelLoader)(u),y=yield p("1-1"),m=new r.default,v=u.mario(),g=(0,d.createPlayerEnv)(v);y.entities.add(g),y.comp.add((0,o.createCollisionLayer)(y)),y.comp.add((0,l.createDashboardLayer)(f,g.getTrait("controller"))),(0,e.setupKeyboard)(v).listenTo(window);const b=new t.default;b.update=t=>{y.update(t,h,u),m.pos.x=Math.max(0,v.pos.x-100),y.comp.draw(i,m)},b.start(),y.music.play("main")}))}(u)};window.addEventListener("click",f)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxxakJDOEN2RCxNQUFNelAsRUFBNEJILFNBQVNvVCxjQUFjLGlCQUVuRHphLEVBQVEsS0FDWm1GLE9BQU91VixvQkFBb0IsUUFBUzFhLEdBM0N0QyxTQUFvQndILHFDQUNsQixNQUFNbkcsRUFBZ0NtRyxFQUFPRCxXQUFXLE1BQ3hEbEcsRUFBSXdQLHVCQUF3QixFQUM1QixNQUFNdk4sRUFBZSxJQUFJcVgsY0FFbEIvVSxFQUFld00sU0FBYzlHLFFBQVFDLElBQUksRUFDOUMsSUFBQUosY0FBYTdILElBQ2IsSUFBQXFSLGNBR0lpRyxRQUFrQixJQUFBbEYsbUJBQWtCOVAsR0FDcENDLFFBQWMrVSxFQUFVLE9BRXhCdFosRUFBUyxJQUFJLFVBRWI0TyxFQUFRdEssRUFBY3NLLFFBRXRCMkssR0FBWSxJQUFBMUQsaUJBQWdCakgsR0FDbENySyxFQUFNbkMsU0FBU3RFLElBQUl5YixHQUVuQmhWLEVBQU1MLEtBQUtwRyxLQUFJLElBQUE0UyxzQkFBcUJuTSxJQUNwQ0EsRUFBTUwsS0FBS3BHLEtBQUksSUFBQStTLHNCQUFxQkMsRUFBTXlJLEVBQVV6WCxTQUFTLGlCQUUvQyxJQUFBb04sZUFBY04sR0FDdEJoTCxTQUFTQyxRQUVmLE1BQU0yVixFQUFRLElBQUksVUFFbEJBLEVBQU12WSxPQUFVaUIsSUFDZHFDLEVBQU10RCxPQUFPaUIsRUFBSUYsRUFBY3NDLEdBRS9CdEUsRUFBT25CLElBQUlVLEVBQUk4SCxLQUFLNkosSUFBSSxFQUFHdEMsRUFBTS9QLElBQUlVLEVBQUksS0FFekNnRixFQUFNTCxLQUFLcEUsS0FBS0MsRUFBS0MsSUFHdkJ3WixFQUFNOWEsUUFDTjZGLEVBQU1OLE1BQU05RixLQUFLLFdBT2pCc2IsQ0FBS3ZULElBRVByQyxPQUFPRSxpQkFBaUIsUUFBU3JGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQXVkaW9Cb2FyZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9Cb3VuZGluZ0JveC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9DYW1lcmEudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQ29tcG9zaXRvci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9FbnRpdHkudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvRW50aXR5Q29sbGlkZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0tleWJvYXJkU3RhdGUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvTGV2ZWwudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvTXVzaWNDb250cm9sbGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL011c2ljUGxheWVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1Nwcml0ZVNoZWV0LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1RpbGVDb2xsaWRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9UaW1lci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9hbmltLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0J1bGxldC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9DYW5ub24udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMvR29vbWJhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0tvb3BhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL01hcmlvLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2lucHV0LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9iYWNrZ3JvdW5kLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9jb2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbGF5ZXJzL2Rhc2hib2FyZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sYXllcnMvc3ByaXRlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9hdWRpby50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL2ZvbnQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9sZXZlbC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL211c2ljLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMvc3ByaXRlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL21hdGgudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvcGxheWVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RpbGVzL2JyaWNrLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RpbGVzL2dyb3VuZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvRW1pdHRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvR28udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0dyYXZpdHkudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0p1bXAudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0tpbGxhYmxlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9QZW5kdWx1bU1vdmUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1BoeXNpY3MudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1BsYXllci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvUGxheWVyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvU29saWQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1N0b21wZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1ZlbG9jaXR5LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3N1cGVyLW1hcmlvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3N1cGVyLW1hcmlvL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBdWRpb0JvYXJkIHtcbiAgcHJpdmF0ZSBidWZmZXJzOiBNYXA8c3RyaW5nLCBBdWRpb0J1ZmZlcj4gPSBuZXcgTWFwKCk7XG5cbiAgYWRkKG5hbWU6IHN0cmluZywgYnVmZmVyOiBBdWRpb0J1ZmZlcil7XG4gICAgdGhpcy5idWZmZXJzLnNldChuYW1lLCBidWZmZXIpO1xuICB9XG5cbiAgcGxheShuYW1lOiBzdHJpbmcsIGNvbnRleHQ6IEF1ZGlvQ29udGV4dCl7XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXJzLmdldChuYW1lKTtcbiAgICBpZighYnVmZmVyKSByZXR1cm47XG4gICAgY29uc3Qgc291cmNlID0gY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBzb3VyY2UuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyO1xuICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgfVxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuL21hdGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm91bmRpbmdCb3gge1xuICBwcml2YXRlIHBvczogVmVjdG9yO1xuICBwcml2YXRlIHNpemU6IFZlY3RvcjtcbiAgcHJpdmF0ZSBvZmZzZXQ6IFZlY3RvcjtcblxuICBjb25zdHJ1Y3Rvcihwb3M6IFZlY3Rvciwgc2l6ZTogVmVjdG9yLCBvZmZzZXQ6IFZlY3Rvcil7XG4gICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgfVxuXG4gIG92ZXJsYXBzKGJveDogQm91bmRpbmdCb3gpIDogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYm90dG9tID4gYm94LnRvcCBcbiAgICAgICAgJiYgdGhpcy50b3AgPCBib3guYm90dG9tIFxuICAgICAgICAmJiB0aGlzLmxlZnQgPCBib3gucmlnaHQgXG4gICAgICAgICYmIHRoaXMucmlnaHQgPiBib3gubGVmdDtcbiAgfVxuXG4gIGdldCBib3R0b20oKXsgcmV0dXJuIHRoaXMucG9zLnkgKyB0aGlzLnNpemUueSArIHRoaXMub2Zmc2V0Lnk7IH1cbiAgZ2V0IHRvcCgpeyByZXR1cm4gdGhpcy5wb3MueSArIHRoaXMub2Zmc2V0Lnk7IH1cbiAgZ2V0IGxlZnQoKXsgcmV0dXJuIHRoaXMucG9zLnggKyB0aGlzLm9mZnNldC54OyB9XG4gIGdldCByaWdodCgpeyByZXR1cm4gdGhpcy5wb3MueCArIHRoaXMuc2l6ZS54ICsgdGhpcy5vZmZzZXQueDsgfVxuXG4gIHNldCBib3R0b20oeSl7IHRoaXMucG9zLnkgPSB5IC0gKHRoaXMuc2l6ZS55ICsgdGhpcy5vZmZzZXQueSk7IH1cbiAgc2V0IHRvcCh5KXsgdGhpcy5wb3MueSA9IHkgLSB0aGlzLm9mZnNldC55OyB9XG4gIHNldCBsZWZ0KHgpeyB0aGlzLnBvcy54ID0geCAtIHRoaXMub2Zmc2V0Lng7IH1cbiAgc2V0IHJpZ2h0KHgpeyB0aGlzLnBvcy54ID0geCAtICh0aGlzLnNpemUueCArIHRoaXMub2Zmc2V0LngpOyB9XG59IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vbWF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xuICBwdWJsaWMgcG9zOiBWZWN0b3I7XG4gIHB1YmxpYyBzaXplOiBWZWN0b3I7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5wb3MgPSBuZXcgVmVjdG9yKDAsIDApO1xuICAgIHRoaXMuc2l6ZSA9IG5ldyBWZWN0b3IoMjU2LCAyMjQpO1xuICB9XG59IiwiaW1wb3J0IENhbWVyYSBmcm9tIFwiLi9DYW1lcmFcIjtcblxuZXhwb3J0IHR5cGUgTGF5ZXJSZW5kZXJlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhPzogQ2FtZXJhKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb3NpdG9yIHtcbiAgcHJpdmF0ZSBsYXllcnM6IExheWVyUmVuZGVyZXJbXTtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLmxheWVycyA9IFtdO1xuICB9XG4gIGFkZChsYXllcjogTGF5ZXJSZW5kZXJlcil7XG4gICAgdGhpcy5sYXllcnMucHVzaChsYXllcik7XG4gIH1cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhOiBDYW1lcmEpe1xuICAgIHRoaXMubGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4gbGF5ZXIoY3R4LCBjYW1lcmEpKVxuICB9XG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4vQXVkaW9Cb2FyZFwiO1xuaW1wb3J0IEJvdW5kaW5nQm94IGZyb20gXCIuL0JvdW5kaW5nQm94XCI7XG5pbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiLi9FdmVudEVtaXR0ZXJcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4vTGV2ZWxcIjtcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuL21hdGhcIjtcbmltcG9ydCB7IFJlc29sdmVkVGlsZSB9IGZyb20gXCIuL1RpbGVDb2xsaWRlclwiO1xuXG5leHBvcnQgZW51bSBTaWRlcyB7XG4gIFRPUCwgQk9UVE9NLCBMRUZULCBSSUdIVCxcbn1cblxuZXhwb3J0IHR5cGUgVGFzayA9ICgpID0+IHZvaWQ7XG5cbmV4cG9ydCBjbGFzcyBUcmFpdCB7XG4gIHB1YmxpYyB0YXNrczogVGFza1tdID0gW107XG4gIHB1YmxpYyBldmVudHM6IEV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBjb2xsaWRlcyh1czogRW50aXR5LCB0aGVtOiBFbnRpdHkpe31cbiAgZmluYWxpemUoKXtcbiAgICB0aGlzLnRhc2tzLmZvckVhY2godGFzayA9PiB0YXNrKCkpO1xuICAgIHRoaXMudGFza3MubGVuZ3RoID0gMDtcbiAgfVxuICBvYnN0cnVjdChlbnRpdHk6IEVudGl0eSwgc2lkZTogU2lkZXMsIG1hdGNoPzogUmVzb2x2ZWRUaWxlKXt9XG4gIHF1ZXVlKHRhc2s6IFRhc2spe1xuICAgIHRoaXMudGFza3MucHVzaCh0YXNrKTtcbiAgfVxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0PzogR2FtZUNvbnRleHQpe31cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5IHtcbiAgcHVibGljIGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQ7XG4gIHB1YmxpYyBzb3VuZHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBcbiAgcHVibGljIHBvczogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgc2l6ZTogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgb2Zmc2V0OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyBib3VuZHM6IEJvdW5kaW5nQm94O1xuICBwdWJsaWMgdmVsOiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHByaXZhdGUgdHJhaXRzOiBNYXA8c3RyaW5nLCBUcmFpdD4gPSBuZXcgTWFwKCk7XG4gIHB1YmxpYyBsaWZldGltZTogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihhdWRpb0JvYXJkPzogQXVkaW9Cb2FyZCl7XG4gICAgdGhpcy5hdWRpb0JvYXJkID0gYXVkaW9Cb2FyZDtcbiAgICB0aGlzLmJvdW5kcyA9IG5ldyBCb3VuZGluZ0JveCh0aGlzLnBvcywgdGhpcy5zaXplLCB0aGlzLm9mZnNldCk7XG4gIH1cblxuICBhZGRUcmFpdChuYW1lOiBzdHJpbmcsIHRyYWl0OiBUcmFpdCl7XG4gICAgdGhpcy50cmFpdHMuc2V0KG5hbWUsIHRyYWl0KTtcbiAgfVxuXG4gIGNvbGxpZGVzKGNhbmRpZGF0ZTogRW50aXR5KXtcbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0LmNvbGxpZGVzKHRoaXMsIGNhbmRpZGF0ZSk7XG4gICAgfSlcbiAgfVxuXG4gIGZpbmFsaXplKCl7XG4gICAgdGhpcy50cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICB0cmFpdC5maW5hbGl6ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0VHJhaXQobmFtZTogc3RyaW5nKSA6IFRyYWl0IHtcbiAgICBjb25zdCB0cmFpdCA9IHRoaXMudHJhaXRzLmdldChuYW1lKTtcbiAgICByZXR1cm4gdHJhaXQ7XG4gIH1cblxuICBvYnN0cnVjdChzaWRlOiBTaWRlcywgbWF0Y2g/OiBSZXNvbHZlZFRpbGUpe1xuICAgIHRoaXMudHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgdHJhaXQub2JzdHJ1Y3QodGhpcywgc2lkZSwgbWF0Y2gpO1xuICAgIH0pO1xuICB9XG5cbiAgcGxheVNvdW5kcyhhdWRpb0JvYXJkOiBBdWRpb0JvYXJkLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCl7XG4gICAgdGhpcy5zb3VuZHMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIGF1ZGlvQm9hcmQucGxheShuYW1lLCBhdWRpb0NvbnRleHQpO1xuICAgIH0pO1xuICAgIHRoaXMuc291bmRzLmNsZWFyKCk7XG4gIH1cblxuICB1cGRhdGUoZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0LnVwZGF0ZSh0aGlzLCBnYW1lQ29udGV4dCk7XG4gICAgfSk7XG4gICAgdGhpcy5wbGF5U291bmRzKHRoaXMuYXVkaW9Cb2FyZCwgZ2FtZUNvbnRleHQuYXVkaW9Db250ZXh0KTtcbiAgICB0aGlzLmxpZmV0aW1lICs9IGdhbWVDb250ZXh0LmR0O1xuICB9XG5cbiAgcHVibGljIGRyYXc6IExheWVyUmVuZGVyZXIgPSAoY3R4LCBjYW1lcmEpID0+IHt9O1xufSIsImltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eUNvbGxpZGVyIHtcbiAgZW50aXRpZXM6IFNldDxFbnRpdHk+O1xuICBjb25zdHJ1Y3RvcihlbnRpdGllczogU2V0PEVudGl0eT4pe1xuICAgIHRoaXMuZW50aXRpZXMgPSBlbnRpdGllcztcbiAgfVxuICBjaGVjayhzdWJqZWN0OiBFbnRpdHkpe1xuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChjYW5kaWRhdGUgPT4ge1xuICAgICAgaWYoc3ViamVjdCA9PT0gY2FuZGlkYXRlKSByZXR1cm47XG5cbiAgICAgIGlmKHN1YmplY3QuYm91bmRzLm92ZXJsYXBzKGNhbmRpZGF0ZS5ib3VuZHMpKXtcbiAgICAgICAgc3ViamVjdC5jb2xsaWRlcyhjYW5kaWRhdGUpO1xuICAgICAgICBjYW5kaWRhdGUuY29sbGlkZXMoc3ViamVjdCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufSIsInR5cGUgRXZlbnRDYWxsYmFjayA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IE1hcDxzdHJpbmcsIEV2ZW50Q2FsbGJhY2tbXT4gPSBuZXcgTWFwKCk7XG5cbiAgbGlzdGVuKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spe1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMubGlzdGVuZXJzLmdldChuYW1lKSB8fCBbXTtcbiAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgdGhpcy5saXN0ZW5lcnMuc2V0KG5hbWUsIGNhbGxiYWNrcyk7XG4gIH1cblxuICBlbWl0KG5hbWU6IHN0cmluZywgLi4uYXJnczogYW55W10pe1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMubGlzdGVuZXJzLmdldChuYW1lKTtcbiAgICBpZighY2FsbGJhY2tzKSByZXR1cm47XG4gICAgY2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4ge1xuICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgfSk7XG4gIH1cbn0iLCJleHBvcnQgZW51bSBLZXlTdGF0ZSB7IFJFTEVBU0VELCBQUkVTU0VEIH07XG5cbnR5cGUgS2V5TWFwID0gKHN0YXRlOiBLZXlTdGF0ZSkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2V5Ym9hcmRTdGF0ZSB7XG4gIHByaXZhdGUga2V5U3RhdGVzOiBNYXA8c3RyaW5nLEtleVN0YXRlPjtcbiAgcHJpdmF0ZSBrZXlNYXA6IE1hcDxzdHJpbmcsS2V5TWFwPjtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLmtleVN0YXRlcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmtleU1hcCA9IG5ldyBNYXAoKTtcbiAgfVxuICBhZGRNYXBwaW5nKGNvZGU6IHN0cmluZywgY2FsbGJhY2s6IEtleU1hcCl7XG4gICAgdGhpcy5rZXlNYXAuc2V0KGNvZGUsIGNhbGxiYWNrKTtcbiAgfVxuICBoYW5kbGVFdmVudChldmVudDogS2V5Ym9hcmRFdmVudCl7XG4gICAgY29uc3QgeyBjb2RlLCB0eXBlIH0gPSBldmVudDtcblxuICAgIGlmKCF0aGlzLmtleU1hcC5oYXMoY29kZSkpIHJldHVybjtcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBrZXlTdGF0ZSA9IHR5cGUgPT09ICdrZXlkb3duJyA/IEtleVN0YXRlLlBSRVNTRUQgOiBLZXlTdGF0ZS5SRUxFQVNFRDtcblxuICAgIGlmKHRoaXMua2V5U3RhdGVzLmdldChjb2RlKSA9PT0ga2V5U3RhdGUpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMua2V5U3RhdGVzLnNldChjb2RlLCBrZXlTdGF0ZSk7XG5cbiAgICB0aGlzLmtleU1hcC5nZXQoY29kZSkoa2V5U3RhdGUpO1xuICB9XG4gIGxpc3RlblRvKHdpbmRvdzogYW55KXtcbiAgICBbJ2tleWRvd24nLCAna2V5dXAnXS5mb3JFYWNoKGV2ZW50TmFtZT0+e1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCBDb21wb3NpdG9yIGZyb20gXCIuL0NvbXBvc2l0b3JcIjtcbmltcG9ydCB7IEVudGl0eUZhY3RvcnkgfSBmcm9tIFwiLi9lbnRpdGllc1wiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi9FbnRpdHlcIjtcbmltcG9ydCBFbnRpdHlDb2xsaWRlciBmcm9tIFwiLi9FbnRpdHlDb2xsaWRlclwiO1xuaW1wb3J0IE11c2ljQ29udHJvbGxlciBmcm9tIFwiLi9NdXNpY0NvbnRyb2xsZXJcIjtcbmltcG9ydCBUaWxlQ29sbGlkZXIgZnJvbSBcIi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUNvbnRleHQge1xuICBkdDogbnVtYmVyLFxuICBsZXZlbDogTGV2ZWwsXG4gIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LFxuICBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5LFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbCB7XG4gIHB1YmxpYyBtdXNpYzogTXVzaWNDb250cm9sbGVyID0gbmV3IE11c2ljQ29udHJvbGxlcigpO1xuICBwdWJsaWMgY29tcDogQ29tcG9zaXRvciA9IG5ldyBDb21wb3NpdG9yKCk7XG4gIHB1YmxpYyBlbnRpdGllczogU2V0PEVudGl0eT4gPSBuZXcgU2V0KCk7XG4gIHB1YmxpYyB0aWxlQ29sbGlkZXI6IFRpbGVDb2xsaWRlciA9IG5ldyBUaWxlQ29sbGlkZXIoKTtcbiAgcHVibGljIGVudGl0eUNvbGxpZGVyOiBFbnRpdHlDb2xsaWRlciA9IG5ldyBFbnRpdHlDb2xsaWRlcih0aGlzLmVudGl0aWVzKTtcbiAgcHVibGljIHRpbWU6IG51bWJlciA9IDA7XG4gIFxuICB1cGRhdGUoZHQ6IG51bWJlciwgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQsIGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3Rvcnkpe1xuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgZW50aXR5LnVwZGF0ZSh7IGR0LCBsZXZlbDogdGhpcywgYXVkaW9Db250ZXh0LCBlbnRpdHlGYWN0b3J5IH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICB0aGlzLmVudGl0eUNvbGxpZGVyLmNoZWNrKGVudGl0eSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIGVudGl0eS5maW5hbGl6ZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy50aW1lICs9IGR0O1xuICB9XG59IiwiaW1wb3J0IE11c2ljUGxheWVyIGZyb20gXCIuL011c2ljUGxheWVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11c2ljQ29udHJvbGxlciB7XG4gIHByaXZhdGUgbXVzaWNQbGF5ZXI6IE11c2ljUGxheWVyID0gbnVsbDtcblxuICBwbGF5KG5hbWU6IHN0cmluZyl7XG4gICAgdGhpcy5tdXNpY1BsYXllci5wbGF5KG5hbWUpO1xuICB9XG5cbiAgc2V0UGxheWVyKHBsYXllcjogTXVzaWNQbGF5ZXIpe1xuICAgIHRoaXMubXVzaWNQbGF5ZXIgPSBwbGF5ZXI7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNdXNpY1BsYXllciB7XG4gIHByaXZhdGUgdHJhY2tzOiBNYXA8c3RyaW5nLCBIVE1MQXVkaW9FbGVtZW50PiA9IG5ldyBNYXAoKTtcblxuICBhZGRUcmFjayhuYW1lOiBzdHJpbmcsIHRyYWNrOiBzdHJpbmcpe1xuICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKHRyYWNrKTtcbiAgICBhdWRpby5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLnRyYWNrcy5zZXQobmFtZSwgYXVkaW8pO1xuICB9XG5cbiAgcGxheShuYW1lOiBzdHJpbmcpe1xuICAgIGNvbnN0IHRyYWNrID0gdGhpcy50cmFja3MuZ2V0KG5hbWUpO1xuICAgIGlmKHRyYWNrKSB0cmFjay5wbGF5KCk7XG4gIH1cbn0iLCJ0eXBlIEFuaW1hdGlvblJlbmRlcmVyID0gKGRpc3RhbmNlOiBudW1iZXIpID0+IHN0cmluZztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlU2hlZXQge1xuICBwcml2YXRlIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xuICBwcml2YXRlIHdpZHRoOiBudW1iZXI7IFxuICBwcml2YXRlIGhlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIGZyYW1lczogTWFwPHN0cmluZywgSFRNTENhbnZhc0VsZW1lbnRbXT47XG4gIHByaXZhdGUgYW5pbWF0aW9uczogTWFwPHN0cmluZywgQW5pbWF0aW9uUmVuZGVyZXI+O1xuICBjb25zdHJ1Y3RvcihpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcil7XG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmZyYW1lcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmFuaW1hdGlvbnMgPSBuZXcgTWFwKCk7XG4gIH1cbiAgZ2V0QW5pbWF0aW9uKG5hbWU6IHN0cmluZyl7XG4gICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5nZXQobmFtZSk7XG4gIH1cbiAgZGVmaW5lQW5pbShuYW1lOiBzdHJpbmcsIGFuaW1hdGlvbjogQW5pbWF0aW9uUmVuZGVyZXIpe1xuICAgIHRoaXMuYW5pbWF0aW9ucy5zZXQobmFtZSwgYW5pbWF0aW9uKTtcbiAgfSAgXG4gIGRlZmluZShuYW1lOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcil7XG4gICAgY29uc3QgYnVmZmVycyA9IFtmYWxzZSwgdHJ1ZV0ubWFwKGZsaXAgPT4ge1xuICAgICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAke3RoaXMud2lkdGh9cHhgKTtcbiAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBgJHt0aGlzLmhlaWdodH1weGApO1xuXG4gICAgICBpZihmbGlwKXtcbiAgICAgICAgY3R4LnNjYWxlKC0xLCAxKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgtd2lkdGgsIDApO1xuICAgICAgfVxuXG4gICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICB0aGlzLmltYWdlLCBcbiAgICAgICAgeCwgeSwgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgMCwgMCwgd2lkdGgsIGhlaWdodFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGN0eC5jYW52YXM7XG4gICAgfSlcblxuICAgIHRoaXMuZnJhbWVzLnNldChuYW1lLCBidWZmZXJzKTtcbiAgfVxuICBkZWZpbmVUaWxlKG5hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgIHRoaXMuZGVmaW5lKG5hbWUsIHgqdGhpcy53aWR0aCwgeSp0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIGRyYXcobmFtZTogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGZsaXA6IGJvb2xlYW4gPSBmYWxzZSl7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLmZyYW1lcy5nZXQobmFtZSk7XG4gICAgaWYoIWZyYW1lKXtcbiAgICAgIGNvbnNvbGUud2FybihgRnJhbWUgJHtuYW1lfSBpcyBub3QgZGVmaW5lZCFgKTtcbiAgICB9XG4gICAgY3R4LmRyYXdJbWFnZShmcmFtZVtmbGlwPzE6MF0sIHgsIHkpO1xuICB9XG4gIGRyYXdBbmltKG5hbWU6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkaXN0YW5jZTogbnVtYmVyKXtcbiAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnMuZ2V0KG5hbWUpO1xuICAgIGlmKCFhbmltYXRpb24pIHJldHVybiB0aGlzLmRyYXdUaWxlKG5hbWUsIGN0eCwgeCwgeSk7XG4gICAgdGhpcy5kcmF3VGlsZShhbmltYXRpb24oZGlzdGFuY2UpLCBjdHgsIHgsIHkpO1xuICB9XG4gIGRyYXdUaWxlKG5hbWU6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBmbGlwOiBib29sZWFuID0gZmFsc2Upe1xuICAgIHRoaXMuZHJhdyhuYW1lLCBjdHgsIHgqdGhpcy53aWR0aCwgeSp0aGlzLmhlaWdodCwgZmxpcCk7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi9MZXZlbFwiO1xuaW1wb3J0IHsgTGV2ZWxUaWxlU3BlYyB9IGZyb20gXCIuL2xvYWRlcnMvbGV2ZWxcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuL21hdGhcIjtcbmltcG9ydCB7IGJyaWNrIH0gZnJvbSBcIi4vdGlsZXMvYnJpY2tcIjtcbmltcG9ydCB7IGdyb3VuZCB9IGZyb20gXCIuL3RpbGVzL2dyb3VuZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc29sdmVkVGlsZSB7XG4gIHRpbGU6IExldmVsVGlsZVNwZWMsXG4gIHgxOiBudW1iZXIsIHgyOiBudW1iZXIsXG4gIHkxOiBudW1iZXIsIHkyOiBudW1iZXIsXG4gIGluZGV4WDogbnVtYmVyLCBpbmRleFk6IG51bWJlcixcbn1cblxuZXhwb3J0IHR5cGUgVGlsZUNvbGxpc2lvbkNvbnRleHQgPSB7XG4gIGVudGl0eTogRW50aXR5LCBcbiAgbWF0Y2g6IFJlc29sdmVkVGlsZSwgXG4gIHJlc29sdmVyOiBUaWxlUmVzb2x2ZXIsIFxuICBnYW1lQ29udGV4dDogR2FtZUNvbnRleHRcbn1cblxudHlwZSBIYW5kbGVyQ2FsbGJhY2sgPSAodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgSGFuZGxlcnMge1xuICBba2V5OiBzdHJpbmddOiBIYW5kbGVyQ2FsbGJhY2tbXSxcbn1cblxuY29uc3QgaGFuZGxlcnM6IEhhbmRsZXJzID0ge1xuICBicmljayxcbiAgZ3JvdW5kLFxufTtcblxuZXhwb3J0IGNsYXNzIFRpbGVSZXNvbHZlciB7XG4gIHB1YmxpYyBtYXRyaXg6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPjtcbiAgcHVibGljIHRpbGVTaXplOiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKG1hdHJpeDogTWF0cml4PExldmVsVGlsZVNwZWM+LCB0aWxlU2l6ZTogbnVtYmVyID0gMTYpe1xuICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgIHRoaXMudGlsZVNpemUgPSB0aWxlU2l6ZTtcbiAgfVxuICB0b0luZGV4KHBvczogbnVtYmVyKSA6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IocG9zIC8gdGhpcy50aWxlU2l6ZSk7XG4gIH1cbiAgdG9JbmRleFJhbmdlKHBvczE6IG51bWJlciwgcG9zMjogbnVtYmVyKTogbnVtYmVyW117XG4gICAgY29uc3QgcE1heCA9IE1hdGguY2VpbChwb3MyIC8gdGhpcy50aWxlU2l6ZSkgKiB0aGlzLnRpbGVTaXplO1xuICAgIGNvbnN0IHJhbmdlID0gW107XG4gICAgbGV0IHBvcyA9IHBvczE7XG4gICAgZG8ge1xuICAgICAgcmFuZ2UucHVzaCh0aGlzLnRvSW5kZXgocG9zKSk7XG4gICAgICBwb3MgKz0gdGhpcy50aWxlU2l6ZTtcbiAgICB9d2hpbGUocG9zIDwgcE1heCk7XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9XG4gIGdldEJ5SW5kZXgoeDogbnVtYmVyLCB5OiBudW1iZXIpIDogUmVzb2x2ZWRUaWxlIHtcbiAgICBjb25zdCB0aWxlID0gdGhpcy5tYXRyaXguZ2V0KHgsIHkpO1xuICAgIGlmKHRpbGUpIHJldHVybiB7XG4gICAgICB0aWxlLFxuICAgICAgeDE6IHggKiB0aGlzLnRpbGVTaXplLFxuICAgICAgeDI6ICh4KzEpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIHkxOiB5ICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIHkyOiAoeSsxKSAqIHRoaXMudGlsZVNpemUsXG4gICAgICBpbmRleFg6IHgsIGluZGV4WTogeSxcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc2VhcmNoQnlQb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcikgOiBSZXNvbHZlZFRpbGUge1xuICAgIHJldHVybiB0aGlzLmdldEJ5SW5kZXgodGhpcy50b0luZGV4KHgpLCB0aGlzLnRvSW5kZXgoeSkpO1xuICB9XG4gIHNlYXJjaEJ5UmFuZ2UoeDE6IG51bWJlciwgeDI6IG51bWJlciwgeTE6IG51bWJlciwgeTI6IG51bWJlcikgOiBSZXNvbHZlZFRpbGVbXSB7XG4gICAgY29uc3QgbWF0Y2hlczogUmVzb2x2ZWRUaWxlW10gPSBbXTtcbiAgICB0aGlzLnRvSW5kZXhSYW5nZSh4MSwgeDIpLmZvckVhY2goeCA9PiB7XG4gICAgICB0aGlzLnRvSW5kZXhSYW5nZSh5MSwgeTIpLmZvckVhY2goeSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy5nZXRCeUluZGV4KHgsIHkpO1xuICAgICAgICBpZighbWF0Y2gpIHJldHVybjtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKG1hdGNoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXRjaGVzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGVDb2xsaWRlciB7XG4gIHB1YmxpYyByZXNvbHZlcnM6IFRpbGVSZXNvbHZlcltdID0gW107XG5cbiAgYWRkR3JpZCh0aWxlTWF0cml4OiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz4pe1xuICAgIHRoaXMucmVzb2x2ZXJzLnB1c2gobmV3IFRpbGVSZXNvbHZlcih0aWxlTWF0cml4KSk7XG4gIH1cblxuICBjaGVja1goZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgaWYoZW50aXR5LnZlbC54ID09PSAwKSByZXR1cm47XG4gICAgbGV0IHggPSBlbnRpdHkuYm91bmRzLmxlZnQgKyAoZW50aXR5LnZlbC54ID4gMCA/IGVudGl0eS5zaXplLnggOiAwKTtcblxuICAgIGZvcihjb25zdCByZXNvbHZlciBvZiB0aGlzLnJlc29sdmVycyl7XG4gICAgICBjb25zdCBtYXRjaGVzID0gcmVzb2x2ZXIuc2VhcmNoQnlSYW5nZShcbiAgICAgICAgeCwgeCxcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AsIGVudGl0eS5ib3VuZHMuYm90dG9tXG4gICAgICApO1xuXG4gICAgICBtYXRjaGVzLmZvckVhY2gobWF0Y2ggPT57XG4gICAgICAgIHRoaXMuaGFuZGxlKDAsIHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY2hlY2tZKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpe1xuICAgIGlmKGVudGl0eS52ZWwueSA9PT0gMCkgcmV0dXJuO1xuICAgIGxldCB5ID0gZW50aXR5LmJvdW5kcy50b3AgKyAoZW50aXR5LnZlbC55ID4gMCA/IGVudGl0eS5zaXplLnkgOiAwKTtcbiAgXG4gICAgZm9yKGNvbnN0IHJlc29sdmVyIG9mIHRoaXMucmVzb2x2ZXJzKXtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSByZXNvbHZlci5zZWFyY2hCeVJhbmdlKFxuICAgICAgICBlbnRpdHkuYm91bmRzLmxlZnQsIGVudGl0eS5ib3VuZHMucmlnaHQsIFxuICAgICAgICB5LCB5XG4gICAgICApO1xuXG4gICAgICBtYXRjaGVzLmZvckVhY2gobWF0Y2ggPT57XG4gICAgICAgIHRoaXMuaGFuZGxlKDEsIHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGUoaW5kZXg6IG51bWJlciwgdGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNbdGlsZUNvbGxpc2lvbkNvbnRleHQubWF0Y2gudGlsZS50eXBlXTtcbiAgICBpZighaGFuZGxlciB8fCAhaGFuZGxlcltpbmRleF0pIHJldHVybjtcbiAgICBoYW5kbGVyW2luZGV4XSh0aWxlQ29sbGlzaW9uQ29udGV4dCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lciB7XG4gIHB1YmxpYyB1cGRhdGU6IChkdDogbnVtYmVyKSA9PiB2b2lkO1xuICBwcml2YXRlIHVwZGF0ZVByb3h5OiAoZHQ6IG51bWJlcikgPT4gdm9pZDtcbiAgcHJpdmF0ZSBydW5uaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKGRlbHRhVGltZTogbnVtYmVyID0gMS82MCl7XG4gICAgbGV0IGFjY3VtdWxhdGVkVGltZSA9IDAsIGxhc3RUaW1lID0gMDtcblxuICAgIHRoaXMudXBkYXRlUHJveHkgPSAodGltZTogbnVtYmVyID0gMCkgPT4ge1xuICAgICAgYWNjdW11bGF0ZWRUaW1lICs9ICh0aW1lIC0gbGFzdFRpbWUpIC8gMTAwMDtcblxuICAgICAgaWYoYWNjdW11bGF0ZWRUaW1lID4gMSkgYWNjdW11bGF0ZWRUaW1lID0gMTtcbiAgXG4gICAgICB3aGlsZShhY2N1bXVsYXRlZFRpbWUgPiBkZWx0YVRpbWUpe1xuICAgICAgICB0aGlzLnVwZGF0ZShkZWx0YVRpbWUpXG4gICAgICAgIGFjY3VtdWxhdGVkVGltZSAtPSBkZWx0YVRpbWU7XG4gICAgICB9XG5cbiAgICAgIGxhc3RUaW1lID0gdGltZTtcblxuICAgICAgdGhpcy5lbnF1ZXVlKCk7XG4gICAgfVxuICB9XG4gIGVucXVldWUoKXtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVQcm94eSk7XG4gIH1cbiAgc3RhcnQoKXtcbiAgICBpZih0aGlzLnJ1bm5pbmcpIHJldHVybjtcbiAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgIHRoaXMuZW5xdWV1ZSgpO1xuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFuaW0oZnJhbWVzOiBzdHJpbmdbXSwgZnJhbWVMZW46IG51bWJlcil7XG4gIHJldHVybiBmdW5jdGlvbiByZXNvbHZlRnJhbWUoZGlzdGFuY2U6IG51bWJlcil7XG4gICAgcmV0dXJuIGZyYW1lc1tNYXRoLmZsb29yKGRpc3RhbmNlIC8gZnJhbWVMZW4pICUgZnJhbWVzLmxlbmd0aF07XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8sIHsgbG9hZE1hcmlvIH0gZnJvbSAnLi9lbnRpdGllcy9NYXJpbyc7XG5pbXBvcnQgR29vbWJhLCB7IGxvYWRHb29tYmEgfSBmcm9tICcuL2VudGl0aWVzL0dvb21iYSc7XG5pbXBvcnQgS29vcGEsIHsgbG9hZEtvb3BhIH0gZnJvbSAnLi9lbnRpdGllcy9Lb29wYSc7XG5pbXBvcnQgRW50aXR5IGZyb20gJy4vRW50aXR5JztcbmltcG9ydCBCdWxsZXQsIHsgbG9hZEJ1bGxldCB9IGZyb20gJy4vZW50aXRpZXMvQnVsbGV0JztcbmltcG9ydCBDYW5ub24sIHsgbG9hZENhbm5vbiB9IGZyb20gJy4vZW50aXRpZXMvQ2Fubm9uJztcblxuZXhwb3J0IHR5cGUgRW50aXR5Q3JlYXRvcjxUIGV4dGVuZHMgRW50aXR5PiA9ICgpID0+IFQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5RmFjdG9yeSB7XG4gIFtrZXk6IHN0cmluZ106IEVudGl0eUNyZWF0b3I8RW50aXR5PjtcbiAgbWFyaW8/OiBFbnRpdHlDcmVhdG9yPE1hcmlvPixcbiAgZ29vbWJhPzogRW50aXR5Q3JlYXRvcjxHb29tYmE+LFxuICBrb29wYT86IEVudGl0eUNyZWF0b3I8S29vcGE+LFxuICBidWxsZXQ/OiBFbnRpdHlDcmVhdG9yPEJ1bGxldD4sXG4gIGNhbm5vbj86IEVudGl0eUNyZWF0b3I8Q2Fubm9uPixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRFbnRpdGllcyhhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEVudGl0eUZhY3Rvcnk+IHtcbiAgY29uc3QgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSA9IHt9O1xuXG4gIGZ1bmN0aW9uIGFkZEFzKG5hbWU6IHN0cmluZyl7XG4gICAgcmV0dXJuIChmYWN0b3J5OiBFbnRpdHlDcmVhdG9yPEVudGl0eT4pID0+IGVudGl0eUZhY3RvcnlbbmFtZV0gPSBmYWN0b3J5O1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICBsb2FkTWFyaW8oYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdtYXJpbycpKSxcbiAgICBsb2FkR29vbWJhKGF1ZGlvQ29udGV4dCkudGhlbihhZGRBcygnZ29vbWJhJykpLFxuICAgIGxvYWRLb29wYShhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ2tvb3BhJykpLFxuICAgIGxvYWRCdWxsZXQoYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdidWxsZXQnKSksXG4gICAgbG9hZENhbm5vbihhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnkpLnRoZW4oYWRkQXMoJ2Nhbm5vbicpKSxcbiAgXSlcbiAgLnRoZW4oKCkgPT4gZW50aXR5RmFjdG9yeSk7XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVycy9zcHJpdGVcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBHcmF2aXR5IGZyb20gXCIuLi90cmFpdHMvR3Jhdml0eVwiO1xuaW1wb3J0IEtpbGxhYmxlIGZyb20gXCIuLi90cmFpdHMvS2lsbGFibGVcIjtcbmltcG9ydCBQaHlzaWNzIGZyb20gXCIuLi90cmFpdHMvUGh5c2ljc1wiO1xuaW1wb3J0IFNvbGlkIGZyb20gXCIuLi90cmFpdHMvU29saWRcIjtcbmltcG9ydCBTdG9tcGVyIGZyb20gXCIuLi90cmFpdHMvU3RvbXBlclwiO1xuaW1wb3J0IFZlbG9jaXR5IGZyb20gXCIuLi90cmFpdHMvVmVsb2NpdHlcIjtcbmltcG9ydCBNYXJpbyBmcm9tIFwiLi9NYXJpb1wiO1xuXG5jbGFzcyBCZWhhdmlvciBleHRlbmRzIFRyYWl0IHtcbiAgcHJpdmF0ZSBncmF2aXR5OiBHcmF2aXR5ID0gbmV3IEdyYXZpdHkoKTtcblxuICBjb2xsaWRlcyh1czogRW50aXR5LCB0aGVtOiBFbnRpdHkpOiB2b2lkIHtcbiAgICBjb25zdCBzdG9tcGVyID0gdGhlbS5nZXRUcmFpdCgnc3RvbXBlcicpO1xuICAgIGlmKHVzIGluc3RhbmNlb2YgQnVsbGV0ICYmICF1cy5raWxsYWJsZS5kZWFkICYmIHN0b21wZXIgaW5zdGFuY2VvZiBTdG9tcGVyKXtcbiAgICAgIGlmKHRoZW0udmVsLnkgPiB1cy52ZWwueSl7XG4gICAgICAgIHVzLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgICAgdXMudmVsLnNldCgxMDAsIC0yMDApO1xuICAgICAgfWVsc2UgaWYodGhlbSBpbnN0YW5jZW9mIE1hcmlvKXtcbiAgICAgICAgdGhlbS5raWxsYWJsZS5raWxsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBpZighKGVudGl0eSBpbnN0YW5jZW9mIEJ1bGxldCkpIHJldHVybjtcbiAgICBpZihlbnRpdHkua2lsbGFibGUuZGVhZCl7XG4gICAgICB0aGlzLmdyYXZpdHkudXBkYXRlKGVudGl0eSwgZ2FtZUNvbnRleHQpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXQgZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgdmVsb2NpdHk6IFZlbG9jaXR5O1xuICBwdWJsaWMgYmVoYXZpb3I6IEJlaGF2aW9yO1xuICBwdWJsaWMga2lsbGFibGU6IEtpbGxhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZFRyYWl0KCd2ZWxvY2l0eScsIHRoaXMudmVsb2NpdHkgPSBuZXcgVmVsb2NpdHkoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnYnVsbGV0JywgdGhpcy5iZWhhdmlvciA9IG5ldyBCZWhhdmlvcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQnVsbGV0RmFjdG9yeSA9ICgpID0+IEJ1bGxldDtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRCdWxsZXQoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxCdWxsZXRGYWN0b3J5PiB7XG4gIHJldHVybiBsb2FkU3ByaXRlU2hlZXQoJ2J1bGxldCcpXG4gIC50aGVuKGNyZWF0ZUJ1bGxldEZhY3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWxsZXRGYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0KSA6IEJ1bGxldEZhY3Rvcnkge1xuICBmdW5jdGlvbiBkcmF3QnVsbGV0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBzcHJpdGVzLmRyYXcoJ2J1bGxldCcsIGN0eCwgMCwgMCwgdGhpcy52ZWwueCA8IDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQnVsbGV0KCl7XG4gICAgY29uc3QgYnVsbGV0ID0gbmV3IEJ1bGxldCgpO1xuICAgIGJ1bGxldC5zaXplLnNldCgxNiwgMTYpO1xuXG4gICAgYnVsbGV0LmRyYXcgPSBkcmF3QnVsbGV0O1xuXG4gICAgcmV0dXJuIGJ1bGxldDtcbiAgfVxufSIsImltcG9ydCBBdWRpb0JvYXJkIGZyb20gXCIuLi9BdWRpb0JvYXJkXCI7XG5pbXBvcnQgeyBFbnRpdHlGYWN0b3J5IH0gZnJvbSBcIi4uL2VudGl0aWVzXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IGxvYWRBdWRpb0JvYXJkIH0gZnJvbSBcIi4uL2xvYWRlcnMvYXVkaW9cIjtcbmltcG9ydCB7IGZpbmRQbGF5ZXJzIH0gZnJvbSBcIi4uL3BsYXllclwiO1xuaW1wb3J0IEVtaXR0ZXIgZnJvbSBcIi4uL3RyYWl0cy9FbWl0dGVyXCI7XG5cbmNvbnN0IEhPTERfRklSRV9USFJFU0hPTEQgPSAzMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2Fubm9uIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIGVtaXR0ZXI6IEVtaXR0ZXI7XG5cbiAgY29uc3RydWN0b3IoYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZCl7XG4gICAgc3VwZXIoYXVkaW9Cb2FyZCk7XG4gICAgdGhpcy5hZGRUcmFpdCgnZW1pdHRlcicsIHRoaXMuZW1pdHRlciA9IG5ldyBFbWl0dGVyKCkpO1xuICAgIHRoaXMuc2l6ZS5zZXQoMTYsIDE0KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDYW5ub25GYWN0b3J5ID0gKCkgPT4gQ2Fubm9uO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZENhbm5vbihhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSkgOiBQcm9taXNlPENhbm5vbkZhY3Rvcnk+IHtcbiAgcmV0dXJuIGxvYWRBdWRpb0JvYXJkKCdjYW5ub24nLCBhdWRpb0NvbnRleHQpXG4gIC50aGVuKGF1ZGlvID0+IHtcbiAgICByZXR1cm4gY3JlYXRlQ2Fubm9uRmFjdG9yeShhdWRpbywgZW50aXR5RmFjdG9yeSk7XG4gIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZUNhbm5vbkZhY3RvcnkoYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZCwgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSkgOiBDYW5ub25GYWN0b3J5IHtcbiAgZnVuY3Rpb24gZW1pdEJ1bGxldChlbnRpdHk6IEVudGl0eSwgbGV2ZWw6IExldmVsKXtcbiAgICBpZighKGVudGl0eSBpbnN0YW5jZW9mIENhbm5vbikpIHJldHVybjtcblxuICAgIGxldCBkaXI7XG4gICAgZm9yKGNvbnN0IHBsYXllciBvZiBmaW5kUGxheWVycyhsZXZlbCkpe1xuICAgICAgZGlyID0gcGxheWVyLnBvcy54IC0gZW50aXR5LnBvcy54O1xuICAgICAgaWYoTWF0aC5hYnMocGxheWVyLnBvcy54IC0gZW50aXR5LnBvcy54KSA8PSBIT0xEX0ZJUkVfVEhSRVNIT0xEKXtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGJ1bGxldCA9IGVudGl0eUZhY3RvcnkuYnVsbGV0KCk7XG4gICAgYnVsbGV0LnBvcy5jb3B5KGVudGl0eS5wb3MpO1xuICAgIGJ1bGxldC52ZWwueCA9IDgwICogTWF0aC5zaWduKGRpcik7XG5cbiAgICBlbnRpdHkuc291bmRzLmFkZCgnc2hvb3QnKTtcbiAgICBsZXZlbC5lbnRpdGllcy5hZGQoYnVsbGV0KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVDYW5ub24oKXtcbiAgICBjb25zdCBjYW5ub24gPSBuZXcgQ2Fubm9uKGF1ZGlvQm9hcmQpO1xuXG4gICAgY2Fubm9uLmVtaXR0ZXIuaW50ZXJ2YWwgPSA0O1xuICAgIGNhbm5vbi5lbWl0dGVyLmVtaXR0ZXJzLnB1c2goZW1pdEJ1bGxldCk7XG5cbiAgICByZXR1cm4gY2Fubm9uO1xuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IGxvYWRTcHJpdGVTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL3Nwcml0ZVwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IEtpbGxhYmxlIGZyb20gXCIuLi90cmFpdHMvS2lsbGFibGVcIjtcbmltcG9ydCBQZW5kdWx1bU1vdmUgZnJvbSBcIi4uL3RyYWl0cy9QZW5kdWx1bU1vdmVcIjtcbmltcG9ydCBQaHlzaWNzIGZyb20gXCIuLi90cmFpdHMvUGh5c2ljc1wiO1xuaW1wb3J0IFNvbGlkIGZyb20gXCIuLi90cmFpdHMvU29saWRcIjtcbmltcG9ydCBTdG9tcGVyIGZyb20gXCIuLi90cmFpdHMvU3RvbXBlclwiO1xuaW1wb3J0IE1hcmlvIGZyb20gXCIuL01hcmlvXCI7XG5cbmNsYXNzIEJlaGF2aW9yIGV4dGVuZHMgVHJhaXQge1xuICBjb2xsaWRlcyh1czogRW50aXR5LCB0aGVtOiBFbnRpdHkpOiB2b2lkIHtcbiAgICBjb25zdCBzdG9tcGVyID0gdGhlbS5nZXRUcmFpdCgnc3RvbXBlcicpO1xuICAgIGlmKHVzIGluc3RhbmNlb2YgR29vbWJhICYmICF1cy5raWxsYWJsZS5kZWFkICYmIHN0b21wZXIgaW5zdGFuY2VvZiBTdG9tcGVyKXtcbiAgICAgIGlmKHRoZW0udmVsLnkgPiB1cy52ZWwueSl7XG4gICAgICAgIHVzLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgICAgdXMucGVuZHVsdW1Nb3ZlLnNwZWVkID0gMDtcbiAgICAgIH1lbHNlIGlmKHRoZW0gaW5zdGFuY2VvZiBNYXJpbyl7XG4gICAgICAgIHRoZW0ua2lsbGFibGUua2lsbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHb29tYmEgZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgcGh5c2ljczogUGh5c2ljcztcbiAgcHVibGljIHNvbGlkOiBTb2xpZDtcbiAgcHVibGljIHBlbmR1bHVtTW92ZTogUGVuZHVsdW1Nb3ZlO1xuICBwdWJsaWMgYmVoYXZpb3I6IEJlaGF2aW9yO1xuICBwdWJsaWMga2lsbGFibGU6IEtpbGxhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwaHlzaWNzJywgdGhpcy5waHlzaWNzID0gbmV3IFBoeXNpY3MoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnc29saWQnLCB0aGlzLnNvbGlkID0gbmV3IFNvbGlkKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BlbmR1bHVtTW92ZScsIHRoaXMucGVuZHVsdW1Nb3ZlID0gbmV3IFBlbmR1bHVtTW92ZSgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdnb29tYmEnLCB0aGlzLmJlaGF2aW9yID0gbmV3IEJlaGF2aW9yKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2tpbGxhYmxlJywgdGhpcy5raWxsYWJsZSA9IG5ldyBLaWxsYWJsZSgpKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBHb29tYmFGYWN0b3J5ID0gKCkgPT4gR29vbWJhO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEdvb21iYShhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEdvb21iYUZhY3Rvcnk+IHtcbiAgcmV0dXJuIGxvYWRTcHJpdGVTaGVldCgnZ29vbWJhJylcbiAgLnRoZW4oY3JlYXRlR29vbWJhRmFjdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdvb21iYUZhY3Rvcnkoc3ByaXRlczogU3ByaXRlU2hlZXQpIDogR29vbWJhRmFjdG9yeSB7XG4gIGNvbnN0IHdhbGtBbmltID0gc3ByaXRlcy5nZXRBbmltYXRpb24oJ3dhbGsnKTtcblxuICBmdW5jdGlvbiByb3V0ZUFuaW0oZ29vbWJhOiBHb29tYmEpIDogc3RyaW5nIHtcbiAgICBpZihnb29tYmEua2lsbGFibGUuZGVhZCl7XG4gICAgICByZXR1cm4gJ2ZsYXQnO1xuICAgIH1cbiAgICByZXR1cm4gd2Fsa0FuaW0oZ29vbWJhLmxpZmV0aW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdHb29tYmEoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdyhyb3V0ZUFuaW0odGhpcyksIGN0eCwgMCwgMCk7XG4gIH1cbiAgXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVHb29tYmEoKXtcbiAgICBjb25zdCBnb29tYmEgPSBuZXcgR29vbWJhKCk7XG4gICAgZ29vbWJhLnNpemUuc2V0KDE2LCAxNik7XG5cbiAgICBnb29tYmEuZHJhdyA9IGRyYXdHb29tYmE7XG5cbiAgICByZXR1cm4gZ29vbWJhO1xuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVycy9zcHJpdGVcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGVuZHVsdW1Nb3ZlIGZyb20gXCIuLi90cmFpdHMvUGVuZHVsdW1Nb3ZlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcbmltcG9ydCBNYXJpbyBmcm9tIFwiLi9NYXJpb1wiO1xuXG5lbnVtIEtvb3BhU3RhdGUge1xuICBXQUxLSU5HLCBISURJTkcsIFBBTklDLFxufVxuXG5jbGFzcyBCZWhhdmlvciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIHN0YXRlOiBLb29wYVN0YXRlID0gS29vcGFTdGF0ZS5XQUxLSU5HO1xuICBwdWJsaWMgaGlkZVRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgaGlkZUR1cmF0aW9uOiBudW1iZXIgPSA1O1xuICBwcml2YXRlIHBhbmljU3BlZWQ6IG51bWJlciA9IDMwMDtcbiAgcHJpdmF0ZSB3YWxrU3BlZWQ6IG51bWJlciA9IG51bGw7XG5cbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KTogdm9pZCB7XG4gICAgY29uc3Qgc3RvbXBlciA9IHRoZW0uZ2V0VHJhaXQoJ3N0b21wZXInKTtcbiAgICBpZih1cyBpbnN0YW5jZW9mIEtvb3BhICYmICF1cy5raWxsYWJsZS5kZWFkICYmIHN0b21wZXIgaW5zdGFuY2VvZiBTdG9tcGVyKXtcbiAgICAgIGlmKHRoZW0udmVsLnkgPiB1cy52ZWwueSl7XG4gICAgICAgIHRoaXMuaGFuZGxlU3RvbXAodXMsIHRoZW0pO1xuICAgICAgfWVsc2UgaWYodGhlbSBpbnN0YW5jZW9mIE1hcmlvKXtcbiAgICAgICAgdGhpcy5oYW5kbGVOdWRnZSh1cywgdGhlbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTnVkZ2UodXM6IEtvb3BhLCB0aGVtOiBNYXJpbyl7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpe1xuICAgICAgY2FzZSBLb29wYVN0YXRlLldBTEtJTkc6IHRoZW0ua2lsbGFibGUua2lsbCgpOyBicmVhaztcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5ISURJTkc6IHRoaXMucGFuaWModXMsIHRoZW0pOyBicmVhaztcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5QQU5JQzoge1xuICAgICAgICBjb25zdCB0cmF2ZWxEaXIgPSBNYXRoLnNpZ24odXMudmVsLngpO1xuICAgICAgICBjb25zdCBpbXBhY3REaXIgPSBNYXRoLnNpZ24odXMucG9zLnggLSB0aGVtLnBvcy54KTtcbiAgICAgICAgaWYodHJhdmVsRGlyICE9PSAwICYmIHRyYXZlbERpciAhPT0gaW1wYWN0RGlyKXtcbiAgICAgICAgICB0aGVtLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgICAgfVxuICAgICAgfSBicmVhaztcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTdG9tcCh1czogS29vcGEsIHRoZW06IEVudGl0eSl7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpe1xuICAgICAgY2FzZSBLb29wYVN0YXRlLldBTEtJTkc6IHRoaXMuaGlkZSh1cyk7IGJyZWFrO1xuICAgICAgY2FzZSBLb29wYVN0YXRlLkhJRElORzoge1xuICAgICAgICB1cy5raWxsYWJsZS5raWxsKCk7XG4gICAgICAgIHVzLnZlbC5zZXQoMTAwLCAtMjAwKTtcbiAgICAgICAgdXMuc29saWQub2JzdHJ1Y3RzID0gZmFsc2U7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBLb29wYVN0YXRlLlBBTklDOiB0aGlzLmhpZGUodXMpOyBicmVhaztcbiAgICB9XG4gIH1cblxuICBoaWRlKHVzOiBLb29wYSl7XG4gICAgdXMudmVsLnggPSAwO1xuICAgIHVzLnBlbmR1bHVtTW92ZS5lbmFibGVkID0gZmFsc2U7XG4gICAgaWYoIXRoaXMud2Fsa1NwZWVkKSB0aGlzLndhbGtTcGVlZCA9IHVzLnBlbmR1bHVtTW92ZS5zcGVlZDtcbiAgICB0aGlzLnN0YXRlID0gS29vcGFTdGF0ZS5ISURJTkc7XG4gIH1cblxuICBwYW5pYyh1czogS29vcGEsIHRoZW06IEVudGl0eSl7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLmVuYWJsZWQgPSB0cnVlO1xuICAgIHVzLnBlbmR1bHVtTW92ZS5zcGVlZCA9IHRoaXMucGFuaWNTcGVlZCAqIE1hdGguc2lnbih0aGVtLnZlbC54KTtcbiAgICB0aGlzLnN0YXRlID0gS29vcGFTdGF0ZS5QQU5JQztcbiAgfVxuXG4gIHVuaGlkZSh1czogS29vcGEpe1xuICAgIHVzLnBlbmR1bHVtTW92ZS5lbmFibGVkID0gdHJ1ZTtcbiAgICB1cy5wZW5kdWx1bU1vdmUuc3BlZWQgPSB0aGlzLndhbGtTcGVlZDtcbiAgICB0aGlzLnN0YXRlID0gS29vcGFTdGF0ZS5XQUxLSU5HO1xuICB9XG5cbiAgdXBkYXRlKHVzOiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuXG4gICAgaWYoISh1cyBpbnN0YW5jZW9mIEtvb3BhKSkgcmV0dXJuO1xuICAgIGlmKHRoaXMuc3RhdGUgPT09IEtvb3BhU3RhdGUuSElESU5HKXtcbiAgICAgIHRoaXMuaGlkZVRpbWUgKz0gZHQ7XG4gICAgICBpZih0aGlzLmhpZGVUaW1lID4gdGhpcy5oaWRlRHVyYXRpb24pe1xuICAgICAgICB0aGlzLnVuaGlkZSh1cyBhcyBLb29wYSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtvb3BhIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHBoeXNpY3M6IFBoeXNpY3M7XG4gIHB1YmxpYyBzb2xpZDogU29saWQ7XG4gIHB1YmxpYyBwZW5kdWx1bU1vdmU6IFBlbmR1bHVtTW92ZTtcbiAgcHVibGljIGJlaGF2aW9yOiBCZWhhdmlvcjtcbiAgcHVibGljIGtpbGxhYmxlOiBLaWxsYWJsZTtcblxuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGh5c2ljcycsIHRoaXMucGh5c2ljcyA9IG5ldyBQaHlzaWNzKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3NvbGlkJywgdGhpcy5zb2xpZCA9IG5ldyBTb2xpZCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwZW5kdWx1bU1vdmUnLCB0aGlzLnBlbmR1bHVtTW92ZSA9IG5ldyBQZW5kdWx1bU1vdmUoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnZ29vbWJhJywgdGhpcy5iZWhhdmlvciA9IG5ldyBCZWhhdmlvcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgS29vcGFGYWN0b3J5ID0gKCkgPT4gS29vcGE7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkS29vcGEoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxLb29wYUZhY3Rvcnk+IHtcbiAgcmV0dXJuIGxvYWRTcHJpdGVTaGVldCgna29vcGEnKVxuICAudGhlbihjcmVhdGVLb29wYUZhY3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLb29wYUZhY3Rvcnkoc3ByaXRlczogU3ByaXRlU2hlZXQpIDogS29vcGFGYWN0b3J5IHtcbiAgY29uc3Qgd2Fsa0FuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbignd2FsaycpO1xuICBjb25zdCB3YWtlQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCd3YWtlJyk7XG5cbiAgZnVuY3Rpb24gcm91dGVBbmltKGtvb3BhOiBLb29wYSl7XG4gICAgc3dpdGNoKGtvb3BhLmJlaGF2aW9yLnN0YXRlKXtcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5ISURJTkc6IHtcbiAgICAgICAgaWYoa29vcGEuYmVoYXZpb3IuaGlkZVRpbWUgPiAzKSByZXR1cm4gd2FrZUFuaW0oa29vcGEubGlmZXRpbWUpO1xuICAgICAgfVxuICAgICAgY2FzZSBLb29wYVN0YXRlLlBBTklDOiByZXR1cm4gJ2hpZGluZyc7XG4gICAgICBkZWZhdWx0OiByZXR1cm4gd2Fsa0FuaW0oa29vcGEubGlmZXRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdLb29wYShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgc3ByaXRlcy5kcmF3KHJvdXRlQW5pbSh0aGlzKSwgY3R4LCAwLCAwLCB0aGlzLnZlbC54IDwgMCk7XG4gIH1cbiAgXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVLb29wYSgpe1xuICAgIGNvbnN0IGtvb3BhID0gbmV3IEtvb3BhKCk7XG4gICAga29vcGEuc2l6ZS5zZXQoMTYsIDE2KTtcbiAgICBrb29wYS5vZmZzZXQueSA9IDg7XG5cbiAgICBrb29wYS5kcmF3ID0gZHJhd0tvb3BhO1xuXG4gICAgcmV0dXJuIGtvb3BhO1xuICB9XG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4uL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgbG9hZEF1ZGlvQm9hcmQgfSBmcm9tIFwiLi4vbG9hZGVycy9hdWRpb1wiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnMvc3ByaXRlXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgR28gZnJvbSBcIi4uL3RyYWl0cy9Hb1wiO1xuaW1wb3J0IEp1bXAgZnJvbSBcIi4uL3RyYWl0cy9KdW1wXCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4uL3RyYWl0cy9LaWxsYWJsZVwiO1xuaW1wb3J0IFBoeXNpY3MgZnJvbSBcIi4uL3RyYWl0cy9QaHlzaWNzXCI7XG5pbXBvcnQgUGxheWVyIGZyb20gXCIuLi90cmFpdHMvUGxheWVyXCI7XG5pbXBvcnQgU29saWQgZnJvbSBcIi4uL3RyYWl0cy9Tb2xpZFwiO1xuaW1wb3J0IFN0b21wZXIgZnJvbSBcIi4uL3RyYWl0cy9TdG9tcGVyXCI7XG5cbmNvbnN0IGVudW0gRHJhZyB7XG4gIFNMT1cgPSAxLzEwMDAsXG4gIEZBU1QgPSAxLzUwMDAsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJpbyBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyBwbGF5ZXI6IFBsYXllcjtcbiAgcHVibGljIHBoeXNpY3M6IFBoeXNpY3M7XG4gIHB1YmxpYyBzb2xpZDogU29saWQ7XG4gIHB1YmxpYyBnbzogR287XG4gIHB1YmxpYyBqdW1wOiBKdW1wO1xuICBwdWJsaWMgc3RvbXBlcjogU3RvbXBlcjtcbiAgcHVibGljIGtpbGxhYmxlOiBLaWxsYWJsZTtcblxuICBjb25zdHJ1Y3RvcihhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKXtcbiAgICBzdXBlcihhdWRpb0JvYXJkKTtcbiAgICB0aGlzLnNpemUuc2V0KDE0LCAxNik7XG4gICAgdGhpcy5hZGRUcmFpdCgncGxheWVyJywgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BoeXNpY3MnLCB0aGlzLnBoeXNpY3MgPSBuZXcgUGh5c2ljcygpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdzb2xpZCcsIHRoaXMuc29saWQgPSBuZXcgU29saWQoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnZ28nLCB0aGlzLmdvID0gbmV3IEdvKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2p1bXAnLCB0aGlzLmp1bXAgPSBuZXcgSnVtcCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdzdG9tcGVyJywgdGhpcy5zdG9tcGVyID0gbmV3IFN0b21wZXIoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgna2lsbGFibGUnLCB0aGlzLmtpbGxhYmxlID0gbmV3IEtpbGxhYmxlKCkpO1xuICAgIHRoaXMuZ28uZHJhZyA9IERyYWcuU0xPVztcbiAgfVxuXG4gIHR1cmJvKGVuYWJsZWQ6IGJvb2xlYW4pe1xuICAgIHRoaXMuZ28uZHJhZyA9IGVuYWJsZWQgPyBEcmFnLkZBU1QgOiBEcmFnLlNMT1c7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgTWFyaW9GYWN0b3J5ID0gKCkgPT4gTWFyaW87XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTWFyaW8oYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxNYXJpb0ZhY3Rvcnk+IHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICBsb2FkU3ByaXRlU2hlZXQoJ21hcmlvJyksXG4gICAgbG9hZEF1ZGlvQm9hcmQoJ21hcmlvJywgYXVkaW9Db250ZXh0KSxcbiAgXSlcbiAgLnRoZW4oKFtzcHJpdGVzLCBhdWRpb10pID0+IHtcbiAgICByZXR1cm4gY3JlYXRlTWFyaW9GYWN0b3J5KHNwcml0ZXMsIGF1ZGlvKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcmlvRmFjdG9yeShzcHJpdGVzOiBTcHJpdGVTaGVldCwgYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZCkgOiBNYXJpb0ZhY3Rvcnkge1xuICBjb25zdCBydW5BbmltID0gc3ByaXRlcy5nZXRBbmltYXRpb24oJ3J1bicpO1xuXG4gIGZ1bmN0aW9uIHJvdXRlRnJhbWUobWFyaW86IE1hcmlvKXtcbiAgICBpZihtYXJpby5qdW1wLmZhbGxpbmcpe1xuICAgICAgcmV0dXJuICdqdW1wJztcbiAgICB9XG4gICAgaWYobWFyaW8uZ28uZGlzdGFuY2UgPiAwKXtcbiAgICAgIGlmKChtYXJpby52ZWwueCA+IDAgJiYgbWFyaW8uZ28uZGlyIDwgMCkgfHwgKG1hcmlvLnZlbC54IDwgMCAmJiBtYXJpby5nby5kaXIgPiAwKSlcbiAgICAgICAgcmV0dXJuICdicmVhayc7XG4gIFxuICAgICAgcmV0dXJuIHJ1bkFuaW0obWFyaW8uZ28uZGlzdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gJ2lkbGUnO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd01hcmlvKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBzcHJpdGVzLmRyYXcocm91dGVGcmFtZSh0aGlzKSwgY3R4LCAwLCAwLCB0aGlzLmdvLmhlYWRpbmcgPCAwKTtcbiAgfVxuICBcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcmlvKCl7XG4gICAgY29uc3QgbWFyaW8gPSBuZXcgTWFyaW8oYXVkaW9Cb2FyZCk7XG5cbiAgICBtYXJpby5kcmF3ID0gZHJhd01hcmlvO1xuICAgIG1hcmlvLmtpbGxhYmxlLnJlbW92ZUFmdGVyID0gMDtcblxuICAgIHJldHVybiBtYXJpbztcbiAgfVxufSIsImltcG9ydCBNYXJpbyBmcm9tICcuL2VudGl0aWVzL01hcmlvJztcbmltcG9ydCBLZXlib2FyZCBmcm9tICcuL0tleWJvYXJkU3RhdGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBLZXlib2FyZChtYXJpbzogTWFyaW8pIDogS2V5Ym9hcmQge1xuICBjb25zdCBpbnB1dCA9IG5ldyBLZXlib2FyZCgpO1xuICBcbiAgaW5wdXQuYWRkTWFwcGluZygnS2V5UCcsIGtleVN0YXRlID0+IHtcbiAgICBpZihrZXlTdGF0ZSl7XG4gICAgICBtYXJpby5qdW1wLnN0YXJ0KCk7XG4gICAgfWVsc2V7XG4gICAgICBtYXJpby5qdW1wLmNhbmNlbCgpO1xuICAgIH1cbiAgfSk7XG4gIFxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlPJywga2V5U3RhdGUgPT4ge1xuICAgIG1hcmlvLnR1cmJvKGtleVN0YXRlID09PSAxKTtcbiAgfSk7XG5cbiAgaW5wdXQuYWRkTWFwcGluZygnS2V5QScsIGtleVN0YXRlID0+IHtcbiAgICBtYXJpby5nby5kaXIgKz0ga2V5U3RhdGUgPyAtMSA6IDE7XG4gIH0pO1xuICBcbiAgaW5wdXQuYWRkTWFwcGluZygnS2V5RCcsIGtleVN0YXRlID0+IHtcbiAgICBtYXJpby5nby5kaXIgKz0ga2V5U3RhdGUgPyAxIDogLTE7XG4gIH0pO1xuICBcbiAgcmV0dXJuIGlucHV0O1xufSIsImltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgTGV2ZWxUaWxlU3BlYyB9IGZyb20gXCIuLi9sb2FkZXJzL2xldmVsXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0aFwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IHsgVGlsZVJlc29sdmVyIH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmFja2dyb3VuZExheWVyKGxldmVsOiBMZXZlbCwgdGlsZXM6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPiwgc3ByaXRlczogU3ByaXRlU2hlZXQpIDogTGF5ZXJSZW5kZXJlciB7XG4gIGNvbnN0IHJlc29sdmVyID0gbmV3IFRpbGVSZXNvbHZlcih0aWxlcyk7XG5cbiAgY29uc3QgY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICBjdHguY2FudmFzLndpZHRoID0gMjU2ICsgMTY7XG4gIGN0eC5jYW52YXMuaGVpZ2h0ID0gMjQwO1xuXG4gIGZ1bmN0aW9uIHJlZHJhdyhkcmF3RnJvbTogbnVtYmVyLCBkcmF3VG86IG51bWJlcil7XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodCk7XG5cbiAgICBmb3IobGV0IHg9ZHJhd0Zyb207IHg8PWRyYXdUbzsgeCsrKXtcbiAgICAgIGNvbnN0IGNvbCA9IHRpbGVzLmdyaWRbeF07XG4gICAgICBpZighY29sKSBjb250aW51ZTtcbiAgICAgIGNvbC5mb3JFYWNoKCh0aWxlLCB5KT0+e1xuICAgICAgICBzcHJpdGVzLmRyYXdBbmltKHRpbGUubmFtZSwgY3R4LCB4LWRyYXdGcm9tLCB5LCBsZXZlbC50aW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3QmFja2dyb3VuZExheWVyKHNjcmVlbiwgY2FtZXJhKXsgXG4gICAgY29uc3QgZHJhd1dpZHRoID0gcmVzb2x2ZXIudG9JbmRleChjYW1lcmEuc2l6ZS54KTtcbiAgICBjb25zdCBkcmF3RnJvbSA9IHJlc29sdmVyLnRvSW5kZXgoY2FtZXJhLnBvcy54KTtcbiAgICBjb25zdCBkcmF3VG8gPSBkcmF3RnJvbSArIGRyYXdXaWR0aDtcbiAgICByZWRyYXcoZHJhd0Zyb20sIGRyYXdUbyk7XG4gICAgc2NyZWVuLmRyYXdJbWFnZShcbiAgICAgIGN0eC5jYW52YXMsIFxuICAgICAgLWNhbWVyYS5wb3MueCAlIDE2LCBcbiAgICAgIC1jYW1lcmEucG9zLnlcbiAgICApO1xuICB9XG59IiwiaW1wb3J0IENhbWVyYSBmcm9tIFwiLi4vQ2FtZXJhXCI7XG5pbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgVGlsZVJlc29sdmVyIH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5pbnRlcmZhY2UgVmVjMiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH07XG5cbmZ1bmN0aW9uIGNyZWF0ZUVudGl0eUxheWVyKGVudGl0aWVzOiBTZXQ8RW50aXR5Pil7XG4gIHJldHVybiBmdW5jdGlvbiBkcmF3Qm91bmRpbmdCb3goY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgICBlbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgucmVjdChcbiAgICAgICAgZW50aXR5LmJvdW5kcy5sZWZ0IC0gY2FtZXJhLnBvcy54LCBcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AgLSBjYW1lcmEucG9zLnksIFxuICAgICAgICBlbnRpdHkuc2l6ZS54LCBlbnRpdHkuc2l6ZS55XG4gICAgICApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUaWxlQ2FuZGlkYXRlTGF5ZXIodGlsZVJlc29sdmVyOiBUaWxlUmVzb2x2ZXIpe1xuICBjb25zdCByZXNvbHZlZFRpbGVzOiBWZWMyW10gPSBbXTtcblxuICBjb25zdCB0aWxlU2l6ZSA9IHRpbGVSZXNvbHZlci50aWxlU2l6ZTtcblxuICBjb25zdCBnZXRCeUluZGV4T3JpZ2luYWwgPSB0aWxlUmVzb2x2ZXIuZ2V0QnlJbmRleDtcbiAgdGlsZVJlc29sdmVyLmdldEJ5SW5kZXggPSBmdW5jdGlvbiBnZXRCeUluZGV4RmFrZSh4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgcmVzb2x2ZWRUaWxlcy5wdXNoKHt4LCB5fSk7XG4gICAgcmV0dXJuIGdldEJ5SW5kZXhPcmlnaW5hbC5jYWxsKHRpbGVSZXNvbHZlciwgeCwgeSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd1RpbGVDYW5kaWRhdGVzKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW1lcmE6IENhbWVyYSl7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsdWUnO1xuICAgIHJlc29sdmVkVGlsZXMuZm9yRWFjaCgoe3gseX0pID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5yZWN0KFxuICAgICAgICB4KnRpbGVTaXplIC0gY2FtZXJhLnBvcy54LCBcbiAgICAgICAgeSp0aWxlU2l6ZSAtIGNhbWVyYS5wb3MueSwgXG4gICAgICAgIHRpbGVTaXplLCB0aWxlU2l6ZVxuICAgICAgKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9KTtcblxuICAgIHJlc29sdmVkVGlsZXMubGVuZ3RoID0gMDtcbiAgfTtcbn1cbiBcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb2xsaXNpb25MYXllcihsZXZlbDogTGV2ZWwpIDogTGF5ZXJSZW5kZXJlciB7XG4gIGNvbnN0IGRyYXdUaWxlQ2FuZGlkYXRlcyA9IGxldmVsLnRpbGVDb2xsaWRlci5yZXNvbHZlcnMubWFwKGNyZWF0ZVRpbGVDYW5kaWRhdGVMYXllcik7XG4gIGNvbnN0IGRyYXdCb3VuZGluZ0JveGVzID0gY3JlYXRlRW50aXR5TGF5ZXIobGV2ZWwuZW50aXRpZXMpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3Q29sbGlzaW9uKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW1lcmE6IENhbWVyYSl7XG4gICAgZHJhd1RpbGVDYW5kaWRhdGVzLmZvckVhY2goZHJhdyA9PiBkcmF3KGN0eCwgY2FtZXJhKSk7XG4gICAgZHJhd0JvdW5kaW5nQm94ZXMoY3R4LCBjYW1lcmEpO1xuICB9XG59IiwiaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgeyBGb250U2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVycy9mb250XCI7XG5pbXBvcnQgUGxheWVyQ29udHJvbGxlciBmcm9tIFwiLi4vdHJhaXRzL1BsYXllckNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURhc2hib2FyZExheWVyKGZvbnQ6IEZvbnRTaGVldCwgcGxheWVyQ29udHJvbGxlcjogUGxheWVyQ29udHJvbGxlcikgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3QgTElORTEgPSBmb250LnNpemU7XG4gIGNvbnN0IExJTkUyID0gZm9udC5zaXplICogMjtcblxuICBjb25zdCBjb2lucyA9IDI2O1xuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3RGFzaGJvYXJkKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBjb25zdCB0aW1lID0gTWF0aC5tYXgoMCwgcGxheWVyQ29udHJvbGxlci50aW1lKTtcblxuICAgIGZvbnQuZHJhdygnTUFSSU8nLCBjdHgsIDE2LCBMSU5FMSk7XG4gICAgZm9udC5kcmF3KHBsYXllckNvbnRyb2xsZXIuc2NvcmUudG9TdHJpbmcoKS5wYWRTdGFydCg2LCAnMCcpLCBjdHgsIDE2LCBMSU5FMik7XG5cbiAgICBmb250LmRyYXcoYEB4JHtjb2lucy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YCwgY3R4LCA5NiwgTElORTIpO1xuXG4gICAgZm9udC5kcmF3KCdXT1JMRCcsIGN0eCwgMTUyLCBMSU5FMSk7XG4gICAgZm9udC5kcmF3KCcxLTEnLCBjdHgsIDE2MCwgTElORTIpO1xuXG4gICAgZm9udC5kcmF3KCdUSU1FJywgY3R4LCAyMDgsIExJTkUxKTtcbiAgICBmb250LmRyYXcodGltZS50b0ZpeGVkKDApLnBhZFN0YXJ0KDMsICcwJyksIGN0eCwgMjE2LCBMSU5FMik7XG4gIH1cbn0iLCJpbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ByaXRlTGF5ZXIoZW50aXRpZXM6IFNldDxFbnRpdHk+LCB3aWR0aDogbnVtYmVyID0gNjQsIGhlaWdodDogbnVtYmVyID0gNjQpIDogTGF5ZXJSZW5kZXJlciB7XG4gIGNvbnN0IHNwcml0ZUN0eCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XG4gIHNwcml0ZUN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgc3ByaXRlQ3R4LmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICBzcHJpdGVDdHguY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd1Nwcml0ZUxheWVyKGN0eCwgY2FtZXJhKXtcbiAgICBlbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBzcHJpdGVDdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgZW50aXR5LmRyYXcoc3ByaXRlQ3R4KTtcblxuICAgICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgc3ByaXRlQ3R4LmNhbnZhcywgXG4gICAgICAgIGVudGl0eS5wb3MueCAtIGNhbWVyYS5wb3MueCxcbiAgICAgICAgZW50aXR5LnBvcy55IC0gY2FtZXJhLnBvcy55XG4gICAgICApO1xuICAgIH0pXG4gIH1cbn0iLCJleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlKHBhdGg6IHN0cmluZykgOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+e1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gKCk9PnJlc29sdmUoaW1nKTtcbiAgICBpbWcub25lcnJvciA9IHJlamVjdDtcbiAgICBpbWcuc3JjID0gcGF0aDtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkSlNPTihwYXRoOiBzdHJpbmcpIDogUHJvbWlzZTxvYmplY3Q+IHtcbiAgcmV0dXJuIGZldGNoKHBhdGgpLnRoZW4ocmVzPT5yZXMuanNvbigpKTtcbn0iLCJpbXBvcnQgQXVkaW9Cb2FyZCBmcm9tIFwiLi4vQXVkaW9Cb2FyZFwiO1xuaW1wb3J0IHsgbG9hZEpTT04gfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuXG50eXBlIEF1ZGlvTG9hZGVyID0gKHVybDogc3RyaW5nKSA9PiBQcm9taXNlPEF1ZGlvQnVmZmVyPjtcblxuaW50ZXJmYWNlIEF1ZGlvU3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgdXJsOiBzdHJpbmcsXG59XG5pbnRlcmZhY2UgQXVkaW9TaGVldFNwZWMge1xuICBmeDogQXVkaW9TcGVjW10sXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQXVkaW9Cb2FyZChuYW1lOiBzdHJpbmcsIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8QXVkaW9Cb2FyZD4ge1xuICBjb25zdCBsb2FkQXVkaW8gPSBjcmVhdGVBdWRpb0xvYWRlcihhdWRpb0NvbnRleHQpO1xuICBjb25zdCBhdWRpb1NoZWV0ID0gYXdhaXQgbG9hZEpTT04oYC4vc291bmRzLyR7bmFtZX0uanNvbmApIGFzIEF1ZGlvU2hlZXRTcGVjO1xuICBjb25zdCBhdWRpb0JvYXJkID0gbmV3IEF1ZGlvQm9hcmQoKTtcbiAgY29uc3Qgam9iczogYW55W10gPSBbXTtcbiAgYXVkaW9TaGVldC5meC5mb3JFYWNoKCh7IG5hbWUsIHVybCB9KSA9PiB7XG4gICAgam9icy5wdXNoKFxuICAgICAgbG9hZEF1ZGlvKHVybClcbiAgICAgIC50aGVuKGJ1ZmZlciA9PiB7XG4gICAgICAgIGF1ZGlvQm9hcmQuYWRkKG5hbWUsIGJ1ZmZlcik7XG4gICAgICB9KVxuICAgICk7XG4gIH0pO1xuICBhd2FpdCBQcm9taXNlLmFsbChqb2JzKTtcbiAgcmV0dXJuIGF1ZGlvQm9hcmQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBdWRpb0xvYWRlcihjb250ZXh0OiBBdWRpb0NvbnRleHQpIDogQXVkaW9Mb2FkZXIge1xuICByZXR1cm4gZnVuY3Rpb24gbG9hZEF1ZGlvKHVybDogc3RyaW5nKSA6IFByb21pc2U8QXVkaW9CdWZmZXI+IHtcbiAgICByZXR1cm4gZmV0Y2godXJsKVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xuICAgICAgcmV0dXJuIGNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCB7IGxvYWRJbWFnZSB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5cbmNvbnN0IExFVFRFUlMgPSBgICFcIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xcXFxdXl9cXGBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5gXG5cbmV4cG9ydCBjbGFzcyBGb250U2hlZXQge1xuICBwcml2YXRlIHNoZWV0OiBTcHJpdGVTaGVldDtcbiAgcHVibGljIHNpemU6IG51bWJlcjtcbiAgY29uc3RydWN0b3Ioc2hlZXQ6IFNwcml0ZVNoZWV0LCBzaXplOiBudW1iZXIpe1xuICAgIHRoaXMuc2hlZXQgPSBzaGVldDtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICB9XG4gIGRyYXcodGV4dDogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgb2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpe1xuICAgIGZvcihsZXQgeD0wOyB4PHRleHQubGVuZ3RoOyB4Kyspe1xuICAgICAgdGhpcy5zaGVldC5kcmF3KHRleHRbeF0sIGN0eCwgb2Zmc2V0WCArIHggKiB0aGlzLnNpemUsIG9mZnNldFkpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEZvbnQoKSA6IFByb21pc2U8Rm9udFNoZWV0PiB7XG4gIGNvbnN0IGltYWdlID0gYXdhaXQgbG9hZEltYWdlKCcuL3NoZWV0cy9mb250LnBuZycpXG4gIGNvbnN0IHNwcml0ZXMgPSBuZXcgU3ByaXRlU2hlZXQoaW1hZ2UpO1xuXG4gIGNvbnN0IHNpemUgPSA4O1xuICBmb3IobGV0IGk9MDsgaTxMRVRURVJTLmxlbmd0aDsgaSsrKXtcbiAgICBjb25zdCB4ID0gKGkgJiAxNSkgKiBzaXplO1xuICAgIGNvbnN0IHkgPSAoaSA+PiA0KSAqIHNpemU7XG4gICAgc3ByaXRlcy5kZWZpbmUoTEVUVEVSU1tpXSwgeCwgeSwgc2l6ZSwgc2l6ZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IEZvbnRTaGVldChzcHJpdGVzLCBzaXplKTtcbn0iLCJpbXBvcnQgeyBFbnRpdHlGYWN0b3J5IH0gZnJvbSBcIi4uL2VudGl0aWVzXCI7XG5pbXBvcnQgeyBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJzL2JhY2tncm91bmRcIjtcbmltcG9ydCB7IGNyZWF0ZVNwcml0ZUxheWVyIH0gZnJvbSBcIi4uL2xheWVycy9zcHJpdGVcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IGxvYWRKU09OIH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgeyBsb2FkTXVzaWNTaGVldCB9IGZyb20gXCIuL211c2ljXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi9zcHJpdGVcIjtcblxudHlwZSBSYW5nZSA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyPywgbnVtYmVyP107XG5leHBvcnQgaW50ZXJmYWNlIExldmVsVGlsZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHBhdHRlcm4/OiBzdHJpbmcsXG4gIHR5cGU/OiBzdHJpbmcsXG4gIHJhbmdlczogUmFuZ2VbXSxcbn1cbmludGVyZmFjZSBQYXR0ZXJuU3BlYyB7XG4gIHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sXG59XG5pbnRlcmZhY2UgUGF0dGVybnNTcGVjIHtcbiAgW2tleTogc3RyaW5nXTogUGF0dGVyblNwZWMsXG59O1xuaW50ZXJmYWNlIExheWVyU3BlYyB7XG4gIHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sXG59XG5pbnRlcmZhY2UgRW50aXR5U3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgcG9zOiBbbnVtYmVyLCBudW1iZXJdLFxufVxuaW50ZXJmYWNlIExldmVsU3BlYyB7XG4gIHNwcml0ZVNoZWV0OiBzdHJpbmcsXG4gIG11c2ljU2hlZXQ6IHN0cmluZyxcbiAgcGF0dGVybnM6IFBhdHRlcm5zU3BlYyxcbiAgbGF5ZXJzOiBMYXllclNwZWNbXSxcbiAgZW50aXRpZXM6IEVudGl0eVNwZWNbXSxcbn1cbmludGVyZmFjZSBFeHBhbmRlZFRpbGUge1xuICB0aWxlOiBMZXZlbFRpbGVTcGVjLFxuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbn1cblxuZnVuY3Rpb24gc2V0dXBCYWNrZ3JvdW5kcyhsZXZlbFNwZWM6IExldmVsU3BlYywgbGV2ZWw6IExldmVsLCBzcHJpdGVzOiBTcHJpdGVTaGVldCl7XG4gIGxldmVsU3BlYy5sYXllcnMuZm9yRWFjaCgobGF5ZXIsIGkpID0+IHtcbiAgICBjb25zdCBncmlkID0gY3JlYXRlR3JpZChsYXllci50aWxlcywgbGV2ZWxTcGVjLnBhdHRlcm5zKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kTGF5ZXIgPSBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIobGV2ZWwsIGdyaWQsIHNwcml0ZXMpO1xuICAgIGxldmVsLmNvbXAuYWRkKGJhY2tncm91bmRMYXllcik7XG4gICAgbGV2ZWwudGlsZUNvbGxpZGVyLmFkZEdyaWQoZ3JpZCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cEVudGl0aWVzKGxldmVsU3BlYzogTGV2ZWxTcGVjLCBsZXZlbDogTGV2ZWwsIGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3Rvcnkpe1xuICBsZXZlbFNwZWMuZW50aXRpZXMuZm9yRWFjaCgoe25hbWUsIHBvczogW3gsIHldfSkgPT4ge1xuICAgIGNvbnN0IGNyZWF0ZUVudGl0eSA9IGVudGl0eUZhY3RvcnlbbmFtZV07XG4gICAgY29uc3QgZW50aXR5ID0gY3JlYXRlRW50aXR5KCk7XG4gICAgZW50aXR5LnBvcy5zZXQoeCwgeSk7XG4gICAgbGV2ZWwuZW50aXRpZXMuYWRkKGVudGl0eSk7XG4gIH0pXG5cbiAgY29uc3Qgc3ByaXRlTGF5ZXIgPSBjcmVhdGVTcHJpdGVMYXllcihsZXZlbC5lbnRpdGllcyk7XG4gIGxldmVsLmNvbXAuYWRkKHNwcml0ZUxheWVyKTtcbn1cblxudHlwZSBMZXZlbExvYWRlciA9IChuYW1lOiBzdHJpbmcpID0+IFByb21pc2U8TGV2ZWw+O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxldmVsTG9hZGVyKGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3RvcnkpIDogTGV2ZWxMb2FkZXIge1xuICByZXR1cm4gZnVuY3Rpb24gbG9hZExldmVsKG5hbWU6IHN0cmluZykgOiBQcm9taXNlPExldmVsPiB7XG4gICAgcmV0dXJuIChsb2FkSlNPTihgLi9sZXZlbHMvJHtuYW1lfS5qc29uYCkgYXMgUHJvbWlzZTxMZXZlbFNwZWM+KVxuICAgIC50aGVuKGxldmVsU3BlYyA9PiBQcm9taXNlLmFsbChbXG4gICAgICBsZXZlbFNwZWMsXG4gICAgICBsb2FkU3ByaXRlU2hlZXQobGV2ZWxTcGVjLnNwcml0ZVNoZWV0KSxcbiAgICAgIGxvYWRNdXNpY1NoZWV0KGxldmVsU3BlYy5tdXNpY1NoZWV0KSxcbiAgICBdKSlcbiAgICAudGhlbigoW2xldmVsU3BlYywgc3ByaXRlcywgbXVzaWNQbGF5ZXJdKSA9PiB7XG4gICAgICBjb25zdCBsZXZlbCA9IG5ldyBMZXZlbCgpO1xuICAgICAgbGV2ZWwubXVzaWMuc2V0UGxheWVyKG11c2ljUGxheWVyKTtcblxuICAgICAgc2V0dXBCYWNrZ3JvdW5kcyhsZXZlbFNwZWMsIGxldmVsLCBzcHJpdGVzKTtcbiAgICAgIHNldHVwRW50aXRpZXMobGV2ZWxTcGVjLCBsZXZlbCwgZW50aXR5RmFjdG9yeSk7XG4gICAgICBcbiAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVHcmlkKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMpIDogTWF0cml4PExldmVsVGlsZVNwZWM+IHtcbiAgY29uc3QgZ3JpZDogTWF0cml4PExldmVsVGlsZVNwZWM+ID0gbmV3IE1hdHJpeCgpO1xuXG4gIGZvcihjb25zdCB7IHRpbGUsIHgsIHkgfSBvZiBleHBhbmRUaWxlcyh0aWxlcywgcGF0dGVybnMpKXtcbiAgICBncmlkLnNldCh4LCB5LCB0aWxlKTtcbiAgfVxuXG4gIHJldHVybiBncmlkO1xufVxuXG50eXBlIENvb3JkID0geyB4OiBudW1iZXIsIHk6bnVtYmVyIH07XG5mdW5jdGlvbiogZXhwYW5kU3Bhbih4U3RhcnQ6IG51bWJlciwgeExlbjogbnVtYmVyLCB5U3RhcnQ6IG51bWJlciwgeUxlbjogbnVtYmVyKSA6IEdlbmVyYXRvcjxDb29yZD4ge1xuICBjb25zdCB4RW5kID0geFN0YXJ0ICsgeExlbiwgeUVuZCA9IHlTdGFydCArIHlMZW47XG4gIGZvcihsZXQgeD14U3RhcnQ7IHg8eEVuZDsgeCsrKXtcbiAgICBmb3IobGV0IHk9eVN0YXJ0OyB5PHlFbmQ7IHkrKyl7XG4gICAgICB5aWVsZCB7IHgsIHkgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwYW5kUmFuZ2UocmFuZ2U6IFJhbmdlKSA6IEdlbmVyYXRvcjxDb29yZD4ge1xuICBzd2l0Y2gocmFuZ2UubGVuZ3RoKXtcbiAgICBjYXNlIDQ6IHJldHVybiBleHBhbmRTcGFuKC4uLnJhbmdlKTtcbiAgICBjYXNlIDM6IHJldHVybiBleHBhbmRTcGFuKHJhbmdlWzBdLCByYW5nZVsxXSwgcmFuZ2VbMl0sIDEpO1xuICAgIGNhc2UgMjogcmV0dXJuIGV4cGFuZFNwYW4ocmFuZ2VbMF0sIDEsIHJhbmdlWzFdLCAxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogZXhwYW5kUmFuZ2VzKHJhbmdlczogUmFuZ2VbXSkgOiBHZW5lcmF0b3I8YW55PiB7XG4gIGZvcihjb25zdCByYW5nZSBvZiByYW5nZXMpe1xuICAgIHlpZWxkKiBleHBhbmRSYW5nZShyYW5nZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24qIGV4cGFuZFRpbGVzKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMpIDogR2VuZXJhdG9yPEV4cGFuZGVkVGlsZT4ge1xuICBmdW5jdGlvbiogd2Fsa1RpbGVzKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyKSA6IEdlbmVyYXRvcjxFeHBhbmRlZFRpbGU+IHtcbiAgICBmb3IoY29uc3QgdGlsZSBvZiB0aWxlcyl7XG4gICAgICBmb3IoY29uc3QgeyB4LCB5IH0gb2YgZXhwYW5kUmFuZ2VzKHRpbGUucmFuZ2VzKSl7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRYID0geCArIG9mZnNldFgsIGRlcml2ZWRZID0geSArIG9mZnNldFk7XG4gICAgICAgIGlmKHRpbGUucGF0dGVybil7XG4gICAgICAgICAgY29uc3QgdGlsZXMgPSBwYXR0ZXJuc1t0aWxlLnBhdHRlcm5dLnRpbGVzO1xuICAgICAgICAgIHlpZWxkKiB3YWxrVGlsZXModGlsZXMsIGRlcml2ZWRYLCBkZXJpdmVkWSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICB4OiBkZXJpdmVkWCxcbiAgICAgICAgICAgIHk6IGRlcml2ZWRZLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB5aWVsZCogd2Fsa1RpbGVzKHRpbGVzLCAwLCAwKTtcbn0iLCJpbXBvcnQgeyBsb2FkSlNPTiB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5pbXBvcnQgTXVzaWNQbGF5ZXIgZnJvbSBcIi4uL011c2ljUGxheWVyXCI7XG5cbmludGVyZmFjZSBNdXNpY1NwZWMge1xuICB1cmw6IHN0cmluZyxcbn1cbmludGVyZmFjZSBNdXNpY1NoZWV0U3BlYyB7XG4gIFtuYW1lOiBzdHJpbmddOiBNdXNpY1NwZWMsXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkTXVzaWNTaGVldChuYW1lOiBzdHJpbmcpIDogUHJvbWlzZTxNdXNpY1BsYXllcj4ge1xuICBjb25zdCBtdXNpY1NoZWV0ID0gYXdhaXQgbG9hZEpTT04oYC4vbXVzaWMvJHtuYW1lfS5qc29uYCkgYXMgTXVzaWNTaGVldFNwZWM7XG4gIGNvbnN0IG11c2ljUGxheWVyID0gbmV3IE11c2ljUGxheWVyKCk7XG4gIGZvcihjb25zdCBbbmFtZSwgdHJhY2tdIG9mIE9iamVjdC5lbnRyaWVzKG11c2ljU2hlZXQpKXtcbiAgICBtdXNpY1BsYXllci5hZGRUcmFjayhuYW1lLCB0cmFjay51cmwpO1xuICB9XG4gIHJldHVybiBtdXNpY1BsYXllcjtcbn0iLCJpbXBvcnQgeyBjcmVhdGVBbmltIH0gZnJvbSBcIi4uL2FuaW1cIjtcbmltcG9ydCB7IGxvYWRJbWFnZSwgbG9hZEpTT04gfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRpbGVTcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICBpbmRleDogW251bWJlciwgbnVtYmVyXSxcbn1cbmludGVyZmFjZSBGcmFtZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHJlY3Q6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxufVxuaW50ZXJmYWNlIEFuaW1hdGlvblNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIGZyYW1lTGVuOiBudW1iZXIsXG4gIGZyYW1lczogc3RyaW5nW10sXG59XG5pbnRlcmZhY2UgU2hlZXRTcGVjIHtcbiAgaW1hZ2VVUkw6IHN0cmluZyxcbiAgdGlsZVc6IG51bWJlciwgdGlsZUg6IG51bWJlcixcbiAgdGlsZXM/OiBUaWxlU3BlY1tdLFxuICBmcmFtZXM/OiBGcmFtZVNwZWNbXSxcbiAgYW5pbWF0aW9ucz86IEFuaW1hdGlvblNwZWNbXSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRTcHJpdGVTaGVldChuYW1lOiBzdHJpbmcpe1xuICByZXR1cm4gKGxvYWRKU09OKGAuL3Nwcml0ZXMvJHtuYW1lfS5qc29uYCkgYXMgUHJvbWlzZTxTaGVldFNwZWM+KVxuICAudGhlbihzaGVldFNwZWMgPT4gUHJvbWlzZS5hbGwoW1xuICAgIHNoZWV0U3BlYyxcbiAgICBsb2FkSW1hZ2Uoc2hlZXRTcGVjLmltYWdlVVJMKSxcbiAgXSkpXG4gIC50aGVuKChbc2hlZXRTcGVjLCBpbWFnZV0pPT57XG4gICAgY29uc3Qgc3ByaXRlcyA9IG5ldyBTcHJpdGVTaGVldChpbWFnZSwgc2hlZXRTcGVjLnRpbGVXLCBzaGVldFNwZWMudGlsZUgpO1xuXG4gICAgaWYoc2hlZXRTcGVjLnRpbGVzKXtcbiAgICAgIHNoZWV0U3BlYy50aWxlcy5mb3JFYWNoKHRpbGVTcGVjID0+IHtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmVUaWxlKHRpbGVTcGVjLm5hbWUsIC4uLnRpbGVTcGVjLmluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKHNoZWV0U3BlYy5mcmFtZXMpe1xuICAgICAgc2hlZXRTcGVjLmZyYW1lcy5mb3JFYWNoKCh7bmFtZSwgcmVjdH0pID0+IHtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmUobmFtZSwgLi4ucmVjdCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihzaGVldFNwZWMuYW5pbWF0aW9ucyl7XG4gICAgICBzaGVldFNwZWMuYW5pbWF0aW9ucy5mb3JFYWNoKCh7bmFtZSwgZnJhbWVMZW4sIGZyYW1lc30pID0+IHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gY3JlYXRlQW5pbShmcmFtZXMsIGZyYW1lTGVuKTtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmVBbmltKG5hbWUsIGFuaW1hdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3ByaXRlcztcbiAgfSlcbn0iLCJ0eXBlIE1hdHJpeENhbGxiYWNrPFQ+ID0gKHg6IG51bWJlciwgeTogbnVtYmVyLCB0aWxlOiBUKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgTWF0cml4PFQ+IHtcbiAgcHVibGljIGdyaWQ6IFRbXVtdO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMuZ3JpZCA9IFtdO1xuICB9XG4gIGRlbGV0ZSh4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgY29uc3QgY29sID0gdGhpcy5ncmlkW3hdO1xuICAgIGlmKGNvbCkgZGVsZXRlIGNvbFt5XTtcbiAgfVxuICBnZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpIDogVCB7XG4gICAgY29uc3QgY29sID0gdGhpcy5ncmlkW3hdO1xuICAgIGlmKGNvbCkgcmV0dXJuIGNvbFt5XTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgdmFsdWU6IFQpe1xuICAgIGlmKCF0aGlzLmdyaWRbeF0pIHRoaXMuZ3JpZFt4XSA9IFtdO1xuICAgIHRoaXMuZ3JpZFt4XVt5XSA9IHZhbHVlO1xuICB9XG4gIGZvckVhY2goY2FsbGJhY2s6IE1hdHJpeENhbGxiYWNrPFQ+KXtcbiAgICB0aGlzLmdyaWQuZm9yRWFjaCgoY29sdW1ucywgeCkgPT4ge1xuICAgICAgY29sdW1ucy5mb3JFYWNoKCh0aWxlLCB5KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKHgsIHksIHRpbGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZlY3RvciB7XG4gIHB1YmxpYyB4OiBudW1iZXI7XG4gIHB1YmxpYyB5OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApe1xuICAgIHRoaXMuc2V0KHgsIHkpO1xuICB9XG4gIGNvcHkoc291cmNlOiBWZWN0b3Ipe1xuICAgIHRoaXMuc2V0KHNvdXJjZS54LCBzb3VyY2UueSk7XG4gIH1cbiAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8gZnJvbSBcIi4vZW50aXRpZXMvTWFyaW9cIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4vTGV2ZWxcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vdHJhaXRzL1BsYXllclwiO1xuaW1wb3J0IFBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vdHJhaXRzL1BsYXllckNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBsYXllckVudihwbGF5ZXI6IE1hcmlvKSA6IEVudGl0eSB7XG4gIGNvbnN0IGVudiA9IG5ldyBFbnRpdHkoKTtcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBQbGF5ZXJDb250cm9sbGVyKCk7XG4gIGNvbnRyb2xsZXIuY2hlY2twb2ludC5zZXQoNjQsIDY0KTtcbiAgY29udHJvbGxlci5zZXRQbGF5ZXIocGxheWVyKTtcbiAgZW52LmFkZFRyYWl0KCdjb250cm9sbGVyJywgY29udHJvbGxlcik7XG4gIHJldHVybiBlbnY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogZmluZFBsYXllcnMobGV2ZWw6IExldmVsKSA6IEdlbmVyYXRvcjxFbnRpdHk+IHtcbiAgZm9yKGNvbnN0IGVudGl0eSBvZiBsZXZlbC5lbnRpdGllcyl7XG4gICAgaWYoZW50aXR5LmdldFRyYWl0KCdwbGF5ZXInKSBpbnN0YW5jZW9mIFBsYXllcikgeWllbGQgZW50aXR5O1xuICB9XG59IiwiaW1wb3J0IHsgU2lkZXMgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBUaWxlQ29sbGlzaW9uQ29udGV4dCB9IGZyb20gXCIuLi9UaWxlQ29sbGlkZXJcIjtcblxuZnVuY3Rpb24gaGFuZGxlWCh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnggPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLnJpZ2h0ID4gbWF0Y2gueDEpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlJJR0hULCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnggPCAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmxlZnQgPCBtYXRjaC54Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuTEVGVCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVZKHRpbGVDb2xsaXNpb25Db250ZXh0OiBUaWxlQ29sbGlzaW9uQ29udGV4dCl7XG4gIGNvbnN0IHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDsgXG5cbiAgaWYoZW50aXR5LnZlbC55ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5ib3R0b20gPiBtYXRjaC55MSl7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuQk9UVE9NLCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnkgPCAwKXtcbiAgICBpZihlbnRpdHkuZ2V0VHJhaXQoJ3BsYXllcicpKXtcbiAgICAgIGNvbnN0IGdyaWQgPSByZXNvbHZlci5tYXRyaXg7XG4gICAgICBncmlkLmRlbGV0ZShtYXRjaC5pbmRleFgsIG1hdGNoLmluZGV4WSk7XG4gICAgICBjb25zdCBnb29tYmEgPSBnYW1lQ29udGV4dC5lbnRpdHlGYWN0b3J5Lmdvb21iYSgpO1xuICAgICAgZ29vbWJhLnBvcy5zZXQoZW50aXR5LnBvcy54LCBtYXRjaC55MSk7XG4gICAgICBnb29tYmEudmVsLnNldCg1MCwgLTQwMCk7XG4gICAgICBnYW1lQ29udGV4dC5sZXZlbC5lbnRpdGllcy5hZGQoZ29vbWJhKTtcbiAgICB9XG4gICAgaWYoZW50aXR5LmJvdW5kcy50b3AgPCBtYXRjaC55Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuVE9QLCBtYXRjaCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBicmljayA9IFsgaGFuZGxlWCwgaGFuZGxlWSBdOyIsImltcG9ydCB7IFNpZGVzIH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgVGlsZUNvbGxpc2lvbkNvbnRleHQgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmZ1bmN0aW9uIGhhbmRsZVgodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIG1hdGNoIH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDtcbiAgaWYoZW50aXR5LnZlbC54ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5yaWdodCA+IG1hdGNoLngxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5SSUdIVCwgbWF0Y2gpO1xuICAgIH1cbiAgfWVsc2UgaWYoZW50aXR5LnZlbC54IDwgMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5sZWZ0IDwgbWF0Y2gueDIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLkxFRlQsIG1hdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlWSh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnkgPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmJvdHRvbSA+IG1hdGNoLnkxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5CT1RUT00sIG1hdGNoKTtcbiAgICB9XG4gIH1lbHNlIGlmKGVudGl0eS52ZWwueSA8IDApe1xuICAgIGlmKGVudGl0eS5ib3VuZHMudG9wIDwgbWF0Y2gueTIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlRPUCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ3JvdW5kID0gWyBoYW5kbGVYLCBoYW5kbGVZIF07IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCwgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG50eXBlIEVtaXR0ZXJDYWxsYmFjayA9IChlbnRpdHk6IEVudGl0eSwgbGV2ZWw6IExldmVsKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWl0dGVyIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGNvb2xkb3duOiBudW1iZXIgPSAyO1xuICBwdWJsaWMgaW50ZXJ2YWw6IG51bWJlciA9IDI7XG4gIHB1YmxpYyBlbWl0dGVyczogRW1pdHRlckNhbGxiYWNrW10gPSBbXTtcblxuICBlbWl0KGVudGl0eTogRW50aXR5LCBsZXZlbDogTGV2ZWwpe1xuICAgIGZvcihjb25zdCBlbWl0dGVyIG9mIHRoaXMuZW1pdHRlcnMpe1xuICAgICAgZW1pdHRlcihlbnRpdHksIGxldmVsKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQsIGxldmVsIH0gPSBnYW1lQ29udGV4dDtcbiAgICB0aGlzLmNvb2xkb3duIC09IGR0O1xuICAgIGlmKHRoaXMuY29vbGRvd24gPCAwKXtcbiAgICAgIHRoaXMuZW1pdChlbnRpdHksIGxldmVsKTtcbiAgICAgIHRoaXMuY29vbGRvd24gPSB0aGlzLmludGVydmFsO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IEp1bXAgZnJvbSBcIi4vSnVtcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHbyBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGRpcjogbnVtYmVyO1xuICBwcml2YXRlIGFjY2VsZXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGRlY2VsZXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGZyaWN0aW9uOiBudW1iZXI7XG4gIHB1YmxpYyBkaXN0YW5jZTogbnVtYmVyO1xuICBwdWJsaWMgaGVhZGluZzogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kaXIgPSAwO1xuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gNDAwO1xuICAgIHRoaXMuZGVjZWxlcmF0aW9uID0gMzAwO1xuICAgIHRoaXMuZnJpY3Rpb24gPSAxLzUwMDA7XG4gICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgdGhpcy5oZWFkaW5nID0gMTtcbiAgfVxuXG4gIHNldCBkcmFnKGZyaWN0aW9uOiBudW1iZXIpeyB0aGlzLmZyaWN0aW9uID0gZnJpY3Rpb247IH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgY29uc3QgYWJzWCA9IE1hdGguYWJzKGVudGl0eS52ZWwueCk7XG5cbiAgICBpZih0aGlzLmRpciAhPT0gMCl7XG4gICAgICBlbnRpdHkudmVsLnggKz0gdGhpcy5hY2NlbGVyYXRpb24gKiBkdCAqIHRoaXMuZGlyO1xuXG4gICAgICBjb25zdCBqdW1wID0gZW50aXR5LmdldFRyYWl0KCdqdW1wJyk7XG4gICAgICBpZihqdW1wKXtcbiAgICAgICAgaWYoanVtcCBpbnN0YW5jZW9mIEp1bXAgJiYgIWp1bXAuZmFsbGluZyl7XG4gICAgICAgICAgdGhpcy5oZWFkaW5nID0gdGhpcy5kaXI7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSB0aGlzLmRpcjtcbiAgICAgIH1cbiAgICB9ZWxzZSBpZihlbnRpdHkudmVsLnggIT09IDApe1xuICAgICAgY29uc3QgZGVjZWwgPSBNYXRoLm1pbihhYnNYLCB0aGlzLmRlY2VsZXJhdGlvbiAqIGR0KTtcbiAgICAgIGVudGl0eS52ZWwueCArPSBkZWNlbCAqIChlbnRpdHkudmVsLnggPiAwID8gLTEgOiAxKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuZGlzdGFuY2UgPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IGRyYWcgPSB0aGlzLmZyaWN0aW9uICogZW50aXR5LnZlbC54ICogYWJzWDtcbiAgICBlbnRpdHkudmVsLnggLT0gZHJhZztcbiAgICBcbiAgICB0aGlzLmRpc3RhbmNlICs9IGFic1ggKiBkdDtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmF2aXR5IGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGdyYXZpdHk6IG51bWJlciA9IDE1MDA7XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBlbnRpdHkudmVsLnkgKz0gdGhpcy5ncmF2aXR5ICogZHQ7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFNpZGVzLCBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmNvbnN0IFNQRUVEX0JPT1NUID0gMC4zO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKdW1wIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGR1cmF0aW9uOiBudW1iZXI7XG4gIHByaXZhdGUgdmVsb2NpdHk6IG51bWJlcjtcbiAgcHJpdmF0ZSBlbmdhZ2VUaW1lOiBudW1iZXI7XG4gIHByaXZhdGUgcmVhZHk6IG51bWJlcjtcblxuICBwcml2YXRlIGdyYWNlVGltZTogbnVtYmVyO1xuICBwcml2YXRlIGdyYWNlRHVyYXRpb246IG51bWJlcjtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZHVyYXRpb24gPSAwLjM7XG4gICAgdGhpcy52ZWxvY2l0eSA9IDIwMDtcbiAgICB0aGlzLmVuZ2FnZVRpbWUgPSAwO1xuICAgIHRoaXMucmVhZHkgPSAwO1xuXG4gICAgdGhpcy5ncmFjZVRpbWUgPSAwO1xuICAgIHRoaXMuZ3JhY2VEdXJhdGlvbiA9IDAuMTtcbiAgfVxuICBwdWJsaWMgZ2V0IGZhbGxpbmcoKSA6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFkeSA8IDA7IH1cbiAgc3RhcnQoKXtcbiAgICB0aGlzLmdyYWNlVGltZSA9IHRoaXMuZ3JhY2VEdXJhdGlvbjtcbiAgfVxuICBjYW5jZWwoKXtcbiAgICB0aGlzLmVuZ2FnZVRpbWUgPSAwO1xuICAgIHRoaXMuZ3JhY2VUaW1lID0gMDtcbiAgfVxuICBvYnN0cnVjdChlbnRpdHk6IEVudGl0eSwgc2lkZTogU2lkZXMpe1xuICAgIGlmKHNpZGUgPT09IFNpZGVzLkJPVFRPTSkgdGhpcy5yZWFkeSA9IDE7XG4gICAgaWYoc2lkZSA9PT0gU2lkZXMuVE9QKSB0aGlzLmNhbmNlbCgpO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcbiAgICBcbiAgICBpZih0aGlzLmdyYWNlVGltZSA+IDApe1xuICAgICAgaWYodGhpcy5yZWFkeSA+IDApe1xuICAgICAgICBlbnRpdHkuc291bmRzLmFkZCgnanVtcCcpO1xuICAgICAgICB0aGlzLmVuZ2FnZVRpbWUgPSB0aGlzLmR1cmF0aW9uO1xuICAgICAgICB0aGlzLmdyYWNlVGltZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ3JhY2VUaW1lIC09IGR0O1xuICAgIH1cblxuICAgIGlmKHRoaXMuZW5nYWdlVGltZSA+IDApe1xuICAgICAgZW50aXR5LnZlbC55ID0gLSh0aGlzLnZlbG9jaXR5ICsgTWF0aC5hYnMoZW50aXR5LnZlbC54KSAqIFNQRUVEX0JPT1NUKTtcbiAgICAgIHRoaXMuZW5nYWdlVGltZSAtPSBkdDtcbiAgICB9XG5cbiAgICB0aGlzLnJlYWR5LS07XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2lsbGFibGUgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBkZWFkOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyByZW1vdmVBZnRlcjogbnVtYmVyID0gMjtcbiAgcHJpdmF0ZSBkZWFkVGltZTogbnVtYmVyID0gMDtcblxuICBraWxsKCl7XG4gICAgdGhpcy5xdWV1ZSgoKSA9PiB0aGlzLmRlYWQgPSB0cnVlKTtcbiAgfVxuXG4gIHJldml2ZSgpe1xuICAgIHRoaXMuZGVhZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVhZFRpbWUgPSAwO1xuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0LCBsZXZlbCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBpZih0aGlzLmRlYWQpe1xuICAgICAgdGhpcy5kZWFkVGltZSArPSBkdDtcbiAgICAgIGlmKHRoaXMuZGVhZFRpbWUgPiB0aGlzLnJlbW92ZUFmdGVyKXtcbiAgICAgICAgdGhpcy5xdWV1ZSgoKSA9PiBsZXZlbC5lbnRpdGllcy5kZWxldGUoZW50aXR5KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBTaWRlcywgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQZW5kdWx1bVdhbGsgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBlbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcbiAgcHVibGljIHNwZWVkOiBudW1iZXIgPSAtMzA7XG4gIG9ic3RydWN0KGVudGl0eTogRW50aXR5LCBzaWRlOiBTaWRlcyk6IHZvaWQge1xuICAgIGlmKHNpZGUgPT09IFNpZGVzLkxFRlQgfHwgc2lkZSA9PT0gU2lkZXMuUklHSFQpXG4gICAgICB0aGlzLnNwZWVkICo9IC0xO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgaWYodGhpcy5lbmFibGVkKSBlbnRpdHkudmVsLnggPSB0aGlzLnNwZWVkO1xuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBoeXNpY3MgZXh0ZW5kcyBUcmFpdCB7XG4gIHByaXZhdGUgZ3Jhdml0eTogbnVtYmVyID0gMTUwMDtcbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGxldmVsLCBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBlbnRpdHkucG9zLnggKz0gZW50aXR5LnZlbC54ICogZHQ7XG4gICAgbGV2ZWwudGlsZUNvbGxpZGVyLmNoZWNrWChlbnRpdHksIGdhbWVDb250ZXh0KTtcblxuICAgIGVudGl0eS5wb3MueSArPSBlbnRpdHkudmVsLnkgKiBkdDtcbiAgICBsZXZlbC50aWxlQ29sbGlkZXIuY2hlY2tZKGVudGl0eSwgZ2FtZUNvbnRleHQpO1xuXG4gICAgZW50aXR5LnZlbC55ICs9IHRoaXMuZ3Jhdml0eSAqIGR0O1xuICB9XG59IiwiaW1wb3J0IHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGxpdmVzOiBudW1iZXIgPSAzO1xuICBwdWJsaWMgc2NvcmU6IG51bWJlciA9IDA7XG59IiwiaW1wb3J0IE1hcmlvIGZyb20gXCIuLi9lbnRpdGllcy9NYXJpb1wiO1xuaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi4vbWF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJDb250cm9sbGVyIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgcGxheWVyOiBNYXJpbyA9IG51bGw7XG4gIHB1YmxpYyBjaGVja3BvaW50OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyB0aW1lOiBudW1iZXIgPSAzMDA7XG4gIHB1YmxpYyBzY29yZTogbnVtYmVyID0gMDtcblxuICBzZXRQbGF5ZXIocGxheWVyOiBNYXJpbyl7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG5cbiAgICB0aGlzLnBsYXllci5zdG9tcGVyLmV2ZW50cy5saXN0ZW4oJ3N0b21wJywgKCkgPT4ge1xuICAgICAgdGhpcy5zY29yZSArPSAxMDA7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQsIGxldmVsIH0gPSBnYW1lQ29udGV4dDtcblxuICAgIGlmKHRoaXMucGxheWVyICYmICFsZXZlbC5lbnRpdGllcy5oYXModGhpcy5wbGF5ZXIpKXtcbiAgICAgIHRoaXMucGxheWVyLmtpbGxhYmxlLnJldml2ZSgpO1xuICAgICAgdGhpcy5wbGF5ZXIucG9zLnNldCh0aGlzLmNoZWNrcG9pbnQueCwgdGhpcy5jaGVja3BvaW50LnkpO1xuICAgICAgbGV2ZWwuZW50aXRpZXMuYWRkKHRoaXMucGxheWVyKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMudGltZSAtPSBkdCAqIDI7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBTaWRlcywgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBSZXNvbHZlZFRpbGUgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvbGlkIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgb2JzdHJ1Y3RzOiBib29sZWFuID0gdHJ1ZTtcbiAgb2JzdHJ1Y3QoZW50aXR5OiBFbnRpdHksIHNpZGU6IFNpZGVzLCBtYXRjaDogUmVzb2x2ZWRUaWxlKXtcbiAgICBpZighdGhpcy5vYnN0cnVjdHMpIHJldHVybjtcbiAgICBzd2l0Y2goc2lkZSl7XG4gICAgICBjYXNlIFNpZGVzLlJJR0hUOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCA9IG1hdGNoLngxIC0gZW50aXR5LnNpemUueDtcbiAgICAgICAgZW50aXR5LnZlbC54ID0gMDtcbiAgICAgIH0gYnJlYWs7XG4gICAgICBjYXNlIFNpZGVzLkxFRlQ6IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy5sZWZ0ID0gbWF0Y2gueDI7XG4gICAgICAgIGVudGl0eS52ZWwueCA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5CT1RUT006IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AgPSBtYXRjaC55MSAtIGVudGl0eS5zaXplLnk7XG4gICAgICAgIGVudGl0eS52ZWwueSA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5UT1A6IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AgPSBtYXRjaC55MjtcbiAgICAgICAgZW50aXR5LnZlbC55ID0gMDtcbiAgICAgIH0gYnJlYWs7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi9LaWxsYWJsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9tcGVyIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGJvdW5kU3BlZWQ6IG51bWJlciA9IDQwMDtcbiAgXG4gIHByaXZhdGUgYm91bmNlKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSl7XG4gICAgdXMuYm91bmRzLmJvdHRvbSA9IHRoZW0uYm91bmRzLnRvcDtcbiAgICB1cy52ZWwueSA9IC10aGlzLmJvdW5kU3BlZWRcbiAgfVxuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IGtpbGxhYmxlID0gdGhlbS5nZXRUcmFpdCgna2lsbGFibGUnKTtcbiAgICBpZigha2lsbGFibGUgfHwgIShraWxsYWJsZSBpbnN0YW5jZW9mIEtpbGxhYmxlKSB8fCBraWxsYWJsZS5kZWFkKSByZXR1cm47XG4gICAgXG4gICAgaWYodXMudmVsLnkgPiB0aGVtLnZlbC55KXtcbiAgICAgIHRoaXMucXVldWUoKCkgPT4gdGhpcy5ib3VuY2UodXMsIHRoZW0pKTtcbiAgICAgIHVzLnNvdW5kcy5hZGQoJ3N0b21wJyk7XG4gICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzdG9tcCcsIHVzLCB0aGVtKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVsb2NpdHkgZXh0ZW5kcyBUcmFpdCB7XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgZW50aXR5LnBvcy54ICs9IGVudGl0eS52ZWwueCAqIGR0O1xuICAgIGVudGl0eS5wb3MueSArPSBlbnRpdHkudmVsLnkgKiBkdDtcbiAgfVxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IFRpbWVyIGZyb20gJy4vVGltZXInO1xuaW1wb3J0IHsgc2V0dXBLZXlib2FyZCB9IGZyb20gJy4vaW5wdXQnO1xuaW1wb3J0IENhbWVyYSBmcm9tICcuL0NhbWVyYSc7XG5pbXBvcnQgeyBjcmVhdGVMZXZlbExvYWRlciB9IGZyb20gJy4vbG9hZGVycy9sZXZlbCc7XG5pbXBvcnQgeyBsb2FkRW50aXRpZXMgfSBmcm9tICcuL2VudGl0aWVzJztcbmltcG9ydCBQbGF5ZXJDb250cm9sbGVyIGZyb20gJy4vdHJhaXRzL1BsYXllckNvbnRyb2xsZXInO1xuaW1wb3J0IHsgY3JlYXRlQ29sbGlzaW9uTGF5ZXIgfSBmcm9tICcuL2xheWVycy9jb2xsaXNpb24nO1xuaW1wb3J0IHsgbG9hZEZvbnQgfSBmcm9tICcuL2xvYWRlcnMvZm9udCc7XG5pbXBvcnQgeyBjcmVhdGVEYXNoYm9hcmRMYXllciB9IGZyb20gJy4vbGF5ZXJzL2Rhc2hib2FyZCc7XG5pbXBvcnQgeyBjcmVhdGVQbGF5ZXJFbnYgfSBmcm9tICcuL3BsYXllcic7XG5cbmFzeW5jIGZ1bmN0aW9uIG1haW4oY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCl7XG4gIGNvbnN0IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgY29uc3QgYXVkaW9Db250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuXG4gIGNvbnN0IFtlbnRpdHlGYWN0b3J5LCBmb250XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBsb2FkRW50aXRpZXMoYXVkaW9Db250ZXh0KSxcbiAgICBsb2FkRm9udCgpLFxuICBdKTtcblxuICBjb25zdCBsb2FkTGV2ZWwgPSBhd2FpdCBjcmVhdGVMZXZlbExvYWRlcihlbnRpdHlGYWN0b3J5KTtcbiAgY29uc3QgbGV2ZWwgPSBhd2FpdCBsb2FkTGV2ZWwoJzEtMScpO1xuICBcbiAgY29uc3QgY2FtZXJhID0gbmV3IENhbWVyYSgpO1xuICBcbiAgY29uc3QgbWFyaW8gPSBlbnRpdHlGYWN0b3J5Lm1hcmlvKCk7XG5cbiAgY29uc3QgcGxheWVyRW52ID0gY3JlYXRlUGxheWVyRW52KG1hcmlvKTtcbiAgbGV2ZWwuZW50aXRpZXMuYWRkKHBsYXllckVudik7XG5cbiAgbGV2ZWwuY29tcC5hZGQoY3JlYXRlQ29sbGlzaW9uTGF5ZXIobGV2ZWwpKTtcbiAgbGV2ZWwuY29tcC5hZGQoY3JlYXRlRGFzaGJvYXJkTGF5ZXIoZm9udCwgcGxheWVyRW52LmdldFRyYWl0KCdjb250cm9sbGVyJykgYXMgUGxheWVyQ29udHJvbGxlcikpO1xuXG4gIGNvbnN0IGlucHV0ID0gc2V0dXBLZXlib2FyZChtYXJpbyk7XG4gIGlucHV0Lmxpc3RlblRvKHdpbmRvdyk7XG5cbiAgY29uc3QgdGltZXIgPSBuZXcgVGltZXIoKTtcblxuICB0aW1lci51cGRhdGUgPSAoZHQpID0+IHtcbiAgICBsZXZlbC51cGRhdGUoZHQsIGF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeSk7XG5cbiAgICBjYW1lcmEucG9zLnggPSBNYXRoLm1heCgwLCBtYXJpby5wb3MueCAtIDEwMCk7XG5cbiAgICBsZXZlbC5jb21wLmRyYXcoY3R4LCBjYW1lcmEpO1xuICB9XG5cbiAgdGltZXIuc3RhcnQoKTtcbiAgbGV2ZWwubXVzaWMucGxheSgnbWFpbicpO1xufVxuXG5jb25zdCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzI3NjcmVlbicpO1xuXG5jb25zdCBzdGFydCA9ICgpID0+IHtcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnQpO1xuICBtYWluKGNhbnZhcyk7XG59XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydCk7XG4iXSwibmFtZXMiOlsiQXVkaW9Cb2FyZCIsImJ1ZmZlcnMiLCJNYXAiLCJhZGQiLCJuYW1lIiwiYnVmZmVyIiwidGhpcyIsInNldCIsInBsYXkiLCJjb250ZXh0IiwiZ2V0Iiwic291cmNlIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwic3RhcnQiLCJCb3VuZGluZ0JveCIsImNvbnN0cnVjdG9yIiwicG9zIiwic2l6ZSIsIm9mZnNldCIsIm92ZXJsYXBzIiwiYm94IiwiYm90dG9tIiwidG9wIiwibGVmdCIsInJpZ2h0IiwieSIsIngiLCJDYW1lcmEiLCJWZWN0b3IiLCJDb21wb3NpdG9yIiwibGF5ZXJzIiwibGF5ZXIiLCJwdXNoIiwiZHJhdyIsImN0eCIsImNhbWVyYSIsImZvckVhY2giLCJTaWRlcyIsIlRyYWl0IiwidGFza3MiLCJldmVudHMiLCJjb2xsaWRlcyIsInVzIiwidGhlbSIsImZpbmFsaXplIiwidGFzayIsImxlbmd0aCIsIm9ic3RydWN0IiwiZW50aXR5Iiwic2lkZSIsIm1hdGNoIiwicXVldWUiLCJ1cGRhdGUiLCJnYW1lQ29udGV4dCIsIkVudGl0eSIsImF1ZGlvQm9hcmQiLCJzb3VuZHMiLCJTZXQiLCJ2ZWwiLCJ0cmFpdHMiLCJsaWZldGltZSIsImJvdW5kcyIsImFkZFRyYWl0IiwidHJhaXQiLCJjYW5kaWRhdGUiLCJnZXRUcmFpdCIsInBsYXlTb3VuZHMiLCJhdWRpb0NvbnRleHQiLCJjbGVhciIsImR0IiwiRW50aXR5Q29sbGlkZXIiLCJlbnRpdGllcyIsImNoZWNrIiwic3ViamVjdCIsIkV2ZW50RW1pdHRlciIsImxpc3RlbmVycyIsImxpc3RlbiIsImNhbGxiYWNrIiwiY2FsbGJhY2tzIiwiZW1pdCIsImFyZ3MiLCJLZXlTdGF0ZSIsIktleWJvYXJkU3RhdGUiLCJrZXlTdGF0ZXMiLCJrZXlNYXAiLCJhZGRNYXBwaW5nIiwiY29kZSIsImhhbmRsZUV2ZW50IiwiZXZlbnQiLCJ0eXBlIiwiaGFzIiwicHJldmVudERlZmF1bHQiLCJrZXlTdGF0ZSIsIlBSRVNTRUQiLCJSRUxFQVNFRCIsImxpc3RlblRvIiwid2luZG93IiwiZXZlbnROYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkxldmVsIiwibXVzaWMiLCJjb21wIiwidGlsZUNvbGxpZGVyIiwiZW50aXR5Q29sbGlkZXIiLCJ0aW1lIiwiZW50aXR5RmFjdG9yeSIsImxldmVsIiwiTXVzaWNDb250cm9sbGVyIiwibXVzaWNQbGF5ZXIiLCJzZXRQbGF5ZXIiLCJwbGF5ZXIiLCJNdXNpY1BsYXllciIsInRyYWNrcyIsImFkZFRyYWNrIiwidHJhY2siLCJhdWRpbyIsIkF1ZGlvIiwibG9vcCIsIlNwcml0ZVNoZWV0IiwiaW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsImZyYW1lcyIsImFuaW1hdGlvbnMiLCJnZXRBbmltYXRpb24iLCJkZWZpbmVBbmltIiwiYW5pbWF0aW9uIiwiZGVmaW5lIiwibWFwIiwiZmxpcCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJjYW52YXMiLCJzZXRBdHRyaWJ1dGUiLCJzY2FsZSIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsImRlZmluZVRpbGUiLCJmcmFtZSIsImNvbnNvbGUiLCJ3YXJuIiwiZHJhd0FuaW0iLCJkaXN0YW5jZSIsImRyYXdUaWxlIiwiaGFuZGxlcnMiLCJicmljayIsImdyb3VuZCIsIlRpbGVSZXNvbHZlciIsIm1hdHJpeCIsInRpbGVTaXplIiwidG9JbmRleCIsIk1hdGgiLCJmbG9vciIsInRvSW5kZXhSYW5nZSIsInBvczEiLCJwb3MyIiwicE1heCIsImNlaWwiLCJyYW5nZSIsImdldEJ5SW5kZXgiLCJ0aWxlIiwieDEiLCJ4MiIsInkxIiwieTIiLCJpbmRleFgiLCJpbmRleFkiLCJzZWFyY2hCeVBvc2l0aW9uIiwic2VhcmNoQnlSYW5nZSIsIm1hdGNoZXMiLCJUaWxlQ29sbGlkZXIiLCJyZXNvbHZlcnMiLCJhZGRHcmlkIiwidGlsZU1hdHJpeCIsImNoZWNrWCIsInJlc29sdmVyIiwiaGFuZGxlIiwiY2hlY2tZIiwiaW5kZXgiLCJ0aWxlQ29sbGlzaW9uQ29udGV4dCIsImhhbmRsZXIiLCJUaW1lciIsImRlbHRhVGltZSIsInJ1bm5pbmciLCJhY2N1bXVsYXRlZFRpbWUiLCJsYXN0VGltZSIsInVwZGF0ZVByb3h5IiwiZW5xdWV1ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNyZWF0ZUFuaW0iLCJmcmFtZUxlbiIsImxvYWRFbnRpdGllcyIsImFkZEFzIiwiZmFjdG9yeSIsIlByb21pc2UiLCJhbGwiLCJsb2FkTWFyaW8iLCJ0aGVuIiwibG9hZEdvb21iYSIsImxvYWRLb29wYSIsImxvYWRCdWxsZXQiLCJsb2FkQ2Fubm9uIiwiQmVoYXZpb3IiLCJncmF2aXR5Iiwic3RvbXBlciIsIkJ1bGxldCIsImtpbGxhYmxlIiwiZGVhZCIsImtpbGwiLCJzdXBlciIsInZlbG9jaXR5IiwiYmVoYXZpb3IiLCJsb2FkU3ByaXRlU2hlZXQiLCJjcmVhdGVCdWxsZXRGYWN0b3J5Iiwic3ByaXRlcyIsImRyYXdCdWxsZXQiLCJidWxsZXQiLCJDYW5ub24iLCJlbWl0dGVyIiwibG9hZEF1ZGlvQm9hcmQiLCJlbWl0QnVsbGV0IiwiZGlyIiwiZmluZFBsYXllcnMiLCJhYnMiLCJjb3B5Iiwic2lnbiIsImNhbm5vbiIsImludGVydmFsIiwiZW1pdHRlcnMiLCJjcmVhdGVDYW5ub25GYWN0b3J5IiwiR29vbWJhIiwicGVuZHVsdW1Nb3ZlIiwic3BlZWQiLCJwaHlzaWNzIiwic29saWQiLCJjcmVhdGVHb29tYmFGYWN0b3J5Iiwid2Fsa0FuaW0iLCJkcmF3R29vbWJhIiwiZ29vbWJhIiwiS29vcGFTdGF0ZSIsInN0YXRlIiwiV0FMS0lORyIsImhpZGVUaW1lIiwiaGlkZUR1cmF0aW9uIiwicGFuaWNTcGVlZCIsIndhbGtTcGVlZCIsIktvb3BhIiwiaGFuZGxlU3RvbXAiLCJoYW5kbGVOdWRnZSIsIkhJRElORyIsInBhbmljIiwiUEFOSUMiLCJ0cmF2ZWxEaXIiLCJpbXBhY3REaXIiLCJoaWRlIiwib2JzdHJ1Y3RzIiwiZW5hYmxlZCIsInVuaGlkZSIsImNyZWF0ZUtvb3BhRmFjdG9yeSIsIndha2VBbmltIiwiZHJhd0tvb3BhIiwia29vcGEiLCJyb3V0ZUFuaW0iLCJNYXJpbyIsImdvIiwianVtcCIsImRyYWciLCJ0dXJibyIsInJ1bkFuaW0iLCJyb3V0ZUZyYW1lIiwibWFyaW8iLCJmYWxsaW5nIiwiZHJhd01hcmlvIiwiaGVhZGluZyIsInJlbW92ZUFmdGVyIiwiY3JlYXRlTWFyaW9GYWN0b3J5Iiwic2V0dXBLZXlib2FyZCIsImlucHV0IiwiY2FuY2VsIiwiY3JlYXRlQmFja2dyb3VuZExheWVyIiwidGlsZXMiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJzY3JlZW4iLCJkcmF3V2lkdGgiLCJkcmF3RnJvbSIsImRyYXdUbyIsImNsZWFyUmVjdCIsImNvbCIsImdyaWQiLCJyZWRyYXciLCJjcmVhdGVUaWxlQ2FuZGlkYXRlTGF5ZXIiLCJ0aWxlUmVzb2x2ZXIiLCJyZXNvbHZlZFRpbGVzIiwiZ2V0QnlJbmRleE9yaWdpbmFsIiwiY2FsbCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwicmVjdCIsInN0cm9rZSIsImNsb3NlUGF0aCIsImNyZWF0ZUNvbGxpc2lvbkxheWVyIiwiZHJhd1RpbGVDYW5kaWRhdGVzIiwiZHJhd0JvdW5kaW5nQm94ZXMiLCJjcmVhdGVEYXNoYm9hcmRMYXllciIsImZvbnQiLCJwbGF5ZXJDb250cm9sbGVyIiwiTElORTEiLCJMSU5FMiIsIm1heCIsInNjb3JlIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInRvRml4ZWQiLCJjcmVhdGVTcHJpdGVMYXllciIsInNwcml0ZUN0eCIsImxvYWRJbWFnZSIsInBhdGgiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwic3JjIiwibG9hZEpTT04iLCJmZXRjaCIsInJlcyIsImpzb24iLCJsb2FkQXVkaW8iLCJjcmVhdGVBdWRpb0xvYWRlciIsImF1ZGlvU2hlZXQiLCJqb2JzIiwiZngiLCJ1cmwiLCJyZXNwb25zZSIsImFycmF5QnVmZmVyIiwiZGVjb2RlQXVkaW9EYXRhIiwiTEVUVEVSUyIsIkZvbnRTaGVldCIsInNoZWV0IiwidGV4dCIsIm9mZnNldFgiLCJvZmZzZXRZIiwibG9hZEZvbnQiLCJpIiwic2V0dXBCYWNrZ3JvdW5kcyIsImxldmVsU3BlYyIsInBhdHRlcm5zIiwiTWF0cml4Iiwid2Fsa1RpbGVzIiwiZXhwYW5kUmFuZ2VzIiwicmFuZ2VzIiwiZGVyaXZlZFgiLCJkZXJpdmVkWSIsInBhdHRlcm4iLCJleHBhbmRUaWxlcyIsImNyZWF0ZUdyaWQiLCJiYWNrZ3JvdW5kTGF5ZXIiLCJjcmVhdGVMZXZlbExvYWRlciIsInNwcml0ZVNoZWV0IiwibG9hZE11c2ljU2hlZXQiLCJtdXNpY1NoZWV0IiwiY3JlYXRlRW50aXR5Iiwic3ByaXRlTGF5ZXIiLCJzZXR1cEVudGl0aWVzIiwiZXhwYW5kU3BhbiIsInhTdGFydCIsInhMZW4iLCJ5U3RhcnQiLCJ5TGVuIiwieEVuZCIsInlFbmQiLCJleHBhbmRSYW5nZSIsIk9iamVjdCIsImVudHJpZXMiLCJzaGVldFNwZWMiLCJpbWFnZVVSTCIsInRpbGVXIiwidGlsZUgiLCJ0aWxlU3BlYyIsImRlbGV0ZSIsInZhbHVlIiwiY29sdW1ucyIsImNyZWF0ZVBsYXllckVudiIsImVudiIsImNvbnRyb2xsZXIiLCJjaGVja3BvaW50IiwiRW1pdHRlciIsImNvb2xkb3duIiwiR28iLCJhY2NlbGVyYXRpb24iLCJkZWNlbGVyYXRpb24iLCJmcmljdGlvbiIsImFic1giLCJkZWNlbCIsIm1pbiIsIkdyYXZpdHkiLCJKdW1wIiwiZHVyYXRpb24iLCJlbmdhZ2VUaW1lIiwicmVhZHkiLCJncmFjZVRpbWUiLCJncmFjZUR1cmF0aW9uIiwiS2lsbGFibGUiLCJkZWFkVGltZSIsInJldml2ZSIsIlBlbmR1bHVtV2FsayIsIlBoeXNpY3MiLCJQbGF5ZXIiLCJsaXZlcyIsIlBsYXllckNvbnRyb2xsZXIiLCJTb2xpZCIsIlN0b21wZXIiLCJib3VuZFNwZWVkIiwiYm91bmNlIiwiVmVsb2NpdHkiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQXVkaW9Db250ZXh0IiwibG9hZExldmVsIiwicGxheWVyRW52IiwidGltZXIiLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==