/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/AudioBoard.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.buffers=new Map}add(t,e){this.buffers.set(t,e)}play(t,e){const s=this.buffers.get(t);if(!s)return;const i=e.createBufferSource();i.connect(e.destination),i.buffer=s,i.start(0)}}},"./src/BoundingBox.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.pos=t,this.size=e,this.offset=s}overlaps(t){return this.bottom>t.top&&this.top<t.bottom&&this.left<t.right&&this.right>t.left}get bottom(){return this.pos.y+this.size.y+this.offset.y}get top(){return this.pos.y+this.offset.y}get left(){return this.pos.x+this.offset.x}get right(){return this.pos.x+this.size.x+this.offset.x}set bottom(t){this.pos.y=t-(this.size.y+this.offset.y)}set top(t){this.pos.y=t-this.offset.y}set left(t){this.pos.x=t-this.offset.x}set right(t){this.pos.x=t-(this.size.x+this.offset.x)}}},"./src/Camera.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/math.ts");class r{constructor(){this.pos=new i.Vector(0,0),this.size=new i.Vector(256,224)}}},"./src/Compositor.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.layers=[]}add(t){this.layers.push(t)}draw(t,e){this.layers.forEach((s=>s(t,e)))}}},"./src/Entity.ts":(t,e,s)=>{s.r(e),s.d(e,{Sides:()=>i,Trait:()=>o,default:()=>c});var i,r=s("./src/BoundingBox.ts"),n=s("./src/EventBuffer.ts"),a=s("./src/math.ts");!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(i||(i={}));class o{constructor(){this.listeners=[]}collides(t,e){}finalize(t){this.listeners=this.listeners.filter((e=>(t.events.process(e.name,e.callback),--e.count)))}listen(t,e,s=1/0){this.listeners.push({name:t,callback:e,count:s})}obstruct(t,e,s){}queue(t){this.listen(o.TASK,t,1)}update(t,e){}}o.TASK=Symbol("task");class c{constructor(t){this.sounds=new Set,this.events=new n.default,this.pos=new a.Vector,this.size=new a.Vector,this.offset=new a.Vector,this.vel=new a.Vector,this.lifetime=0,this.traits=new Map,this.draw=(t,e)=>{},this.audioBoard=t,this.bounds=new r.default(this.pos,this.size,this.offset)}addTrait(t,e){this.traits.set(t,e)}collides(t){this.traits.forEach((e=>{e.collides(this,t)}))}finalize(){this.events.emit(o.TASK),this.traits.forEach((t=>{t.finalize(this)})),this.events.clear()}getTrait(t){return this.traits.get(t)}obstruct(t,e){this.traits.forEach((s=>{s.obstruct(this,t,e)}))}playSounds(t,e){this.sounds.forEach((s=>{t.play(s,e)})),this.sounds.clear()}update(t){this.traits.forEach((e=>{e.update(this,t)})),this.playSounds(this.audioBoard,t.audioContext),this.lifetime+=t.dt}}},"./src/EntityCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t){this.entities=t}check(t){this.entities.forEach((e=>{t!==e&&t.bounds.overlaps(e.bounds)&&t.collides(e)}))}}},"./src/EventBuffer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.events=[]}clear(){this.events.length=0}emit(t,...e){const s={name:t,args:e};this.events.push(s)}process(t,e){this.events.forEach((s=>{s.name===t&&e(...s.args)}))}}},"./src/KeyboardState.ts":(t,e,s)=>{var i;s.r(e),s.d(e,{KeyState:()=>i,default:()=>r}),function(t){t[t.RELEASED=0]="RELEASED",t[t.PRESSED=1]="PRESSED"}(i||(i={}));class r{constructor(){this.keyStates=new Map,this.keyMap=new Map}addMapping(t,e){this.keyMap.set(t,e)}handleEvent(t){const{code:e,type:s}=t;if(!this.keyMap.has(e))return;t.preventDefault();const r="keydown"===s?i.PRESSED:i.RELEASED;this.keyStates.get(e)!==r&&(this.keyStates.set(e,r),this.keyMap.get(e)(r))}listenTo(t){["keydown","keyup"].forEach((e=>{t.addEventListener(e,(t=>{this.handleEvent(t)}))}))}}},"./src/Level.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o});var i=s("./src/Compositor.ts"),r=s("./src/EntityCollider.ts"),n=s("./src/MusicController.ts"),a=s("./src/TileCollider.ts");class o{constructor(){this.music=new n.default,this.comp=new i.default,this.entities=new Set,this.tileCollider=new a.default,this.entityCollider=new r.default(this.entities),this.time=0}update(t,e,s){this.entities.forEach((i=>{i.update({dt:t,level:this,audioContext:e,entityFactory:s})})),this.entities.forEach((t=>{this.entityCollider.check(t)})),this.entities.forEach((t=>{t.finalize()})),this.time+=t}}},"./src/MusicController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.musicPlayer=null}play(t){this.musicPlayer.play(t)}setPlayer(t){this.musicPlayer=t}}},"./src/MusicPlayer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.tracks=new Map}addTrack(t,e){const s=new Audio(e);s.loop=!0,this.tracks.set(t,s)}play(t){const e=this.tracks.get(t);e&&e.play()}}},"./src/SpriteSheet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.image=t,this.width=e,this.height=s,this.frames=new Map,this.animations=new Map}getAnimation(t){return this.animations.get(t)}defineAnim(t,e){this.animations.set(t,e)}define(t,e,s,i,r){const n=[!1,!0].map((t=>{const n=document.createElement("canvas").getContext("2d");return n.canvas.setAttribute("width",`${this.width}px`),n.canvas.setAttribute("height",`${this.height}px`),t&&(n.scale(-1,1),n.translate(-i,0)),n.drawImage(this.image,e,s,i,r,0,0,i,r),n.canvas}));this.frames.set(t,n)}defineTile(t,e,s){this.define(t,e*this.width,s*this.height,this.width,this.height)}draw(t,e,s,i,r=!1){const n=this.frames.get(t);n||console.warn(`Frame ${t} is not defined!`),e.drawImage(n[r?1:0],s,i)}drawAnim(t,e,s,i,r){const n=this.animations.get(t);if(!n)return this.drawTile(t,e,s,i);this.drawTile(n(r),e,s,i)}drawTile(t,e,s,i,r=!1){this.draw(t,e,s*this.width,i*this.height,r)}}},"./src/TileCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{TileResolver:()=>a,default:()=>o});var i=s("./src/tiles/brick.ts"),r=s("./src/tiles/ground.ts");const n={brick:i.brick,ground:r.ground};class a{constructor(t,e=16){this.matrix=t,this.tileSize=e}toIndex(t){return Math.floor(t/this.tileSize)}toIndexRange(t,e){const s=Math.ceil(e/this.tileSize)*this.tileSize,i=[];let r=t;do{i.push(this.toIndex(r)),r+=this.tileSize}while(r<s);return i}getByIndex(t,e){const s=this.matrix.get(t,e);return s?{tile:s,x1:t*this.tileSize,x2:(t+1)*this.tileSize,y1:e*this.tileSize,y2:(e+1)*this.tileSize,indexX:t,indexY:e}:null}searchByPosition(t,e){return this.getByIndex(this.toIndex(t),this.toIndex(e))}searchByRange(t,e,s,i){const r=[];return this.toIndexRange(t,e).forEach((t=>{this.toIndexRange(s,i).forEach((e=>{const s=this.getByIndex(t,e);s&&r.push(s)}))})),r}}class o{constructor(){this.resolvers=[]}addGrid(t){this.resolvers.push(new a(t))}checkX(t,e){if(0===t.vel.x)return;let s=t.bounds.left+(t.vel.x>0?t.size.x:0);for(const i of this.resolvers){i.searchByRange(s,s,t.bounds.top,t.bounds.bottom).forEach((s=>{this.handle(0,{entity:t,match:s,resolver:i,gameContext:e})}))}}checkY(t,e){if(0===t.vel.y)return;let s=t.bounds.top+(t.vel.y>0?t.size.y:0);for(const i of this.resolvers){i.searchByRange(t.bounds.left,t.bounds.right,s,s).forEach((s=>{this.handle(1,{entity:t,match:s,resolver:i,gameContext:e})}))}}handle(t,e){const s=n[e.match.tile.type];s&&s[t]&&s[t](e)}}},"./src/Timer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t=1/60){this.running=!1;let e=0,s=0;this.updateProxy=(i=0)=>{for(e+=(i-s)/1e3,e>1&&(e=1);e>t;)this.update(t),e-=t;s=i,this.enqueue()}}enqueue(){requestAnimationFrame(this.updateProxy)}start(){this.running||(this.running=!0,this.enqueue())}}},"./src/anim.ts":(t,e,s)=>{function i(t,e){return function(s){return t[Math.floor(s/e)%t.length]}}s.r(e),s.d(e,{createAnim:()=>i})},"./src/entities.ts":(t,e,s)=>{s.r(e),s.d(e,{loadEntities:()=>c});var i=s("./src/entities/Mario.ts"),r=s("./src/entities/Goomba.ts"),n=s("./src/entities/Koopa.ts"),a=s("./src/entities/Bullet.ts"),o=s("./src/entities/Cannon.ts");function c(t){const e={};function s(t){return s=>e[t]=s}return Promise.all([(0,i.loadMario)(t).then(s("mario")),(0,r.loadGoomba)(t).then(s("goomba")),(0,n.loadKoopa)(t).then(s("koopa")),(0,a.loadBullet)(t).then(s("bullet")),(0,o.loadCannon)(t,e).then(s("cannon"))]).then((()=>e))}},"./src/entities/Bullet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>h,loadBullet:()=>u});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Gravity.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/Stomper.ts"),c=s("./src/traits/Velocity.ts"),l=s("./src/entities/Mario.ts");class d extends i.Trait{constructor(){super(...arguments),this.gravity=new n.default}collides(t,e){const s=e.getTrait("stomper");t instanceof h&&!t.killable.dead&&s instanceof o.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.vel.set(100,-200)):e instanceof l.default&&e.killable.kill())}update(t,e){t instanceof h&&t.killable.dead&&this.gravity.update(t,e)}}class h extends i.default{constructor(){super(),this.addTrait("velocity",this.velocity=new c.default),this.addTrait("bullet",this.behavior=new d),this.addTrait("killable",this.killable=new a.default)}}function u(t){return(0,r.loadSpriteSheet)("bullet").then(f)}function f(t){function e(e){t.draw("bullet",e,0,0,this.vel.x<0)}return function(){const t=new h;return t.size.set(16,16),t.draw=e,t}}},"./src/entities/Cannon.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o,loadCannon:()=>c});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/player.ts"),a=s("./src/traits/Emitter.ts");class o extends i.default{constructor(t){super(t),this.addTrait("emitter",this.emitter=new a.default),this.size.set(16,14)}}function c(t,e){return(0,r.loadAudioBoard)("cannon",t).then((t=>function(t,e){function s(t,s){if(!(t instanceof o))return;let i;for(const e of(0,n.findPlayers)(s))if(i=e.pos.x-t.pos.x,Math.abs(e.pos.x-t.pos.x)<=30)return;const r=e.bullet();r.pos.copy(t.pos),r.vel.x=80*Math.sign(i),t.sounds.add("shoot"),s.entities.add(r)}return function(){const e=new o(t);return e.emitter.interval=4,e.emitter.emitters.push(s),e}}(t,e)))}},"./src/entities/Goomba.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>u,loadGoomba:()=>f});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Killable.ts"),a=s("./src/traits/PendulumMove.ts"),o=s("./src/traits/Physics.ts"),c=s("./src/traits/Solid.ts"),l=s("./src/traits/Stomper.ts"),d=s("./src/entities/Mario.ts");class h extends i.Trait{collides(t,e){const s=e.getTrait("stomper");t instanceof u&&!t.killable.dead&&s instanceof l.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.pendulumMove.speed=0):e instanceof d.default&&e.killable.kill())}}class u extends i.default{constructor(){super(),this.addTrait("physics",this.physics=new o.default),this.addTrait("solid",this.solid=new c.default),this.addTrait("pendulumMove",this.pendulumMove=new a.default),this.addTrait("goomba",this.behavior=new h),this.addTrait("killable",this.killable=new n.default)}}function f(t){return(0,r.loadSpriteSheet)("goomba").then(p)}function p(t){const e=t.getAnimation("walk");function s(s){var i;t.draw((i=this).killable.dead?"flat":e(i.lifetime),s,0,0)}return function(){const t=new u;return t.size.set(16,16),t.draw=s,t}}},"./src/entities/Koopa.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadKoopa:()=>p});var i,r=s("./src/Entity.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/PendulumMove.ts"),c=s("./src/traits/Physics.ts"),l=s("./src/traits/Solid.ts"),d=s("./src/traits/Stomper.ts"),h=s("./src/entities/Mario.ts");!function(t){t[t.WALKING=0]="WALKING",t[t.HIDING=1]="HIDING",t[t.PANIC=2]="PANIC"}(i||(i={}));class u extends r.Trait{constructor(){super(...arguments),this.state=i.WALKING,this.hideTime=0,this.hideDuration=5,this.panicSpeed=300,this.walkSpeed=null}collides(t,e){const s=e.getTrait("stomper");t instanceof f&&!t.killable.dead&&s instanceof d.default&&(e.vel.y>t.vel.y?this.handleStomp(t,e):e instanceof h.default&&this.handleNudge(t,e))}handleNudge(t,e){switch(this.state){case i.WALKING:e.killable.kill();break;case i.HIDING:this.panic(t,e);break;case i.PANIC:{const s=Math.sign(t.vel.x),i=Math.sign(t.pos.x-e.pos.x);0!==s&&s!==i&&e.killable.kill()}}}handleStomp(t,e){switch(this.state){case i.WALKING:this.hide(t);break;case i.HIDING:t.killable.kill(),t.vel.set(100,-200),t.solid.obstructs=!1;break;case i.PANIC:this.hide(t)}}hide(t){t.vel.x=0,t.pendulumMove.enabled=!1,this.walkSpeed||(this.walkSpeed=t.pendulumMove.speed),this.state=i.HIDING,this.hideTime=0}panic(t,e){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.panicSpeed*Math.sign(e.vel.x),this.state=i.PANIC}unhide(t){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.walkSpeed,this.state=i.WALKING}update(t,e){const{dt:s}=e;t instanceof f&&this.state===i.HIDING&&(this.hideTime+=s,this.hideTime>this.hideDuration&&this.unhide(t))}}class f extends r.default{constructor(){super(),this.addTrait("physics",this.physics=new c.default),this.addTrait("solid",this.solid=new l.default),this.addTrait("pendulumMove",this.pendulumMove=new o.default),this.addTrait("goomba",this.behavior=new u),this.addTrait("killable",this.killable=new a.default)}}function p(t){return(0,n.loadSpriteSheet)("koopa").then(y)}function y(t){const e=t.getAnimation("walk"),s=t.getAnimation("wake");function r(r){t.draw(function(t){switch(t.behavior.state){case i.HIDING:if(t.behavior.hideTime>3)return s(t.lifetime);case i.PANIC:return"hiding";default:return e(t.lifetime)}}(this),r,0,0,this.vel.x<0)}return function(){const t=new f;return t.size.set(16,16),t.offset.y=8,t.draw=r,t}}},"./src/entities/Mario.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadMario:()=>p});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Go.ts"),o=s("./src/traits/Jump.ts"),c=s("./src/traits/Killable.ts"),l=s("./src/traits/Physics.ts"),d=s("./src/traits/Player.ts"),h=s("./src/traits/Solid.ts"),u=s("./src/traits/Stomper.ts");class f extends i.default{constructor(t){super(t),this.size.set(14,16),this.addTrait("player",this.player=new d.default),this.addTrait("physics",this.physics=new l.default),this.addTrait("solid",this.solid=new h.default),this.addTrait("go",this.go=new a.default),this.addTrait("jump",this.jump=new o.default),this.addTrait("stomper",this.stomper=new u.default),this.addTrait("killable",this.killable=new c.default),this.go.drag=.001}turbo(t){this.go.drag=t?2e-4:.001}}function p(t){return Promise.all([(0,n.loadSpriteSheet)("mario"),(0,r.loadAudioBoard)("mario",t)]).then((([t,e])=>function(t,e){const s=t.getAnimation("run");function i(t){return t.jump.falling?"jump":t.go.distance>0?t.vel.x>0&&t.go.dir<0||t.vel.x<0&&t.go.dir>0?"break":s(t.go.distance):"idle"}function r(e){t.draw(i(this),e,0,0,this.go.heading<0)}return function(){const t=new f(e);return t.draw=r,t.killable.removeAfter=0,t}}(t,e)))}},"./src/input.ts":(t,e,s)=>{s.r(e),s.d(e,{setupKeyboard:()=>r});var i=s("./src/KeyboardState.ts");function r(t){const e=new i.default;return e.addMapping("KeyP",(e=>{e?t.jump.start():t.jump.cancel()})),e.addMapping("KeyO",(e=>{t.turbo(1===e)})),e.addMapping("KeyA",(e=>{t.go.dir+=e?-1:1})),e.addMapping("KeyD",(e=>{t.go.dir+=e?1:-1})),e}},"./src/layers/background.ts":(t,e,s)=>{s.r(e),s.d(e,{createBackgroundLayer:()=>r});var i=s("./src/TileCollider.ts");function r(t,e,s){const r=new i.TileResolver(e),n=document.createElement("canvas").getContext("2d");return n.imageSmoothingEnabled=!1,n.canvas.width=272,n.canvas.height=240,function(i,a){const o=r.toIndex(a.size.x),c=r.toIndex(a.pos.x);!function(i,r){n.clearRect(0,0,n.canvas.width,n.canvas.height);for(let a=i;a<=r;a++){const r=e.grid[a];r&&r.forEach(((e,r)=>{s.drawAnim(e.name,n,a-i,r,t.time)}))}}(c,c+o),i.drawImage(n.canvas,-a.pos.x%16,-a.pos.y)}}},"./src/layers/collision.ts":(t,e,s)=>{function i(t){const e=[],s=t.tileSize,i=t.getByIndex;return t.getByIndex=function(s,r){return e.push({x:s,y:r}),i.call(t,s,r)},function(t,i){t.strokeStyle="blue",e.forEach((({x:e,y:r})=>{t.beginPath(),t.rect(e*s-i.pos.x,r*s-i.pos.y,s,s),t.stroke(),t.closePath()})),e.length=0}}function r(t){const e=t.tileCollider.resolvers.map(i),s=(r=t.entities,function(t,e){t.strokeStyle="red",r.forEach((s=>{t.beginPath(),t.rect(s.bounds.left-e.pos.x,s.bounds.top-e.pos.y,s.size.x,s.size.y),t.stroke(),t.closePath()}))});var r;return function(t,i){e.forEach((e=>e(t,i))),s(t,i)}}s.r(e),s.d(e,{createCollisionLayer:()=>r})},"./src/layers/dashboard.ts":(t,e,s)=>{function i(t,e){const s=t.size,i=2*t.size;return function(r){const n=Math.max(0,e.time),a=e.player.getTrait("player");t.draw("MARIO",r,16,s),t.draw(a.score.toString().padStart(6,"0"),r,16,i),t.draw(`@x${26..toString().padStart(2,"0")}`,r,96,i),t.draw("WORLD",r,152,s),t.draw("1-1",r,160,i),t.draw("TIME",r,208,s),t.draw(n.toFixed(0).padStart(3,"0"),r,216,i)}}s.r(e),s.d(e,{createDashboardLayer:()=>i})},"./src/layers/sprite.ts":(t,e,s)=>{function i(t,e=64,s=64){const i=document.createElement("canvas").getContext("2d");return i.imageSmoothingEnabled=!1,i.canvas.width=e,i.canvas.height=s,function(r,n){t.forEach((t=>{i.clearRect(0,0,e,s),t.draw(i),r.drawImage(i.canvas,t.pos.x-n.pos.x,t.pos.y-n.pos.y)}))}}s.r(e),s.d(e,{createSpriteLayer:()=>i})},"./src/loaders.ts":(t,e,s)=>{s.r(e),s.d(e,{loadImage:()=>r,loadJSON:()=>n});var i=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function r(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,s)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s,i.src=t}))}))}function n(t){return fetch(t).then((t=>t.json()))}},"./src/loaders/audio.ts":(t,e,s)=>{s.r(e),s.d(e,{loadAudioBoard:()=>a,createAudioLoader:()=>o});var i=s("./src/AudioBoard.ts"),r=s("./src/loaders.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t,e){return n(this,void 0,void 0,(function*(){const s=o(e),n=yield(0,r.loadJSON)(`./sounds/${t}.json`),a=new i.default,c=[];return n.fx.forEach((({name:t,url:e})=>{c.push(s(e).then((e=>{a.add(t,e)})))})),yield Promise.all(c),a}))}function o(t){return function(e){return fetch(e).then((t=>t.arrayBuffer())).then((e=>t.decodeAudioData(e)))}}},"./src/loaders/font.ts":(t,e,s)=>{s.r(e),s.d(e,{FontSheet:()=>o,loadFont:()=>c});var i=s("./src/loaders.ts"),r=s("./src/SpriteSheet.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const a=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";class o{constructor(t,e){this.sheet=t,this.size=e}draw(t,e,s,i){for(let r=0;r<t.length;r++)this.sheet.draw(t[r],e,s+r*this.size,i)}}function c(){return n(this,void 0,void 0,(function*(){const t=yield(0,i.loadImage)("./sheets/font.png"),e=new r.default(t);for(let t=0;t<a.length;t++){const s=8*(15&t),i=8*(t>>4);e.define(a[t],s,i,8,8)}return new o(e,8)}))}},"./src/loaders/level.ts":(t,e,s)=>{s.r(e),s.d(e,{createLevelLoader:()=>h});var i=s("./src/layers/background.ts"),r=s("./src/layers/sprite.ts"),n=s("./src/Level.ts"),a=s("./src/loaders.ts"),o=s("./src/math.ts"),c=s("./src/loaders/music.ts"),l=s("./src/loaders/sprite.ts");function d(t,e,s){t.layers.forEach(((r,n)=>{const a=function(t,e){const s=new o.Matrix;for(const{tile:i,x:r,y:n}of function*(t,e){function*s(t,i,r){for(const n of t)for(const{x:t,y:a}of p(n.ranges)){const o=t+i,c=a+r;if(n.pattern){const t=e[n.pattern].tiles;yield*s(t,o,c)}else yield{tile:n,x:o,y:c}}}yield*s(t,0,0)}(t,e))s.set(r,n,i);return s}(r.tiles,t.patterns),c=(0,i.createBackgroundLayer)(e,a,s);e.comp.add(c),e.tileCollider.addGrid(a)}))}function h(t){return function(e){return(0,a.loadJSON)(`./levels/${e}.json`).then((t=>Promise.all([t,(0,l.loadSpriteSheet)(t.spriteSheet),(0,c.loadMusicSheet)(t.musicSheet)]))).then((([e,s,i])=>{const a=new n.default;return a.music.setPlayer(i),d(e,a,s),function(t,e,s){t.entities.forEach((({name:t,pos:[i,r]})=>{const n=(0,s[t])();n.pos.set(i,r),e.entities.add(n)}));const i=(0,r.createSpriteLayer)(e.entities);e.comp.add(i)}(e,a,t),a}))}}function*u(t,e,s,i){const r=t+e,n=s+i;for(let e=t;e<r;e++)for(let t=s;t<n;t++)yield{x:e,y:t}}function f(t){switch(t.length){case 4:return u(...t);case 3:return u(t[0],t[1],t[2],1);case 2:return u(t[0],1,t[1],1)}}function*p(t){for(const e of t)yield*f(e)}},"./src/loaders/music.ts":(t,e,s)=>{s.r(e),s.d(e,{loadMusicSheet:()=>a});var i=s("./src/loaders.ts"),r=s("./src/MusicPlayer.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t){return n(this,void 0,void 0,(function*(){const e=yield(0,i.loadJSON)(`./music/${t}.json`),s=new r.default;for(const[t,i]of Object.entries(e))s.addTrack(t,i.url);return s}))}},"./src/loaders/sprite.ts":(t,e,s)=>{s.r(e),s.d(e,{loadSpriteSheet:()=>a});var i=s("./src/anim.ts"),r=s("./src/loaders.ts"),n=s("./src/SpriteSheet.ts");function a(t){return(0,r.loadJSON)(`./sprites/${t}.json`).then((t=>Promise.all([t,(0,r.loadImage)(t.imageURL)]))).then((([t,e])=>{const s=new n.default(e,t.tileW,t.tileH);return t.tiles&&t.tiles.forEach((t=>{s.defineTile(t.name,...t.index)})),t.frames&&t.frames.forEach((({name:t,rect:e})=>{s.define(t,...e)})),t.animations&&t.animations.forEach((({name:t,frameLen:e,frames:r})=>{const n=(0,i.createAnim)(r,e);s.defineAnim(t,n)})),s}))}},"./src/math.ts":(t,e,s)=>{s.r(e),s.d(e,{Matrix:()=>i,Vector:()=>r});class i{constructor(){this.grid=[]}delete(t,e){const s=this.grid[t];s&&delete s[e]}get(t,e){const s=this.grid[t];if(s)return s[e]}set(t,e,s){this.grid[t]||(this.grid[t]=[]),this.grid[t][e]=s}forEach(t){this.grid.forEach(((e,s)=>{e.forEach(((e,i)=>{t(s,i,e)}))}))}}class r{constructor(t=0,e=0){this.set(t,e)}copy(t){this.set(t.x,t.y)}set(t,e){this.x=t,this.y=e}}},"./src/player.ts":(t,e,s)=>{s.r(e),s.d(e,{createPlayerEnv:()=>a,findPlayers:()=>o});var i=s("./src/Entity.ts"),r=s("./src/traits/Player.ts"),n=s("./src/traits/PlayerController.ts");function a(t){const e=new i.default,s=new n.default;return s.checkpoint.set(64,64),s.setPlayer(t),e.addTrait("controller",s),e}function*o(t){for(const e of t.entities)e.getTrait("player")instanceof r.default&&(yield e)}},"./src/tiles/brick.ts":(t,e,s)=>{s.r(e),s.d(e,{brick:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s,resolver:r,gameContext:n}=t;if(e.vel.y>0)e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s);else if(e.vel.y<0){if(e.getTrait("player")){r.matrix.delete(s.indexX,s.indexY);const t=n.entityFactory.goomba();t.pos.set(e.pos.x,s.y1),t.vel.set(50,-400),n.level.entities.add(t)}e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}}]},"./src/tiles/ground.ts":(t,e,s)=>{s.r(e),s.d(e,{ground:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s}=t;e.vel.y>0?e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s):e.vel.y<0&&e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}]},"./src/traits/Emitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.cooldown=2,this.interval=2,this.emitters=[]}emit(t,e){for(const s of this.emitters)s(t,e)}update(t,e){const{dt:s,level:i}=e;this.cooldown-=s,this.cooldown<0&&(this.emit(t,i),this.cooldown=this.interval)}}},"./src/traits/Go.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Jump.ts");class n extends i.Trait{constructor(){super(),this.dir=0,this.acceleration=400,this.deceleration=300,this.friction=2e-4,this.distance=0,this.heading=1}set drag(t){this.friction=t}update(t,e){const{dt:s}=e,i=Math.abs(t.vel.x);if(0!==this.dir){t.vel.x+=this.acceleration*s*this.dir;const e=t.getTrait("jump");e?e instanceof r.default&&!e.falling&&(this.heading=this.dir):this.heading=this.dir}else if(0!==t.vel.x){const e=Math.min(i,this.deceleration*s);t.vel.x+=e*(t.vel.x>0?-1:1)}else this.distance=0;const n=this.friction*t.vel.x*i;t.vel.x-=n,this.distance+=i*s}}},"./src/traits/Gravity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{dt:s}=e;t.vel.y+=this.gravity*s}}},"./src/traits/Jump.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(),this.duration=.3,this.velocity=200,this.engageTime=0,this.ready=0,this.graceTime=0,this.graceDuration=.1}get falling(){return this.ready<0}start(){this.graceTime=this.graceDuration}cancel(){this.engageTime=0,this.graceTime=0}obstruct(t,e){e===i.Sides.BOTTOM&&(this.ready=1),e===i.Sides.TOP&&this.cancel()}update(t,e){const{dt:s}=e;this.graceTime>0&&(this.ready>0&&(t.sounds.add("jump"),this.engageTime=this.duration,this.graceTime=0),this.graceTime-=s),this.engageTime>0&&(t.vel.y=-(this.velocity+.3*Math.abs(t.vel.x)),this.engageTime-=s),this.ready--}}},"./src/traits/Killable.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.dead=!1,this.removeAfter=2,this.deadTime=0}kill(){this.queue((()=>this.dead=!0))}revive(){this.dead=!1,this.deadTime=0}update(t,e){const{dt:s,level:i}=e;this.dead&&(this.deadTime+=s,this.deadTime>this.removeAfter&&this.queue((()=>i.entities.delete(t))))}}},"./src/traits/PendulumMove.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.enabled=!0,this.speed=-30}obstruct(t,e){e!==i.Sides.LEFT&&e!==i.Sides.RIGHT||(this.speed*=-1)}update(t,e){this.enabled&&(t.vel.x=this.speed)}}},"./src/traits/Physics.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{level:s,dt:i}=e;t.pos.x+=t.vel.x*i,s.tileCollider.checkX(t,e),t.pos.y+=t.vel.y*i,s.tileCollider.checkY(t,e),t.vel.y+=this.gravity*i}}},"./src/traits/Player.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Stomper.ts");class n extends i.Trait{constructor(){super(),this.coins=0,this.lives=3,this.score=0,this.listen(r.default.STOMP,(()=>{this.score+=100}))}}},"./src/traits/PlayerController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/math.ts");class n extends i.Trait{constructor(){super(),this.player=null,this.checkpoint=new r.Vector,this.time=300,this.score=0}setPlayer(t){this.player=t}update(t,e){const{dt:s,level:i}=e;this.player&&!i.entities.has(this.player)?(this.player.killable.revive(),this.player.pos.set(this.checkpoint.x,this.checkpoint.y),i.entities.add(this.player)):this.time-=2*s}}},"./src/traits/Solid.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.obstructs=!0}obstruct(t,e,s){if(this.obstructs)switch(e){case i.Sides.RIGHT:t.bounds.left=s.x1-t.size.x,t.vel.x=0;break;case i.Sides.LEFT:t.bounds.left=s.x2,t.vel.x=0;break;case i.Sides.BOTTOM:t.bounds.top=s.y1-t.size.y,t.vel.y=0;break;case i.Sides.TOP:t.bounds.top=s.y2,t.vel.y=0}}}},"./src/traits/Stomper.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Killable.ts");class n extends i.Trait{constructor(){super(...arguments),this.boundSpeed=400}bounce(t,e){t.bounds.bottom=e.bounds.top,t.vel.y=-this.boundSpeed}collides(t,e){const s=e.getTrait("killable");s&&s instanceof r.default&&!s.dead&&t.vel.y>e.vel.y&&(this.queue((()=>this.bounce(t,e))),t.sounds.add("stomp"),t.events.emit(n.STOMP,t,e))}}n.STOMP=Symbol("stomp")},"./src/traits/Velocity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{update(t,e){const{dt:s}=e;t.pos.x+=t.vel.x*s,t.pos.y+=t.vel.y*s}}}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{s.r(i);var t=s("./src/Timer.ts"),e=s("./src/input.ts"),r=s("./src/Camera.ts"),n=s("./src/loaders/level.ts"),a=s("./src/entities.ts"),o=s("./src/layers/collision.ts"),c=s("./src/loaders/font.ts"),l=s("./src/layers/dashboard.ts"),d=s("./src/player.ts"),h=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const u=document.querySelector("canvas#screen"),f=()=>{window.removeEventListener("click",f),function(s){h(this,void 0,void 0,(function*(){const i=s.getContext("2d");i.imageSmoothingEnabled=!1;const h=new AudioContext,[u,f]=yield Promise.all([(0,a.loadEntities)(h),(0,c.loadFont)()]),p=yield(0,n.createLevelLoader)(u),y=yield p("1-1"),m=new r.default,v=u.mario(),g=(0,d.createPlayerEnv)(v);y.entities.add(g),y.comp.add((0,o.createCollisionLayer)(y)),y.comp.add((0,l.createDashboardLayer)(f,g.getTrait("controller"))),(0,e.setupKeyboard)(v).listenTo(window);const b=new t.default;b.update=t=>{y.update(t,h,u),m.pos.x=Math.max(0,v.pos.x-100),y.comp.draw(i,m)},b.start(),y.music.play("main")}))}(u)};window.addEventListener("click",f)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXFCQyxFQUFNMEksRUFBVXJYLFNBQVMsaUJBRS9DLElBQUErTSxlQUFjTixHQUN0QmhMLFNBQVNDLFFBRWYsTUFBTTRWLEVBQVEsSUFBSSxVQUVsQkEsRUFBTXRZLE9BQVVtQixJQUNkaUMsRUFBTXBELE9BQU9tQixFQUFJRCxFQUFjaUMsR0FFL0IzRSxFQUFPbkIsSUFBSVUsRUFBSW1JLEtBQUs2SixJQUFJLEVBQUd0QyxFQUFNcFEsSUFBSVUsRUFBSSxLQUV6Q3FGLEVBQU1MLEtBQUt6RSxLQUFLQyxFQUFLQyxJQUd2QjhaLEVBQU1wYixRQUNOa0csRUFBTU4sTUFBTW5HLEtBQUssV0FPakI0YixDQUFLeFQsSUFFUHJDLE9BQU9FLGlCQUFpQixRQUFTMUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9BdWRpb0JvYXJkLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0JvdW5kaW5nQm94LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0NhbWVyYS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9Db21wb3NpdG9yLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0VudGl0eS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9FbnRpdHlDb2xsaWRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9FdmVudEJ1ZmZlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9LZXlib2FyZFN0YXRlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0xldmVsLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL011c2ljQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9NdXNpY1BsYXllci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9TcHJpdGVTaGVldC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9UaWxlQ29sbGlkZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvVGltZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvYW5pbS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9CdWxsZXQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMvQ2Fubm9uLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0dvb21iYS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9Lb29wYS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9NYXJpby50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9pbnB1dC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sYXllcnMvYmFja2dyb3VuZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sYXllcnMvY29sbGlzaW9uLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9kYXNoYm9hcmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbGF5ZXJzL3Nwcml0ZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMvYXVkaW8udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9mb250LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMvbGV2ZWwudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9tdXNpYy50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL3Nwcml0ZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9tYXRoLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90aWxlcy9icmljay50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90aWxlcy9ncm91bmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0VtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0dvLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9HcmF2aXR5LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9KdW1wLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9LaWxsYWJsZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvUGVuZHVsdW1Nb3ZlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9QaHlzaWNzLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1BsYXllckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1NvbGlkLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9TdG9tcGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9WZWxvY2l0eS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXVkaW9Cb2FyZCB7XG4gIHByaXZhdGUgYnVmZmVyczogTWFwPHN0cmluZywgQXVkaW9CdWZmZXI+ID0gbmV3IE1hcCgpO1xuXG4gIGFkZChuYW1lOiBzdHJpbmcsIGJ1ZmZlcjogQXVkaW9CdWZmZXIpe1xuICAgIHRoaXMuYnVmZmVycy5zZXQobmFtZSwgYnVmZmVyKTtcbiAgfVxuXG4gIHBsYXkobmFtZTogc3RyaW5nLCBjb250ZXh0OiBBdWRpb0NvbnRleHQpe1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuYnVmZmVycy5nZXQobmFtZSk7XG4gICAgaWYoIWJ1ZmZlcikgcmV0dXJuO1xuICAgIGNvbnN0IHNvdXJjZSA9IGNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgc291cmNlLmNvbm5lY3QoY29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9tYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvdW5kaW5nQm94IHtcbiAgcHJpdmF0ZSBwb3M6IFZlY3RvcjtcbiAgcHJpdmF0ZSBzaXplOiBWZWN0b3I7XG4gIHByaXZhdGUgb2Zmc2V0OiBWZWN0b3I7XG5cbiAgY29uc3RydWN0b3IocG9zOiBWZWN0b3IsIHNpemU6IFZlY3Rvciwgb2Zmc2V0OiBWZWN0b3Ipe1xuICAgIHRoaXMucG9zID0gcG9zO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gIH1cblxuICBvdmVybGFwcyhib3g6IEJvdW5kaW5nQm94KSA6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJvdHRvbSA+IGJveC50b3AgXG4gICAgICAgICYmIHRoaXMudG9wIDwgYm94LmJvdHRvbSBcbiAgICAgICAgJiYgdGhpcy5sZWZ0IDwgYm94LnJpZ2h0IFxuICAgICAgICAmJiB0aGlzLnJpZ2h0ID4gYm94LmxlZnQ7XG4gIH1cblxuICBnZXQgYm90dG9tKCl7IHJldHVybiB0aGlzLnBvcy55ICsgdGhpcy5zaXplLnkgKyB0aGlzLm9mZnNldC55OyB9XG4gIGdldCB0b3AoKXsgcmV0dXJuIHRoaXMucG9zLnkgKyB0aGlzLm9mZnNldC55OyB9XG4gIGdldCBsZWZ0KCl7IHJldHVybiB0aGlzLnBvcy54ICsgdGhpcy5vZmZzZXQueDsgfVxuICBnZXQgcmlnaHQoKXsgcmV0dXJuIHRoaXMucG9zLnggKyB0aGlzLnNpemUueCArIHRoaXMub2Zmc2V0Lng7IH1cblxuICBzZXQgYm90dG9tKHkpeyB0aGlzLnBvcy55ID0geSAtICh0aGlzLnNpemUueSArIHRoaXMub2Zmc2V0LnkpOyB9XG4gIHNldCB0b3AoeSl7IHRoaXMucG9zLnkgPSB5IC0gdGhpcy5vZmZzZXQueTsgfVxuICBzZXQgbGVmdCh4KXsgdGhpcy5wb3MueCA9IHggLSB0aGlzLm9mZnNldC54OyB9XG4gIHNldCByaWdodCh4KXsgdGhpcy5wb3MueCA9IHggLSAodGhpcy5zaXplLnggKyB0aGlzLm9mZnNldC54KTsgfVxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuL21hdGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcbiAgcHVibGljIHBvczogVmVjdG9yO1xuICBwdWJsaWMgc2l6ZTogVmVjdG9yO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMucG9zID0gbmV3IFZlY3RvcigwLCAwKTtcbiAgICB0aGlzLnNpemUgPSBuZXcgVmVjdG9yKDI1NiwgMjI0KTtcbiAgfVxufSIsImltcG9ydCBDYW1lcmEgZnJvbSBcIi4vQ2FtZXJhXCI7XG5cbmV4cG9ydCB0eXBlIExheWVyUmVuZGVyZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYT86IENhbWVyYSkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRvciB7XG4gIHByaXZhdGUgbGF5ZXJzOiBMYXllclJlbmRlcmVyW107XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5sYXllcnMgPSBbXTtcbiAgfVxuICBhZGQobGF5ZXI6IExheWVyUmVuZGVyZXIpe1xuICAgIHRoaXMubGF5ZXJzLnB1c2gobGF5ZXIpO1xuICB9XG4gIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICB0aGlzLmxheWVycy5mb3JFYWNoKGxheWVyID0+IGxheWVyKGN0eCwgY2FtZXJhKSlcbiAgfVxufSIsImltcG9ydCBBdWRpb0JvYXJkIGZyb20gXCIuL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCBCb3VuZGluZ0JveCBmcm9tIFwiLi9Cb3VuZGluZ0JveFwiO1xuaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBFdmVudEJ1ZmZlciBmcm9tIFwiLi9FdmVudEJ1ZmZlclwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi9MZXZlbFwiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vbWF0aFwiO1xuaW1wb3J0IHsgUmVzb2x2ZWRUaWxlIH0gZnJvbSBcIi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBlbnVtIFNpZGVzIHtcbiAgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hULFxufVxuXG5leHBvcnQgdHlwZSBUYXNrID0gKCkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIExpc3RlbmVyID0ge1xuICBuYW1lOiBTeW1ib2wsXG4gIGNhbGxiYWNrOiBUYXNrLFxuICBjb3VudDogbnVtYmVyLFxufTtcblxuZXhwb3J0IGNsYXNzIFRyYWl0IHtcbiAgc3RhdGljIFRBU0sgPSBTeW1ib2woJ3Rhc2snKTtcbiAgcHVibGljIGxpc3RlbmVyczogTGlzdGVuZXJbXSA9IFtdO1xuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSl7fVxuICBmaW5hbGl6ZShlbnRpdHk6IEVudGl0eSl7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5maWx0ZXIobGlzdGVuZXIgPT4ge1xuICAgICAgZW50aXR5LmV2ZW50cy5wcm9jZXNzKGxpc3RlbmVyLm5hbWUsIGxpc3RlbmVyLmNhbGxiYWNrKTtcbiAgICAgIHJldHVybiAtLWxpc3RlbmVyLmNvdW50O1xuICAgIH0pO1xuICB9XG4gIGxpc3RlbihuYW1lOiBTeW1ib2wsIGNhbGxiYWNrOiBUYXNrLCBjb3VudDogbnVtYmVyID0gSW5maW5pdHkpe1xuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goeyBuYW1lLCBjYWxsYmFjaywgY291bnQgfSk7XG4gIH1cbiAgb2JzdHJ1Y3QoZW50aXR5OiBFbnRpdHksIHNpZGU6IFNpZGVzLCBtYXRjaD86IFJlc29sdmVkVGlsZSl7fVxuICBxdWV1ZSh0YXNrOiBUYXNrKXtcbiAgICB0aGlzLmxpc3RlbihUcmFpdC5UQVNLLCB0YXNrLCAxKTtcbiAgfVxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0PzogR2FtZUNvbnRleHQpe31cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5IHtcbiAgcHVibGljIGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQ7XG4gIHB1YmxpYyBzb3VuZHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuXG4gIHB1YmxpYyBldmVudHM6IEV2ZW50QnVmZmVyID0gbmV3IEV2ZW50QnVmZmVyKCk7XG4gIFxuICBwdWJsaWMgcG9zOiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyBzaXplOiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyBvZmZzZXQ6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIGJvdW5kczogQm91bmRpbmdCb3g7XG4gIHB1YmxpYyB2ZWw6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIGxpZmV0aW1lOiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgdHJhaXRzOiBNYXA8c3RyaW5nLCBUcmFpdD4gPSBuZXcgTWFwKCk7XG5cbiAgY29uc3RydWN0b3IoYXVkaW9Cb2FyZD86IEF1ZGlvQm9hcmQpe1xuICAgIHRoaXMuYXVkaW9Cb2FyZCA9IGF1ZGlvQm9hcmQ7XG4gICAgdGhpcy5ib3VuZHMgPSBuZXcgQm91bmRpbmdCb3godGhpcy5wb3MsIHRoaXMuc2l6ZSwgdGhpcy5vZmZzZXQpO1xuICB9XG5cbiAgYWRkVHJhaXQobmFtZTogc3RyaW5nLCB0cmFpdDogVHJhaXQpe1xuICAgIHRoaXMudHJhaXRzLnNldChuYW1lLCB0cmFpdCk7XG4gIH1cblxuICBjb2xsaWRlcyhjYW5kaWRhdGU6IEVudGl0eSl7XG4gICAgdGhpcy50cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICB0cmFpdC5jb2xsaWRlcyh0aGlzLCBjYW5kaWRhdGUpO1xuICAgIH0pXG4gIH1cblxuICBmaW5hbGl6ZSgpe1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoVHJhaXQuVEFTSyk7XG5cbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0LmZpbmFsaXplKHRoaXMpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudHMuY2xlYXIoKTtcbiAgfVxuXG4gIGdldFRyYWl0KG5hbWU6IHN0cmluZykgOiBUcmFpdCB7XG4gICAgY29uc3QgdHJhaXQgPSB0aGlzLnRyYWl0cy5nZXQobmFtZSk7XG4gICAgcmV0dXJuIHRyYWl0O1xuICB9XG5cbiAgb2JzdHJ1Y3Qoc2lkZTogU2lkZXMsIG1hdGNoPzogUmVzb2x2ZWRUaWxlKXtcbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0Lm9ic3RydWN0KHRoaXMsIHNpZGUsIG1hdGNoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHBsYXlTb3VuZHMoYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZCwgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpe1xuICAgIHRoaXMuc291bmRzLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICBhdWRpb0JvYXJkLnBsYXkobmFtZSwgYXVkaW9Db250ZXh0KTtcbiAgICB9KTtcbiAgICB0aGlzLnNvdW5kcy5jbGVhcigpO1xuICB9XG5cbiAgdXBkYXRlKGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgdGhpcy50cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICB0cmFpdC51cGRhdGUodGhpcywgZ2FtZUNvbnRleHQpO1xuICAgIH0pO1xuICAgIHRoaXMucGxheVNvdW5kcyh0aGlzLmF1ZGlvQm9hcmQsIGdhbWVDb250ZXh0LmF1ZGlvQ29udGV4dCk7XG4gICAgdGhpcy5saWZldGltZSArPSBnYW1lQ29udGV4dC5kdDtcbiAgfVxuXG4gIHB1YmxpYyBkcmF3OiBMYXllclJlbmRlcmVyID0gKGN0eCwgY2FtZXJhKSA9PiB7fTtcbn0iLCJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHlDb2xsaWRlciB7XG4gIGVudGl0aWVzOiBTZXQ8RW50aXR5PjtcbiAgY29uc3RydWN0b3IoZW50aXRpZXM6IFNldDxFbnRpdHk+KXtcbiAgICB0aGlzLmVudGl0aWVzID0gZW50aXRpZXM7XG4gIH1cbiAgY2hlY2soc3ViamVjdDogRW50aXR5KXtcbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goY2FuZGlkYXRlID0+IHtcbiAgICAgIGlmKHN1YmplY3QgPT09IGNhbmRpZGF0ZSkgcmV0dXJuO1xuXG4gICAgICBpZihzdWJqZWN0LmJvdW5kcy5vdmVybGFwcyhjYW5kaWRhdGUuYm91bmRzKSl7XG4gICAgICAgIHN1YmplY3QuY29sbGlkZXMoY2FuZGlkYXRlKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59IiwidHlwZSBFdmVudCA9IHtcbiAgbmFtZTogU3ltYm9sLFxuICBhcmdzOiBhbnlbXSxcbn1cbnR5cGUgRXZlbnRDYWxsYmFjayA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRCdWZmZXIge1xuICBwcml2YXRlIGV2ZW50czogRXZlbnRbXSA9IFtdO1xuICBcbiAgY2xlYXIoKXtcbiAgICB0aGlzLmV2ZW50cy5sZW5ndGggPSAwO1xuICB9XG5cbiAgZW1pdChuYW1lOiBTeW1ib2wsIC4uLmFyZ3M6IGFueVtdKXtcbiAgICBjb25zdCBldmVudCA9IHsgbmFtZSwgYXJncyB9O1xuICAgIHRoaXMuZXZlbnRzLnB1c2goZXZlbnQpO1xuICB9XG5cbiAgcHJvY2VzcyhuYW1lOiBTeW1ib2wsIGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKXtcbiAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgIGlmKGV2ZW50Lm5hbWUgPT09IG5hbWUpe1xuICAgICAgICBjYWxsYmFjayguLi5ldmVudC5hcmdzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBlbnVtIEtleVN0YXRlIHsgUkVMRUFTRUQsIFBSRVNTRUQgfTtcblxudHlwZSBLZXlNYXAgPSAoc3RhdGU6IEtleVN0YXRlKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlib2FyZFN0YXRlIHtcbiAgcHJpdmF0ZSBrZXlTdGF0ZXM6IE1hcDxzdHJpbmcsS2V5U3RhdGU+O1xuICBwcml2YXRlIGtleU1hcDogTWFwPHN0cmluZyxLZXlNYXA+O1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMua2V5U3RhdGVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMua2V5TWFwID0gbmV3IE1hcCgpO1xuICB9XG4gIGFkZE1hcHBpbmcoY29kZTogc3RyaW5nLCBjYWxsYmFjazogS2V5TWFwKXtcbiAgICB0aGlzLmtleU1hcC5zZXQoY29kZSwgY2FsbGJhY2spO1xuICB9XG4gIGhhbmRsZUV2ZW50KGV2ZW50OiBLZXlib2FyZEV2ZW50KXtcbiAgICBjb25zdCB7IGNvZGUsIHR5cGUgfSA9IGV2ZW50O1xuXG4gICAgaWYoIXRoaXMua2V5TWFwLmhhcyhjb2RlKSkgcmV0dXJuO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGtleVN0YXRlID0gdHlwZSA9PT0gJ2tleWRvd24nID8gS2V5U3RhdGUuUFJFU1NFRCA6IEtleVN0YXRlLlJFTEVBU0VEO1xuXG4gICAgaWYodGhpcy5rZXlTdGF0ZXMuZ2V0KGNvZGUpID09PSBrZXlTdGF0ZSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5rZXlTdGF0ZXMuc2V0KGNvZGUsIGtleVN0YXRlKTtcblxuICAgIHRoaXMua2V5TWFwLmdldChjb2RlKShrZXlTdGF0ZSk7XG4gIH1cbiAgbGlzdGVuVG8od2luZG93OiBhbnkpe1xuICAgIFsna2V5ZG93bicsICdrZXl1cCddLmZvckVhY2goZXZlbnROYW1lPT57XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IENvbXBvc2l0b3IgZnJvbSBcIi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IHsgRW50aXR5RmFjdG9yeSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuaW1wb3J0IEVudGl0eUNvbGxpZGVyIGZyb20gXCIuL0VudGl0eUNvbGxpZGVyXCI7XG5pbXBvcnQgTXVzaWNDb250cm9sbGVyIGZyb20gXCIuL011c2ljQ29udHJvbGxlclwiO1xuaW1wb3J0IFRpbGVDb2xsaWRlciBmcm9tIFwiLi9UaWxlQ29sbGlkZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lQ29udGV4dCB7XG4gIGR0OiBudW1iZXIsXG4gIGxldmVsOiBMZXZlbCxcbiAgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQsXG4gIGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3RvcnksXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsIHtcbiAgcHVibGljIG11c2ljOiBNdXNpY0NvbnRyb2xsZXIgPSBuZXcgTXVzaWNDb250cm9sbGVyKCk7XG4gIHB1YmxpYyBjb21wOiBDb21wb3NpdG9yID0gbmV3IENvbXBvc2l0b3IoKTtcbiAgcHVibGljIGVudGl0aWVzOiBTZXQ8RW50aXR5PiA9IG5ldyBTZXQoKTtcbiAgcHVibGljIHRpbGVDb2xsaWRlcjogVGlsZUNvbGxpZGVyID0gbmV3IFRpbGVDb2xsaWRlcigpO1xuICBwdWJsaWMgZW50aXR5Q29sbGlkZXI6IEVudGl0eUNvbGxpZGVyID0gbmV3IEVudGl0eUNvbGxpZGVyKHRoaXMuZW50aXRpZXMpO1xuICBwdWJsaWMgdGltZTogbnVtYmVyID0gMDtcbiAgXG4gIHVwZGF0ZShkdDogbnVtYmVyLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSl7XG4gICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBlbnRpdHkudXBkYXRlKHsgZHQsIGxldmVsOiB0aGlzLCBhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnkgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHRoaXMuZW50aXR5Q29sbGlkZXIuY2hlY2soZW50aXR5KTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgZW50aXR5LmZpbmFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnRpbWUgKz0gZHQ7XG4gIH1cbn0iLCJpbXBvcnQgTXVzaWNQbGF5ZXIgZnJvbSBcIi4vTXVzaWNQbGF5ZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVzaWNDb250cm9sbGVyIHtcbiAgcHJpdmF0ZSBtdXNpY1BsYXllcjogTXVzaWNQbGF5ZXIgPSBudWxsO1xuXG4gIHBsYXkobmFtZTogc3RyaW5nKXtcbiAgICB0aGlzLm11c2ljUGxheWVyLnBsYXkobmFtZSk7XG4gIH1cblxuICBzZXRQbGF5ZXIocGxheWVyOiBNdXNpY1BsYXllcil7XG4gICAgdGhpcy5tdXNpY1BsYXllciA9IHBsYXllcjtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE11c2ljUGxheWVyIHtcbiAgcHJpdmF0ZSB0cmFja3M6IE1hcDxzdHJpbmcsIEhUTUxBdWRpb0VsZW1lbnQ+ID0gbmV3IE1hcCgpO1xuXG4gIGFkZFRyYWNrKG5hbWU6IHN0cmluZywgdHJhY2s6IHN0cmluZyl7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8odHJhY2spO1xuICAgIGF1ZGlvLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMudHJhY2tzLnNldChuYW1lLCBhdWRpbyk7XG4gIH1cblxuICBwbGF5KG5hbWU6IHN0cmluZyl7XG4gICAgY29uc3QgdHJhY2sgPSB0aGlzLnRyYWNrcy5nZXQobmFtZSk7XG4gICAgaWYodHJhY2spIHRyYWNrLnBsYXkoKTtcbiAgfVxufSIsInR5cGUgQW5pbWF0aW9uUmVuZGVyZXIgPSAoZGlzdGFuY2U6IG51bWJlcikgPT4gc3RyaW5nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGVTaGVldCB7XG4gIHByaXZhdGUgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gIHByaXZhdGUgd2lkdGg6IG51bWJlcjsgXG4gIHByaXZhdGUgaGVpZ2h0OiBudW1iZXI7XG4gIHByaXZhdGUgZnJhbWVzOiBNYXA8c3RyaW5nLCBIVE1MQ2FudmFzRWxlbWVudFtdPjtcbiAgcHJpdmF0ZSBhbmltYXRpb25zOiBNYXA8c3RyaW5nLCBBbmltYXRpb25SZW5kZXJlcj47XG4gIGNvbnN0cnVjdG9yKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKXtcbiAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZnJhbWVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuYW5pbWF0aW9ucyA9IG5ldyBNYXAoKTtcbiAgfVxuICBnZXRBbmltYXRpb24obmFtZTogc3RyaW5nKXtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmdldChuYW1lKTtcbiAgfVxuICBkZWZpbmVBbmltKG5hbWU6IHN0cmluZywgYW5pbWF0aW9uOiBBbmltYXRpb25SZW5kZXJlcil7XG4gICAgdGhpcy5hbmltYXRpb25zLnNldChuYW1lLCBhbmltYXRpb24pO1xuICB9ICBcbiAgZGVmaW5lKG5hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKXtcbiAgICBjb25zdCBidWZmZXJzID0gW2ZhbHNlLCB0cnVlXS5tYXAoZmxpcCA9PiB7XG4gICAgICBjb25zdCBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgYCR7dGhpcy53aWR0aH1weGApO1xuICAgICAgY3R4LmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAke3RoaXMuaGVpZ2h0fXB4YCk7XG5cbiAgICAgIGlmKGZsaXApe1xuICAgICAgICBjdHguc2NhbGUoLTEsIDEpO1xuICAgICAgICBjdHgudHJhbnNsYXRlKC13aWR0aCwgMCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIHRoaXMuaW1hZ2UsIFxuICAgICAgICB4LCB5LCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAwLCAwLCB3aWR0aCwgaGVpZ2h0XG4gICAgICApO1xuICAgICAgXG4gICAgICByZXR1cm4gY3R4LmNhbnZhcztcbiAgICB9KVxuXG4gICAgdGhpcy5mcmFtZXMuc2V0KG5hbWUsIGJ1ZmZlcnMpO1xuICB9XG4gIGRlZmluZVRpbGUobmFtZTogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgdGhpcy5kZWZpbmUobmFtZSwgeCp0aGlzLndpZHRoLCB5KnRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cbiAgZHJhdyhuYW1lOiBzdHJpbmcsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgZmxpcDogYm9vbGVhbiA9IGZhbHNlKXtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuZnJhbWVzLmdldChuYW1lKTtcbiAgICBpZighZnJhbWUpe1xuICAgICAgY29uc29sZS53YXJuKGBGcmFtZSAke25hbWV9IGlzIG5vdCBkZWZpbmVkIWApO1xuICAgIH1cbiAgICBjdHguZHJhd0ltYWdlKGZyYW1lW2ZsaXA/MTowXSwgeCwgeSk7XG4gIH1cbiAgZHJhd0FuaW0obmFtZTogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGRpc3RhbmNlOiBudW1iZXIpe1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9ucy5nZXQobmFtZSk7XG4gICAgaWYoIWFuaW1hdGlvbikgcmV0dXJuIHRoaXMuZHJhd1RpbGUobmFtZSwgY3R4LCB4LCB5KTtcbiAgICB0aGlzLmRyYXdUaWxlKGFuaW1hdGlvbihkaXN0YW5jZSksIGN0eCwgeCwgeSk7XG4gIH1cbiAgZHJhd1RpbGUobmFtZTogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGZsaXA6IGJvb2xlYW4gPSBmYWxzZSl7XG4gICAgdGhpcy5kcmF3KG5hbWUsIGN0eCwgeCp0aGlzLndpZHRoLCB5KnRoaXMuaGVpZ2h0LCBmbGlwKTtcbiAgfVxufSIsImltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuL0xldmVsXCI7XG5pbXBvcnQgeyBMZXZlbFRpbGVTcGVjIH0gZnJvbSBcIi4vbG9hZGVycy9sZXZlbFwiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4vbWF0aFwiO1xuaW1wb3J0IHsgYnJpY2sgfSBmcm9tIFwiLi90aWxlcy9icmlja1wiO1xuaW1wb3J0IHsgZ3JvdW5kIH0gZnJvbSBcIi4vdGlsZXMvZ3JvdW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb2x2ZWRUaWxlIHtcbiAgdGlsZTogTGV2ZWxUaWxlU3BlYyxcbiAgeDE6IG51bWJlciwgeDI6IG51bWJlcixcbiAgeTE6IG51bWJlciwgeTI6IG51bWJlcixcbiAgaW5kZXhYOiBudW1iZXIsIGluZGV4WTogbnVtYmVyLFxufVxuXG5leHBvcnQgdHlwZSBUaWxlQ29sbGlzaW9uQ29udGV4dCA9IHtcbiAgZW50aXR5OiBFbnRpdHksIFxuICBtYXRjaDogUmVzb2x2ZWRUaWxlLCBcbiAgcmVzb2x2ZXI6IFRpbGVSZXNvbHZlciwgXG4gIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dFxufVxuXG50eXBlIEhhbmRsZXJDYWxsYmFjayA9ICh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBIYW5kbGVycyB7XG4gIFtrZXk6IHN0cmluZ106IEhhbmRsZXJDYWxsYmFja1tdLFxufVxuXG5jb25zdCBoYW5kbGVyczogSGFuZGxlcnMgPSB7XG4gIGJyaWNrLFxuICBncm91bmQsXG59O1xuXG5leHBvcnQgY2xhc3MgVGlsZVJlc29sdmVyIHtcbiAgcHVibGljIG1hdHJpeDogTWF0cml4PExldmVsVGlsZVNwZWM+O1xuICBwdWJsaWMgdGlsZVNpemU6IG51bWJlcjtcbiAgY29uc3RydWN0b3IobWF0cml4OiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz4sIHRpbGVTaXplOiBudW1iZXIgPSAxNil7XG4gICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG4gICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xuICB9XG4gIHRvSW5kZXgocG9zOiBudW1iZXIpIDogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihwb3MgLyB0aGlzLnRpbGVTaXplKTtcbiAgfVxuICB0b0luZGV4UmFuZ2UocG9zMTogbnVtYmVyLCBwb3MyOiBudW1iZXIpOiBudW1iZXJbXXtcbiAgICBjb25zdCBwTWF4ID0gTWF0aC5jZWlsKHBvczIgLyB0aGlzLnRpbGVTaXplKSAqIHRoaXMudGlsZVNpemU7XG4gICAgY29uc3QgcmFuZ2UgPSBbXTtcbiAgICBsZXQgcG9zID0gcG9zMTtcbiAgICBkbyB7XG4gICAgICByYW5nZS5wdXNoKHRoaXMudG9JbmRleChwb3MpKTtcbiAgICAgIHBvcyArPSB0aGlzLnRpbGVTaXplO1xuICAgIH13aGlsZShwb3MgPCBwTWF4KTtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cbiAgZ2V0QnlJbmRleCh4OiBudW1iZXIsIHk6IG51bWJlcikgOiBSZXNvbHZlZFRpbGUge1xuICAgIGNvbnN0IHRpbGUgPSB0aGlzLm1hdHJpeC5nZXQoeCwgeSk7XG4gICAgaWYodGlsZSkgcmV0dXJuIHtcbiAgICAgIHRpbGUsXG4gICAgICB4MTogeCAqIHRoaXMudGlsZVNpemUsXG4gICAgICB4MjogKHgrMSkgKiB0aGlzLnRpbGVTaXplLFxuICAgICAgeTE6IHkgKiB0aGlzLnRpbGVTaXplLFxuICAgICAgeTI6ICh5KzEpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIGluZGV4WDogeCwgaW5kZXhZOiB5LFxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBzZWFyY2hCeVBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSA6IFJlc29sdmVkVGlsZSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QnlJbmRleCh0aGlzLnRvSW5kZXgoeCksIHRoaXMudG9JbmRleCh5KSk7XG4gIH1cbiAgc2VhcmNoQnlSYW5nZSh4MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MTogbnVtYmVyLCB5MjogbnVtYmVyKSA6IFJlc29sdmVkVGlsZVtdIHtcbiAgICBjb25zdCBtYXRjaGVzOiBSZXNvbHZlZFRpbGVbXSA9IFtdO1xuICAgIHRoaXMudG9JbmRleFJhbmdlKHgxLCB4MikuZm9yRWFjaCh4ID0+IHtcbiAgICAgIHRoaXMudG9JbmRleFJhbmdlKHkxLCB5MikuZm9yRWFjaCh5ID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLmdldEJ5SW5kZXgoeCwgeSk7XG4gICAgICAgIGlmKCFtYXRjaCkgcmV0dXJuO1xuICAgICAgICBtYXRjaGVzLnB1c2gobWF0Y2gpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGNoZXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZUNvbGxpZGVyIHtcbiAgcHVibGljIHJlc29sdmVyczogVGlsZVJlc29sdmVyW10gPSBbXTtcblxuICBhZGRHcmlkKHRpbGVNYXRyaXg6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPil7XG4gICAgdGhpcy5yZXNvbHZlcnMucHVzaChuZXcgVGlsZVJlc29sdmVyKHRpbGVNYXRyaXgpKTtcbiAgfVxuXG4gIGNoZWNrWChlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBpZihlbnRpdHkudmVsLnggPT09IDApIHJldHVybjtcbiAgICBsZXQgeCA9IGVudGl0eS5ib3VuZHMubGVmdCArIChlbnRpdHkudmVsLnggPiAwID8gZW50aXR5LnNpemUueCA6IDApO1xuXG4gICAgZm9yKGNvbnN0IHJlc29sdmVyIG9mIHRoaXMucmVzb2x2ZXJzKXtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSByZXNvbHZlci5zZWFyY2hCeVJhbmdlKFxuICAgICAgICB4LCB4LFxuICAgICAgICBlbnRpdHkuYm91bmRzLnRvcCwgZW50aXR5LmJvdW5kcy5ib3R0b21cbiAgICAgICk7XG5cbiAgICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PntcbiAgICAgICAgdGhpcy5oYW5kbGUoMCwgeyBlbnRpdHksIG1hdGNoLCByZXNvbHZlciwgZ2FtZUNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjaGVja1koZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgaWYoZW50aXR5LnZlbC55ID09PSAwKSByZXR1cm47XG4gICAgbGV0IHkgPSBlbnRpdHkuYm91bmRzLnRvcCArIChlbnRpdHkudmVsLnkgPiAwID8gZW50aXR5LnNpemUueSA6IDApO1xuICBcbiAgICBmb3IoY29uc3QgcmVzb2x2ZXIgb2YgdGhpcy5yZXNvbHZlcnMpe1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IHJlc29sdmVyLnNlYXJjaEJ5UmFuZ2UoXG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCwgZW50aXR5LmJvdW5kcy5yaWdodCwgXG4gICAgICAgIHksIHlcbiAgICAgICk7XG5cbiAgICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PntcbiAgICAgICAgdGhpcy5oYW5kbGUoMSwgeyBlbnRpdHksIG1hdGNoLCByZXNvbHZlciwgZ2FtZUNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZShpbmRleDogbnVtYmVyLCB0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1t0aWxlQ29sbGlzaW9uQ29udGV4dC5tYXRjaC50aWxlLnR5cGVdO1xuICAgIGlmKCFoYW5kbGVyIHx8ICFoYW5kbGVyW2luZGV4XSkgcmV0dXJuO1xuICAgIGhhbmRsZXJbaW5kZXhdKHRpbGVDb2xsaXNpb25Db250ZXh0KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVyIHtcbiAgcHVibGljIHVwZGF0ZTogKGR0OiBudW1iZXIpID0+IHZvaWQ7XG4gIHByaXZhdGUgdXBkYXRlUHJveHk6IChkdDogbnVtYmVyKSA9PiB2b2lkO1xuICBwcml2YXRlIHJ1bm5pbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29uc3RydWN0b3IoZGVsdGFUaW1lOiBudW1iZXIgPSAxLzYwKXtcbiAgICBsZXQgYWNjdW11bGF0ZWRUaW1lID0gMCwgbGFzdFRpbWUgPSAwO1xuXG4gICAgdGhpcy51cGRhdGVQcm94eSA9ICh0aW1lOiBudW1iZXIgPSAwKSA9PiB7XG4gICAgICBhY2N1bXVsYXRlZFRpbWUgKz0gKHRpbWUgLSBsYXN0VGltZSkgLyAxMDAwO1xuXG4gICAgICBpZihhY2N1bXVsYXRlZFRpbWUgPiAxKSBhY2N1bXVsYXRlZFRpbWUgPSAxO1xuICBcbiAgICAgIHdoaWxlKGFjY3VtdWxhdGVkVGltZSA+IGRlbHRhVGltZSl7XG4gICAgICAgIHRoaXMudXBkYXRlKGRlbHRhVGltZSlcbiAgICAgICAgYWNjdW11bGF0ZWRUaW1lIC09IGRlbHRhVGltZTtcbiAgICAgIH1cblxuICAgICAgbGFzdFRpbWUgPSB0aW1lO1xuXG4gICAgICB0aGlzLmVucXVldWUoKTtcbiAgICB9XG4gIH1cbiAgZW5xdWV1ZSgpe1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZVByb3h5KTtcbiAgfVxuICBzdGFydCgpe1xuICAgIGlmKHRoaXMucnVubmluZykgcmV0dXJuO1xuICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgdGhpcy5lbnF1ZXVlKCk7XG4gIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlQW5pbShmcmFtZXM6IHN0cmluZ1tdLCBmcmFtZUxlbjogbnVtYmVyKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlc29sdmVGcmFtZShkaXN0YW5jZTogbnVtYmVyKXtcbiAgICByZXR1cm4gZnJhbWVzW01hdGguZmxvb3IoZGlzdGFuY2UgLyBmcmFtZUxlbikgJSBmcmFtZXMubGVuZ3RoXTtcbiAgfVxufSIsImltcG9ydCBNYXJpbywgeyBsb2FkTWFyaW8gfSBmcm9tICcuL2VudGl0aWVzL01hcmlvJztcbmltcG9ydCBHb29tYmEsIHsgbG9hZEdvb21iYSB9IGZyb20gJy4vZW50aXRpZXMvR29vbWJhJztcbmltcG9ydCBLb29wYSwgeyBsb2FkS29vcGEgfSBmcm9tICcuL2VudGl0aWVzL0tvb3BhJztcbmltcG9ydCBFbnRpdHkgZnJvbSAnLi9FbnRpdHknO1xuaW1wb3J0IEJ1bGxldCwgeyBsb2FkQnVsbGV0IH0gZnJvbSAnLi9lbnRpdGllcy9CdWxsZXQnO1xuaW1wb3J0IENhbm5vbiwgeyBsb2FkQ2Fubm9uIH0gZnJvbSAnLi9lbnRpdGllcy9DYW5ub24nO1xuXG5leHBvcnQgdHlwZSBFbnRpdHlDcmVhdG9yPFQgZXh0ZW5kcyBFbnRpdHk+ID0gKCkgPT4gVDtcblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlGYWN0b3J5IHtcbiAgW2tleTogc3RyaW5nXTogRW50aXR5Q3JlYXRvcjxFbnRpdHk+O1xuICBtYXJpbz86IEVudGl0eUNyZWF0b3I8TWFyaW8+LFxuICBnb29tYmE/OiBFbnRpdHlDcmVhdG9yPEdvb21iYT4sXG4gIGtvb3BhPzogRW50aXR5Q3JlYXRvcjxLb29wYT4sXG4gIGJ1bGxldD86IEVudGl0eUNyZWF0b3I8QnVsbGV0PixcbiAgY2Fubm9uPzogRW50aXR5Q3JlYXRvcjxDYW5ub24+LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVudGl0aWVzKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8RW50aXR5RmFjdG9yeT4ge1xuICBjb25zdCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5ID0ge307XG5cbiAgZnVuY3Rpb24gYWRkQXMobmFtZTogc3RyaW5nKXtcbiAgICByZXR1cm4gKGZhY3Rvcnk6IEVudGl0eUNyZWF0b3I8RW50aXR5PikgPT4gZW50aXR5RmFjdG9yeVtuYW1lXSA9IGZhY3Rvcnk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgIGxvYWRNYXJpbyhhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ21hcmlvJykpLFxuICAgIGxvYWRHb29tYmEoYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdnb29tYmEnKSksXG4gICAgbG9hZEtvb3BhKGF1ZGlvQ29udGV4dCkudGhlbihhZGRBcygna29vcGEnKSksXG4gICAgbG9hZEJ1bGxldChhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ2J1bGxldCcpKSxcbiAgICBsb2FkQ2Fubm9uKGF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeSkudGhlbihhZGRBcygnY2Fubm9uJykpLFxuICBdKVxuICAudGhlbigoKSA9PiBlbnRpdHlGYWN0b3J5KTtcbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IGxvYWRTcHJpdGVTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL3Nwcml0ZVwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IEdyYXZpdHkgZnJvbSBcIi4uL3RyYWl0cy9HcmF2aXR5XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4uL3RyYWl0cy9LaWxsYWJsZVwiO1xuaW1wb3J0IFBoeXNpY3MgZnJvbSBcIi4uL3RyYWl0cy9QaHlzaWNzXCI7XG5pbXBvcnQgU29saWQgZnJvbSBcIi4uL3RyYWl0cy9Tb2xpZFwiO1xuaW1wb3J0IFN0b21wZXIgZnJvbSBcIi4uL3RyYWl0cy9TdG9tcGVyXCI7XG5pbXBvcnQgVmVsb2NpdHkgZnJvbSBcIi4uL3RyYWl0cy9WZWxvY2l0eVwiO1xuaW1wb3J0IE1hcmlvIGZyb20gXCIuL01hcmlvXCI7XG5cbmNsYXNzIEJlaGF2aW9yIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGdyYXZpdHk6IEdyYXZpdHkgPSBuZXcgR3Jhdml0eSgpO1xuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IHN0b21wZXIgPSB0aGVtLmdldFRyYWl0KCdzdG9tcGVyJyk7XG4gICAgaWYodXMgaW5zdGFuY2VvZiBCdWxsZXQgJiYgIXVzLmtpbGxhYmxlLmRlYWQgJiYgc3RvbXBlciBpbnN0YW5jZW9mIFN0b21wZXIpe1xuICAgICAgaWYodGhlbS52ZWwueSA+IHVzLnZlbC55KXtcbiAgICAgICAgdXMua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB1cy52ZWwuc2V0KDEwMCwgLTIwMCk7XG4gICAgICB9ZWxzZSBpZih0aGVtIGluc3RhbmNlb2YgTWFyaW8pe1xuICAgICAgICB0aGVtLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGlmKCEoZW50aXR5IGluc3RhbmNlb2YgQnVsbGV0KSkgcmV0dXJuO1xuICAgIGlmKGVudGl0eS5raWxsYWJsZS5kZWFkKXtcbiAgICAgIHRoaXMuZ3Jhdml0eS51cGRhdGUoZW50aXR5LCBnYW1lQ29udGV4dCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldCBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyB2ZWxvY2l0eTogVmVsb2NpdHk7XG4gIHB1YmxpYyBiZWhhdmlvcjogQmVoYXZpb3I7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3ZlbG9jaXR5JywgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWxvY2l0eSgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdidWxsZXQnLCB0aGlzLmJlaGF2aW9yID0gbmV3IEJlaGF2aW9yKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2tpbGxhYmxlJywgdGhpcy5raWxsYWJsZSA9IG5ldyBLaWxsYWJsZSgpKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBCdWxsZXRGYWN0b3J5ID0gKCkgPT4gQnVsbGV0O1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEJ1bGxldChhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEJ1bGxldEZhY3Rvcnk+IHtcbiAgcmV0dXJuIGxvYWRTcHJpdGVTaGVldCgnYnVsbGV0JylcbiAgLnRoZW4oY3JlYXRlQnVsbGV0RmFjdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1bGxldEZhY3Rvcnkoc3ByaXRlczogU3ByaXRlU2hlZXQpIDogQnVsbGV0RmFjdG9yeSB7XG4gIGZ1bmN0aW9uIGRyYXdCdWxsZXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdygnYnVsbGV0JywgY3R4LCAwLCAwLCB0aGlzLnZlbC54IDwgMCk7XG4gIH1cbiAgXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVCdWxsZXQoKXtcbiAgICBjb25zdCBidWxsZXQgPSBuZXcgQnVsbGV0KCk7XG4gICAgYnVsbGV0LnNpemUuc2V0KDE2LCAxNik7XG5cbiAgICBidWxsZXQuZHJhdyA9IGRyYXdCdWxsZXQ7XG5cbiAgICByZXR1cm4gYnVsbGV0O1xuICB9XG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4uL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCB7IEVudGl0eUZhY3RvcnkgfSBmcm9tIFwiLi4vZW50aXRpZXNcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZEF1ZGlvQm9hcmQgfSBmcm9tIFwiLi4vbG9hZGVycy9hdWRpb1wiO1xuaW1wb3J0IHsgZmluZFBsYXllcnMgfSBmcm9tIFwiLi4vcGxheWVyXCI7XG5pbXBvcnQgRW1pdHRlciBmcm9tIFwiLi4vdHJhaXRzL0VtaXR0ZXJcIjtcblxuY29uc3QgSE9MRF9GSVJFX1RIUkVTSE9MRCA9IDMwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW5ub24gZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgZW1pdHRlcjogRW1pdHRlcjtcblxuICBjb25zdHJ1Y3RvcihhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKXtcbiAgICBzdXBlcihhdWRpb0JvYXJkKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdlbWl0dGVyJywgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKSk7XG4gICAgdGhpcy5zaXplLnNldCgxNiwgMTQpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIENhbm5vbkZhY3RvcnkgPSAoKSA9PiBDYW5ub247XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ2Fubm9uKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KSA6IFByb21pc2U8Q2Fubm9uRmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZEF1ZGlvQm9hcmQoJ2Nhbm5vbicsIGF1ZGlvQ29udGV4dClcbiAgLnRoZW4oYXVkaW8gPT4ge1xuICAgIHJldHVybiBjcmVhdGVDYW5ub25GYWN0b3J5KGF1ZGlvLCBlbnRpdHlGYWN0b3J5KTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlQ2Fubm9uRmFjdG9yeShhdWRpb0JvYXJkOiBBdWRpb0JvYXJkLCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KSA6IENhbm5vbkZhY3Rvcnkge1xuICBmdW5jdGlvbiBlbWl0QnVsbGV0KGVudGl0eTogRW50aXR5LCBsZXZlbDogTGV2ZWwpe1xuICAgIGlmKCEoZW50aXR5IGluc3RhbmNlb2YgQ2Fubm9uKSkgcmV0dXJuO1xuXG4gICAgbGV0IGRpcjtcbiAgICBmb3IoY29uc3QgcGxheWVyIG9mIGZpbmRQbGF5ZXJzKGxldmVsKSl7XG4gICAgICBkaXIgPSBwbGF5ZXIucG9zLnggLSBlbnRpdHkucG9zLng7XG4gICAgICBpZihNYXRoLmFicyhwbGF5ZXIucG9zLnggLSBlbnRpdHkucG9zLngpIDw9IEhPTERfRklSRV9USFJFU0hPTEQpe1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYnVsbGV0ID0gZW50aXR5RmFjdG9yeS5idWxsZXQoKTtcbiAgICBidWxsZXQucG9zLmNvcHkoZW50aXR5LnBvcyk7XG4gICAgYnVsbGV0LnZlbC54ID0gODAgKiBNYXRoLnNpZ24oZGlyKTtcblxuICAgIGVudGl0eS5zb3VuZHMuYWRkKCdzaG9vdCcpO1xuICAgIGxldmVsLmVudGl0aWVzLmFkZChidWxsZXQpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUNhbm5vbigpe1xuICAgIGNvbnN0IGNhbm5vbiA9IG5ldyBDYW5ub24oYXVkaW9Cb2FyZCk7XG5cbiAgICBjYW5ub24uZW1pdHRlci5pbnRlcnZhbCA9IDQ7XG4gICAgY2Fubm9uLmVtaXR0ZXIuZW1pdHRlcnMucHVzaChlbWl0QnVsbGV0KTtcblxuICAgIHJldHVybiBjYW5ub247XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnMvc3ByaXRlXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4uL3RyYWl0cy9LaWxsYWJsZVwiO1xuaW1wb3J0IFBlbmR1bHVtTW92ZSBmcm9tIFwiLi4vdHJhaXRzL1BlbmR1bHVtTW92ZVwiO1xuaW1wb3J0IFBoeXNpY3MgZnJvbSBcIi4uL3RyYWl0cy9QaHlzaWNzXCI7XG5pbXBvcnQgU29saWQgZnJvbSBcIi4uL3RyYWl0cy9Tb2xpZFwiO1xuaW1wb3J0IFN0b21wZXIgZnJvbSBcIi4uL3RyYWl0cy9TdG9tcGVyXCI7XG5pbXBvcnQgTWFyaW8gZnJvbSBcIi4vTWFyaW9cIjtcblxuY2xhc3MgQmVoYXZpb3IgZXh0ZW5kcyBUcmFpdCB7XG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IHN0b21wZXIgPSB0aGVtLmdldFRyYWl0KCdzdG9tcGVyJyk7XG4gICAgaWYodXMgaW5zdGFuY2VvZiBHb29tYmEgJiYgIXVzLmtpbGxhYmxlLmRlYWQgJiYgc3RvbXBlciBpbnN0YW5jZW9mIFN0b21wZXIpe1xuICAgICAgaWYodGhlbS52ZWwueSA+IHVzLnZlbC55KXtcbiAgICAgICAgdXMua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB1cy5wZW5kdWx1bU1vdmUuc3BlZWQgPSAwO1xuICAgICAgfWVsc2UgaWYodGhlbSBpbnN0YW5jZW9mIE1hcmlvKXtcbiAgICAgICAgdGhlbS5raWxsYWJsZS5raWxsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdvb21iYSBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyBwaHlzaWNzOiBQaHlzaWNzO1xuICBwdWJsaWMgc29saWQ6IFNvbGlkO1xuICBwdWJsaWMgcGVuZHVsdW1Nb3ZlOiBQZW5kdWx1bU1vdmU7XG4gIHB1YmxpYyBiZWhhdmlvcjogQmVoYXZpb3I7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BoeXNpY3MnLCB0aGlzLnBoeXNpY3MgPSBuZXcgUGh5c2ljcygpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdzb2xpZCcsIHRoaXMuc29saWQgPSBuZXcgU29saWQoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGVuZHVsdW1Nb3ZlJywgdGhpcy5wZW5kdWx1bU1vdmUgPSBuZXcgUGVuZHVsdW1Nb3ZlKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2dvb21iYScsIHRoaXMuYmVoYXZpb3IgPSBuZXcgQmVoYXZpb3IoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgna2lsbGFibGUnLCB0aGlzLmtpbGxhYmxlID0gbmV3IEtpbGxhYmxlKCkpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEdvb21iYUZhY3RvcnkgPSAoKSA9PiBHb29tYmE7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkR29vbWJhKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8R29vbWJhRmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZFNwcml0ZVNoZWV0KCdnb29tYmEnKVxuICAudGhlbihjcmVhdGVHb29tYmFGYWN0b3J5KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlR29vbWJhRmFjdG9yeShzcHJpdGVzOiBTcHJpdGVTaGVldCkgOiBHb29tYmFGYWN0b3J5IHtcbiAgY29uc3Qgd2Fsa0FuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbignd2FsaycpO1xuXG4gIGZ1bmN0aW9uIHJvdXRlQW5pbShnb29tYmE6IEdvb21iYSkgOiBzdHJpbmcge1xuICAgIGlmKGdvb21iYS5raWxsYWJsZS5kZWFkKXtcbiAgICAgIHJldHVybiAnZmxhdCc7XG4gICAgfVxuICAgIHJldHVybiB3YWxrQW5pbShnb29tYmEubGlmZXRpbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd0dvb21iYShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgc3ByaXRlcy5kcmF3KHJvdXRlQW5pbSh0aGlzKSwgY3R4LCAwLCAwKTtcbiAgfVxuICBcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUdvb21iYSgpe1xuICAgIGNvbnN0IGdvb21iYSA9IG5ldyBHb29tYmEoKTtcbiAgICBnb29tYmEuc2l6ZS5zZXQoMTYsIDE2KTtcblxuICAgIGdvb21iYS5kcmF3ID0gZHJhd0dvb21iYTtcblxuICAgIHJldHVybiBnb29tYmE7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IGxvYWRTcHJpdGVTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL3Nwcml0ZVwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IEtpbGxhYmxlIGZyb20gXCIuLi90cmFpdHMvS2lsbGFibGVcIjtcbmltcG9ydCBQZW5kdWx1bU1vdmUgZnJvbSBcIi4uL3RyYWl0cy9QZW5kdWx1bU1vdmVcIjtcbmltcG9ydCBQaHlzaWNzIGZyb20gXCIuLi90cmFpdHMvUGh5c2ljc1wiO1xuaW1wb3J0IFNvbGlkIGZyb20gXCIuLi90cmFpdHMvU29saWRcIjtcbmltcG9ydCBTdG9tcGVyIGZyb20gXCIuLi90cmFpdHMvU3RvbXBlclwiO1xuaW1wb3J0IE1hcmlvIGZyb20gXCIuL01hcmlvXCI7XG5cbmVudW0gS29vcGFTdGF0ZSB7XG4gIFdBTEtJTkcsIEhJRElORywgUEFOSUMsXG59XG5cbmNsYXNzIEJlaGF2aW9yIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgc3RhdGU6IEtvb3BhU3RhdGUgPSBLb29wYVN0YXRlLldBTEtJTkc7XG4gIHB1YmxpYyBoaWRlVGltZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBoaWRlRHVyYXRpb246IG51bWJlciA9IDU7XG4gIHByaXZhdGUgcGFuaWNTcGVlZDogbnVtYmVyID0gMzAwO1xuICBwcml2YXRlIHdhbGtTcGVlZDogbnVtYmVyID0gbnVsbDtcblxuICBjb2xsaWRlcyh1czogRW50aXR5LCB0aGVtOiBFbnRpdHkpOiB2b2lkIHtcbiAgICBjb25zdCBzdG9tcGVyID0gdGhlbS5nZXRUcmFpdCgnc3RvbXBlcicpO1xuICAgIGlmKHVzIGluc3RhbmNlb2YgS29vcGEgJiYgIXVzLmtpbGxhYmxlLmRlYWQgJiYgc3RvbXBlciBpbnN0YW5jZW9mIFN0b21wZXIpe1xuICAgICAgaWYodGhlbS52ZWwueSA+IHVzLnZlbC55KXtcbiAgICAgICAgdGhpcy5oYW5kbGVTdG9tcCh1cywgdGhlbSk7XG4gICAgICB9ZWxzZSBpZih0aGVtIGluc3RhbmNlb2YgTWFyaW8pe1xuICAgICAgICB0aGlzLmhhbmRsZU51ZGdlKHVzLCB0aGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVOdWRnZSh1czogS29vcGEsIHRoZW06IE1hcmlvKXtcbiAgICBzd2l0Y2godGhpcy5zdGF0ZSl7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuV0FMS0lORzogdGhlbS5raWxsYWJsZS5raWxsKCk7IGJyZWFrO1xuICAgICAgY2FzZSBLb29wYVN0YXRlLkhJRElORzogdGhpcy5wYW5pYyh1cywgdGhlbSk7IGJyZWFrO1xuICAgICAgY2FzZSBLb29wYVN0YXRlLlBBTklDOiB7XG4gICAgICAgIGNvbnN0IHRyYXZlbERpciA9IE1hdGguc2lnbih1cy52ZWwueCk7XG4gICAgICAgIGNvbnN0IGltcGFjdERpciA9IE1hdGguc2lnbih1cy5wb3MueCAtIHRoZW0ucG9zLngpO1xuICAgICAgICBpZih0cmF2ZWxEaXIgIT09IDAgJiYgdHJhdmVsRGlyICE9PSBpbXBhY3REaXIpe1xuICAgICAgICAgIHRoZW0ua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB9XG4gICAgICB9IGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVN0b21wKHVzOiBLb29wYSwgdGhlbTogRW50aXR5KXtcbiAgICBzd2l0Y2godGhpcy5zdGF0ZSl7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuV0FMS0lORzogdGhpcy5oaWRlKHVzKTsgYnJlYWs7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuSElESU5HOiB7XG4gICAgICAgIHVzLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgICAgdXMudmVsLnNldCgxMDAsIC0yMDApO1xuICAgICAgICB1cy5zb2xpZC5vYnN0cnVjdHMgPSBmYWxzZTtcbiAgICAgIH0gYnJlYWs7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuUEFOSUM6IHRoaXMuaGlkZSh1cyk7IGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGhpZGUodXM6IEtvb3BhKXtcbiAgICB1cy52ZWwueCA9IDA7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBpZighdGhpcy53YWxrU3BlZWQpIHRoaXMud2Fsa1NwZWVkID0gdXMucGVuZHVsdW1Nb3ZlLnNwZWVkO1xuICAgIHRoaXMuc3RhdGUgPSBLb29wYVN0YXRlLkhJRElORztcbiAgICB0aGlzLmhpZGVUaW1lID0gMDtcbiAgfVxuXG4gIHBhbmljKHVzOiBLb29wYSwgdGhlbTogRW50aXR5KXtcbiAgICB1cy5wZW5kdWx1bU1vdmUuZW5hYmxlZCA9IHRydWU7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLnNwZWVkID0gdGhpcy5wYW5pY1NwZWVkICogTWF0aC5zaWduKHRoZW0udmVsLngpO1xuICAgIHRoaXMuc3RhdGUgPSBLb29wYVN0YXRlLlBBTklDO1xuICB9XG5cbiAgdW5oaWRlKHVzOiBLb29wYSl7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLmVuYWJsZWQgPSB0cnVlO1xuICAgIHVzLnBlbmR1bHVtTW92ZS5zcGVlZCA9IHRoaXMud2Fsa1NwZWVkO1xuICAgIHRoaXMuc3RhdGUgPSBLb29wYVN0YXRlLldBTEtJTkc7XG4gIH1cblxuICB1cGRhdGUodXM6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBpZighKHVzIGluc3RhbmNlb2YgS29vcGEpKSByZXR1cm47XG4gICAgaWYodGhpcy5zdGF0ZSA9PT0gS29vcGFTdGF0ZS5ISURJTkcpe1xuICAgICAgdGhpcy5oaWRlVGltZSArPSBkdDtcbiAgICAgIGlmKHRoaXMuaGlkZVRpbWUgPiB0aGlzLmhpZGVEdXJhdGlvbil7XG4gICAgICAgIHRoaXMudW5oaWRlKHVzIGFzIEtvb3BhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS29vcGEgZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgcGh5c2ljczogUGh5c2ljcztcbiAgcHVibGljIHNvbGlkOiBTb2xpZDtcbiAgcHVibGljIHBlbmR1bHVtTW92ZTogUGVuZHVsdW1Nb3ZlO1xuICBwdWJsaWMgYmVoYXZpb3I6IEJlaGF2aW9yO1xuICBwdWJsaWMga2lsbGFibGU6IEtpbGxhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwaHlzaWNzJywgdGhpcy5waHlzaWNzID0gbmV3IFBoeXNpY3MoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnc29saWQnLCB0aGlzLnNvbGlkID0gbmV3IFNvbGlkKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BlbmR1bHVtTW92ZScsIHRoaXMucGVuZHVsdW1Nb3ZlID0gbmV3IFBlbmR1bHVtTW92ZSgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdnb29tYmEnLCB0aGlzLmJlaGF2aW9yID0gbmV3IEJlaGF2aW9yKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2tpbGxhYmxlJywgdGhpcy5raWxsYWJsZSA9IG5ldyBLaWxsYWJsZSgpKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBLb29wYUZhY3RvcnkgPSAoKSA9PiBLb29wYTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRLb29wYShhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEtvb3BhRmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZFNwcml0ZVNoZWV0KCdrb29wYScpXG4gIC50aGVuKGNyZWF0ZUtvb3BhRmFjdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtvb3BhRmFjdG9yeShzcHJpdGVzOiBTcHJpdGVTaGVldCkgOiBLb29wYUZhY3Rvcnkge1xuICBjb25zdCB3YWxrQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCd3YWxrJyk7XG4gIGNvbnN0IHdha2VBbmltID0gc3ByaXRlcy5nZXRBbmltYXRpb24oJ3dha2UnKTtcblxuICBmdW5jdGlvbiByb3V0ZUFuaW0oa29vcGE6IEtvb3BhKXtcbiAgICBzd2l0Y2goa29vcGEuYmVoYXZpb3Iuc3RhdGUpe1xuICAgICAgY2FzZSBLb29wYVN0YXRlLkhJRElORzoge1xuICAgICAgICBpZihrb29wYS5iZWhhdmlvci5oaWRlVGltZSA+IDMpIHJldHVybiB3YWtlQW5pbShrb29wYS5saWZldGltZSk7XG4gICAgICB9XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuUEFOSUM6IHJldHVybiAnaGlkaW5nJztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiB3YWxrQW5pbShrb29wYS5saWZldGltZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZHJhd0tvb3BhKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBzcHJpdGVzLmRyYXcocm91dGVBbmltKHRoaXMpLCBjdHgsIDAsIDAsIHRoaXMudmVsLnggPCAwKTtcbiAgfVxuICBcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUtvb3BhKCl7XG4gICAgY29uc3Qga29vcGEgPSBuZXcgS29vcGEoKTtcbiAgICBrb29wYS5zaXplLnNldCgxNiwgMTYpO1xuICAgIGtvb3BhLm9mZnNldC55ID0gODtcblxuICAgIGtvb3BhLmRyYXcgPSBkcmF3S29vcGE7XG5cbiAgICByZXR1cm4ga29vcGE7XG4gIH1cbn0iLCJpbXBvcnQgQXVkaW9Cb2FyZCBmcm9tIFwiLi4vQXVkaW9Cb2FyZFwiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBsb2FkQXVkaW9Cb2FyZCB9IGZyb20gXCIuLi9sb2FkZXJzL2F1ZGlvXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVycy9zcHJpdGVcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBHbyBmcm9tIFwiLi4vdHJhaXRzL0dvXCI7XG5pbXBvcnQgSnVtcCBmcm9tIFwiLi4vdHJhaXRzL0p1bXBcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL3RyYWl0cy9QbGF5ZXJcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcblxuY29uc3QgZW51bSBEcmFnIHtcbiAgU0xPVyA9IDEvMTAwMCxcbiAgRkFTVCA9IDEvNTAwMCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmlvIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHBsYXllcjogUGxheWVyO1xuICBwdWJsaWMgcGh5c2ljczogUGh5c2ljcztcbiAgcHVibGljIHNvbGlkOiBTb2xpZDtcbiAgcHVibGljIGdvOiBHbztcbiAgcHVibGljIGp1bXA6IEp1bXA7XG4gIHB1YmxpYyBzdG9tcGVyOiBTdG9tcGVyO1xuICBwdWJsaWMga2lsbGFibGU6IEtpbGxhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQpe1xuICAgIHN1cGVyKGF1ZGlvQm9hcmQpO1xuICAgIHRoaXMuc2l6ZS5zZXQoMTQsIDE2KTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwbGF5ZXInLCB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGh5c2ljcycsIHRoaXMucGh5c2ljcyA9IG5ldyBQaHlzaWNzKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3NvbGlkJywgdGhpcy5zb2xpZCA9IG5ldyBTb2xpZCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdnbycsIHRoaXMuZ28gPSBuZXcgR28oKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnanVtcCcsIHRoaXMuanVtcCA9IG5ldyBKdW1wKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3N0b21wZXInLCB0aGlzLnN0b21wZXIgPSBuZXcgU3RvbXBlcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gICAgdGhpcy5nby5kcmFnID0gRHJhZy5TTE9XO1xuICB9XG5cbiAgdHVyYm8oZW5hYmxlZDogYm9vbGVhbil7XG4gICAgdGhpcy5nby5kcmFnID0gZW5hYmxlZCA/IERyYWcuRkFTVCA6IERyYWcuU0xPVztcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBNYXJpb0ZhY3RvcnkgPSAoKSA9PiBNYXJpbztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNYXJpbyhhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPE1hcmlvRmFjdG9yeT4ge1xuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgIGxvYWRTcHJpdGVTaGVldCgnbWFyaW8nKSxcbiAgICBsb2FkQXVkaW9Cb2FyZCgnbWFyaW8nLCBhdWRpb0NvbnRleHQpLFxuICBdKVxuICAudGhlbigoW3Nwcml0ZXMsIGF1ZGlvXSkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVNYXJpb0ZhY3Rvcnkoc3ByaXRlcywgYXVkaW8pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFyaW9GYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0LCBhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKSA6IE1hcmlvRmFjdG9yeSB7XG4gIGNvbnN0IHJ1bkFuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbigncnVuJyk7XG5cbiAgZnVuY3Rpb24gcm91dGVGcmFtZShtYXJpbzogTWFyaW8pe1xuICAgIGlmKG1hcmlvLmp1bXAuZmFsbGluZyl7XG4gICAgICByZXR1cm4gJ2p1bXAnO1xuICAgIH1cbiAgICBpZihtYXJpby5nby5kaXN0YW5jZSA+IDApe1xuICAgICAgaWYoKG1hcmlvLnZlbC54ID4gMCAmJiBtYXJpby5nby5kaXIgPCAwKSB8fCAobWFyaW8udmVsLnggPCAwICYmIG1hcmlvLmdvLmRpciA+IDApKVxuICAgICAgICByZXR1cm4gJ2JyZWFrJztcbiAgXG4gICAgICByZXR1cm4gcnVuQW5pbShtYXJpby5nby5kaXN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiAnaWRsZSc7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3TWFyaW8oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdyhyb3V0ZUZyYW1lKHRoaXMpLCBjdHgsIDAsIDAsIHRoaXMuZ28uaGVhZGluZyA8IDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFyaW8oKXtcbiAgICBjb25zdCBtYXJpbyA9IG5ldyBNYXJpbyhhdWRpb0JvYXJkKTtcblxuICAgIG1hcmlvLmRyYXcgPSBkcmF3TWFyaW87XG4gICAgbWFyaW8ua2lsbGFibGUucmVtb3ZlQWZ0ZXIgPSAwO1xuXG4gICAgcmV0dXJuIG1hcmlvO1xuICB9XG59IiwiaW1wb3J0IE1hcmlvIGZyb20gJy4vZW50aXRpZXMvTWFyaW8nO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4vS2V5Ym9hcmRTdGF0ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEtleWJvYXJkKG1hcmlvOiBNYXJpbykgOiBLZXlib2FyZCB7XG4gIGNvbnN0IGlucHV0ID0gbmV3IEtleWJvYXJkKCk7XG4gIFxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlQJywga2V5U3RhdGUgPT4ge1xuICAgIGlmKGtleVN0YXRlKXtcbiAgICAgIG1hcmlvLmp1bXAuc3RhcnQoKTtcbiAgICB9ZWxzZXtcbiAgICAgIG1hcmlvLmp1bXAuY2FuY2VsKCk7XG4gICAgfVxuICB9KTtcbiAgXG4gIGlucHV0LmFkZE1hcHBpbmcoJ0tleU8nLCBrZXlTdGF0ZSA9PiB7XG4gICAgbWFyaW8udHVyYm8oa2V5U3RhdGUgPT09IDEpO1xuICB9KTtcblxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlBJywga2V5U3RhdGUgPT4ge1xuICAgIG1hcmlvLmdvLmRpciArPSBrZXlTdGF0ZSA/IC0xIDogMTtcbiAgfSk7XG4gIFxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlEJywga2V5U3RhdGUgPT4ge1xuICAgIG1hcmlvLmdvLmRpciArPSBrZXlTdGF0ZSA/IDEgOiAtMTtcbiAgfSk7XG4gIFxuICByZXR1cm4gaW5wdXQ7XG59IiwiaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBMZXZlbFRpbGVTcGVjIH0gZnJvbSBcIi4uL2xvYWRlcnMvbGV2ZWxcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgeyBUaWxlUmVzb2x2ZXIgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIobGV2ZWw6IExldmVsLCB0aWxlczogTWF0cml4PExldmVsVGlsZVNwZWM+LCBzcHJpdGVzOiBTcHJpdGVTaGVldCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3QgcmVzb2x2ZXIgPSBuZXcgVGlsZVJlc29sdmVyKHRpbGVzKTtcblxuICBjb25zdCBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIGN0eC5jYW52YXMud2lkdGggPSAyNTYgKyAxNjtcbiAgY3R4LmNhbnZhcy5oZWlnaHQgPSAyNDA7XG5cbiAgZnVuY3Rpb24gcmVkcmF3KGRyYXdGcm9tOiBudW1iZXIsIGRyYXdUbzogbnVtYmVyKXtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcblxuICAgIGZvcihsZXQgeD1kcmF3RnJvbTsgeDw9ZHJhd1RvOyB4Kyspe1xuICAgICAgY29uc3QgY29sID0gdGlsZXMuZ3JpZFt4XTtcbiAgICAgIGlmKCFjb2wpIGNvbnRpbnVlO1xuICAgICAgY29sLmZvckVhY2goKHRpbGUsIHkpPT57XG4gICAgICAgIHNwcml0ZXMuZHJhd0FuaW0odGlsZS5uYW1lLCBjdHgsIHgtZHJhd0Zyb20sIHksIGxldmVsLnRpbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdCYWNrZ3JvdW5kTGF5ZXIoc2NyZWVuLCBjYW1lcmEpeyBcbiAgICBjb25zdCBkcmF3V2lkdGggPSByZXNvbHZlci50b0luZGV4KGNhbWVyYS5zaXplLngpO1xuICAgIGNvbnN0IGRyYXdGcm9tID0gcmVzb2x2ZXIudG9JbmRleChjYW1lcmEucG9zLngpO1xuICAgIGNvbnN0IGRyYXdUbyA9IGRyYXdGcm9tICsgZHJhd1dpZHRoO1xuICAgIHJlZHJhdyhkcmF3RnJvbSwgZHJhd1RvKTtcbiAgICBzY3JlZW4uZHJhd0ltYWdlKFxuICAgICAgY3R4LmNhbnZhcywgXG4gICAgICAtY2FtZXJhLnBvcy54ICUgMTYsIFxuICAgICAgLWNhbWVyYS5wb3MueVxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgQ2FtZXJhIGZyb20gXCIuLi9DYW1lcmFcIjtcbmltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBUaWxlUmVzb2x2ZXIgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmludGVyZmFjZSBWZWMyIHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfTtcblxuZnVuY3Rpb24gY3JlYXRlRW50aXR5TGF5ZXIoZW50aXRpZXM6IFNldDxFbnRpdHk+KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdCb3VuZGluZ0JveChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhOiBDYW1lcmEpe1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgIGVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5yZWN0KFxuICAgICAgICBlbnRpdHkuYm91bmRzLmxlZnQgLSBjYW1lcmEucG9zLngsIFxuICAgICAgICBlbnRpdHkuYm91bmRzLnRvcCAtIGNhbWVyYS5wb3MueSwgXG4gICAgICAgIGVudGl0eS5zaXplLngsIGVudGl0eS5zaXplLnlcbiAgICAgICk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRpbGVDYW5kaWRhdGVMYXllcih0aWxlUmVzb2x2ZXI6IFRpbGVSZXNvbHZlcil7XG4gIGNvbnN0IHJlc29sdmVkVGlsZXM6IFZlYzJbXSA9IFtdO1xuXG4gIGNvbnN0IHRpbGVTaXplID0gdGlsZVJlc29sdmVyLnRpbGVTaXplO1xuXG4gIGNvbnN0IGdldEJ5SW5kZXhPcmlnaW5hbCA9IHRpbGVSZXNvbHZlci5nZXRCeUluZGV4O1xuICB0aWxlUmVzb2x2ZXIuZ2V0QnlJbmRleCA9IGZ1bmN0aW9uIGdldEJ5SW5kZXhGYWtlKHg6IG51bWJlciwgeTogbnVtYmVyKXtcbiAgICByZXNvbHZlZFRpbGVzLnB1c2goe3gsIHl9KTtcbiAgICByZXR1cm4gZ2V0QnlJbmRleE9yaWdpbmFsLmNhbGwodGlsZVJlc29sdmVyLCB4LCB5KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3VGlsZUNhbmRpZGF0ZXMoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmx1ZSc7XG4gICAgcmVzb2x2ZWRUaWxlcy5mb3JFYWNoKCh7eCx5fSkgPT4ge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LnJlY3QoXG4gICAgICAgIHgqdGlsZVNpemUgLSBjYW1lcmEucG9zLngsIFxuICAgICAgICB5KnRpbGVTaXplIC0gY2FtZXJhLnBvcy55LCBcbiAgICAgICAgdGlsZVNpemUsIHRpbGVTaXplXG4gICAgICApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0pO1xuXG4gICAgcmVzb2x2ZWRUaWxlcy5sZW5ndGggPSAwO1xuICB9O1xufVxuIFxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbGxpc2lvbkxheWVyKGxldmVsOiBMZXZlbCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3QgZHJhd1RpbGVDYW5kaWRhdGVzID0gbGV2ZWwudGlsZUNvbGxpZGVyLnJlc29sdmVycy5tYXAoY3JlYXRlVGlsZUNhbmRpZGF0ZUxheWVyKTtcbiAgY29uc3QgZHJhd0JvdW5kaW5nQm94ZXMgPSBjcmVhdGVFbnRpdHlMYXllcihsZXZlbC5lbnRpdGllcyk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdDb2xsaXNpb24oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICBkcmF3VGlsZUNhbmRpZGF0ZXMuZm9yRWFjaChkcmF3ID0+IGRyYXcoY3R4LCBjYW1lcmEpKTtcbiAgICBkcmF3Qm91bmRpbmdCb3hlcyhjdHgsIGNhbWVyYSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCB7IEZvbnRTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL2ZvbnRcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL3RyYWl0cy9QbGF5ZXJcIjtcbmltcG9ydCBQbGF5ZXJDb250cm9sbGVyIGZyb20gXCIuLi90cmFpdHMvUGxheWVyQ29udHJvbGxlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGFzaGJvYXJkTGF5ZXIoZm9udDogRm9udFNoZWV0LCBwbGF5ZXJDb250cm9sbGVyOiBQbGF5ZXJDb250cm9sbGVyKSA6IExheWVyUmVuZGVyZXIge1xuICBjb25zdCBMSU5FMSA9IGZvbnQuc2l6ZTtcbiAgY29uc3QgTElORTIgPSBmb250LnNpemUgKiAyO1xuXG4gIGNvbnN0IGNvaW5zID0gMjY7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdEYXNoYm9hcmQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIGNvbnN0IHRpbWUgPSBNYXRoLm1heCgwLCBwbGF5ZXJDb250cm9sbGVyLnRpbWUpO1xuICAgIGNvbnN0IHBsYXllciA9IHBsYXllckNvbnRyb2xsZXIucGxheWVyLmdldFRyYWl0KCdwbGF5ZXInKSBhcyBQbGF5ZXI7XG5cbiAgICBmb250LmRyYXcoJ01BUklPJywgY3R4LCAxNiwgTElORTEpO1xuICAgIGZvbnQuZHJhdyhwbGF5ZXIuc2NvcmUudG9TdHJpbmcoKS5wYWRTdGFydCg2LCAnMCcpLCBjdHgsIDE2LCBMSU5FMik7XG5cbiAgICBmb250LmRyYXcoYEB4JHtjb2lucy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YCwgY3R4LCA5NiwgTElORTIpO1xuXG4gICAgZm9udC5kcmF3KCdXT1JMRCcsIGN0eCwgMTUyLCBMSU5FMSk7XG4gICAgZm9udC5kcmF3KCcxLTEnLCBjdHgsIDE2MCwgTElORTIpO1xuXG4gICAgZm9udC5kcmF3KCdUSU1FJywgY3R4LCAyMDgsIExJTkUxKTtcbiAgICBmb250LmRyYXcodGltZS50b0ZpeGVkKDApLnBhZFN0YXJ0KDMsICcwJyksIGN0eCwgMjE2LCBMSU5FMik7XG4gIH1cbn0iLCJpbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ByaXRlTGF5ZXIoZW50aXRpZXM6IFNldDxFbnRpdHk+LCB3aWR0aDogbnVtYmVyID0gNjQsIGhlaWdodDogbnVtYmVyID0gNjQpIDogTGF5ZXJSZW5kZXJlciB7XG4gIGNvbnN0IHNwcml0ZUN0eCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XG4gIHNwcml0ZUN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgc3ByaXRlQ3R4LmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICBzcHJpdGVDdHguY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd1Nwcml0ZUxheWVyKGN0eCwgY2FtZXJhKXtcbiAgICBlbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBzcHJpdGVDdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgZW50aXR5LmRyYXcoc3ByaXRlQ3R4KTtcblxuICAgICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgc3ByaXRlQ3R4LmNhbnZhcywgXG4gICAgICAgIGVudGl0eS5wb3MueCAtIGNhbWVyYS5wb3MueCxcbiAgICAgICAgZW50aXR5LnBvcy55IC0gY2FtZXJhLnBvcy55XG4gICAgICApO1xuICAgIH0pXG4gIH1cbn0iLCJleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlKHBhdGg6IHN0cmluZykgOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+e1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gKCk9PnJlc29sdmUoaW1nKTtcbiAgICBpbWcub25lcnJvciA9IHJlamVjdDtcbiAgICBpbWcuc3JjID0gcGF0aDtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkSlNPTihwYXRoOiBzdHJpbmcpIDogUHJvbWlzZTxvYmplY3Q+IHtcbiAgcmV0dXJuIGZldGNoKHBhdGgpLnRoZW4ocmVzPT5yZXMuanNvbigpKTtcbn0iLCJpbXBvcnQgQXVkaW9Cb2FyZCBmcm9tIFwiLi4vQXVkaW9Cb2FyZFwiO1xuaW1wb3J0IHsgbG9hZEpTT04gfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuXG50eXBlIEF1ZGlvTG9hZGVyID0gKHVybDogc3RyaW5nKSA9PiBQcm9taXNlPEF1ZGlvQnVmZmVyPjtcblxuaW50ZXJmYWNlIEF1ZGlvU3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgdXJsOiBzdHJpbmcsXG59XG5pbnRlcmZhY2UgQXVkaW9TaGVldFNwZWMge1xuICBmeDogQXVkaW9TcGVjW10sXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQXVkaW9Cb2FyZChuYW1lOiBzdHJpbmcsIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8QXVkaW9Cb2FyZD4ge1xuICBjb25zdCBsb2FkQXVkaW8gPSBjcmVhdGVBdWRpb0xvYWRlcihhdWRpb0NvbnRleHQpO1xuICBjb25zdCBhdWRpb1NoZWV0ID0gYXdhaXQgbG9hZEpTT04oYC4vc291bmRzLyR7bmFtZX0uanNvbmApIGFzIEF1ZGlvU2hlZXRTcGVjO1xuICBjb25zdCBhdWRpb0JvYXJkID0gbmV3IEF1ZGlvQm9hcmQoKTtcbiAgY29uc3Qgam9iczogYW55W10gPSBbXTtcbiAgYXVkaW9TaGVldC5meC5mb3JFYWNoKCh7IG5hbWUsIHVybCB9KSA9PiB7XG4gICAgam9icy5wdXNoKFxuICAgICAgbG9hZEF1ZGlvKHVybClcbiAgICAgIC50aGVuKGJ1ZmZlciA9PiB7XG4gICAgICAgIGF1ZGlvQm9hcmQuYWRkKG5hbWUsIGJ1ZmZlcik7XG4gICAgICB9KVxuICAgICk7XG4gIH0pO1xuICBhd2FpdCBQcm9taXNlLmFsbChqb2JzKTtcbiAgcmV0dXJuIGF1ZGlvQm9hcmQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBdWRpb0xvYWRlcihjb250ZXh0OiBBdWRpb0NvbnRleHQpIDogQXVkaW9Mb2FkZXIge1xuICByZXR1cm4gZnVuY3Rpb24gbG9hZEF1ZGlvKHVybDogc3RyaW5nKSA6IFByb21pc2U8QXVkaW9CdWZmZXI+IHtcbiAgICByZXR1cm4gZmV0Y2godXJsKVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xuICAgICAgcmV0dXJuIGNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCB7IGxvYWRJbWFnZSB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5cbmNvbnN0IExFVFRFUlMgPSBgICFcIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xcXFxdXl9cXGBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5gXG5cbmV4cG9ydCBjbGFzcyBGb250U2hlZXQge1xuICBwcml2YXRlIHNoZWV0OiBTcHJpdGVTaGVldDtcbiAgcHVibGljIHNpemU6IG51bWJlcjtcbiAgY29uc3RydWN0b3Ioc2hlZXQ6IFNwcml0ZVNoZWV0LCBzaXplOiBudW1iZXIpe1xuICAgIHRoaXMuc2hlZXQgPSBzaGVldDtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICB9XG4gIGRyYXcodGV4dDogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgb2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpe1xuICAgIGZvcihsZXQgeD0wOyB4PHRleHQubGVuZ3RoOyB4Kyspe1xuICAgICAgdGhpcy5zaGVldC5kcmF3KHRleHRbeF0sIGN0eCwgb2Zmc2V0WCArIHggKiB0aGlzLnNpemUsIG9mZnNldFkpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEZvbnQoKSA6IFByb21pc2U8Rm9udFNoZWV0PiB7XG4gIGNvbnN0IGltYWdlID0gYXdhaXQgbG9hZEltYWdlKCcuL3NoZWV0cy9mb250LnBuZycpXG4gIGNvbnN0IHNwcml0ZXMgPSBuZXcgU3ByaXRlU2hlZXQoaW1hZ2UpO1xuXG4gIGNvbnN0IHNpemUgPSA4O1xuICBmb3IobGV0IGk9MDsgaTxMRVRURVJTLmxlbmd0aDsgaSsrKXtcbiAgICBjb25zdCB4ID0gKGkgJiAxNSkgKiBzaXplO1xuICAgIGNvbnN0IHkgPSAoaSA+PiA0KSAqIHNpemU7XG4gICAgc3ByaXRlcy5kZWZpbmUoTEVUVEVSU1tpXSwgeCwgeSwgc2l6ZSwgc2l6ZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IEZvbnRTaGVldChzcHJpdGVzLCBzaXplKTtcbn0iLCJpbXBvcnQgeyBFbnRpdHlGYWN0b3J5IH0gZnJvbSBcIi4uL2VudGl0aWVzXCI7XG5pbXBvcnQgeyBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJzL2JhY2tncm91bmRcIjtcbmltcG9ydCB7IGNyZWF0ZVNwcml0ZUxheWVyIH0gZnJvbSBcIi4uL2xheWVycy9zcHJpdGVcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IGxvYWRKU09OIH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgeyBsb2FkTXVzaWNTaGVldCB9IGZyb20gXCIuL211c2ljXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi9zcHJpdGVcIjtcblxudHlwZSBSYW5nZSA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyPywgbnVtYmVyP107XG5leHBvcnQgaW50ZXJmYWNlIExldmVsVGlsZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHBhdHRlcm4/OiBzdHJpbmcsXG4gIHR5cGU/OiBzdHJpbmcsXG4gIHJhbmdlczogUmFuZ2VbXSxcbn1cbmludGVyZmFjZSBQYXR0ZXJuU3BlYyB7XG4gIHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sXG59XG5pbnRlcmZhY2UgUGF0dGVybnNTcGVjIHtcbiAgW2tleTogc3RyaW5nXTogUGF0dGVyblNwZWMsXG59O1xuaW50ZXJmYWNlIExheWVyU3BlYyB7XG4gIHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sXG59XG5pbnRlcmZhY2UgRW50aXR5U3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgcG9zOiBbbnVtYmVyLCBudW1iZXJdLFxufVxuaW50ZXJmYWNlIExldmVsU3BlYyB7XG4gIHNwcml0ZVNoZWV0OiBzdHJpbmcsXG4gIG11c2ljU2hlZXQ6IHN0cmluZyxcbiAgcGF0dGVybnM6IFBhdHRlcm5zU3BlYyxcbiAgbGF5ZXJzOiBMYXllclNwZWNbXSxcbiAgZW50aXRpZXM6IEVudGl0eVNwZWNbXSxcbn1cbmludGVyZmFjZSBFeHBhbmRlZFRpbGUge1xuICB0aWxlOiBMZXZlbFRpbGVTcGVjLFxuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbn1cblxuZnVuY3Rpb24gc2V0dXBCYWNrZ3JvdW5kcyhsZXZlbFNwZWM6IExldmVsU3BlYywgbGV2ZWw6IExldmVsLCBzcHJpdGVzOiBTcHJpdGVTaGVldCl7XG4gIGxldmVsU3BlYy5sYXllcnMuZm9yRWFjaCgobGF5ZXIsIGkpID0+IHtcbiAgICBjb25zdCBncmlkID0gY3JlYXRlR3JpZChsYXllci50aWxlcywgbGV2ZWxTcGVjLnBhdHRlcm5zKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kTGF5ZXIgPSBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIobGV2ZWwsIGdyaWQsIHNwcml0ZXMpO1xuICAgIGxldmVsLmNvbXAuYWRkKGJhY2tncm91bmRMYXllcik7XG4gICAgbGV2ZWwudGlsZUNvbGxpZGVyLmFkZEdyaWQoZ3JpZCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cEVudGl0aWVzKGxldmVsU3BlYzogTGV2ZWxTcGVjLCBsZXZlbDogTGV2ZWwsIGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3Rvcnkpe1xuICBsZXZlbFNwZWMuZW50aXRpZXMuZm9yRWFjaCgoe25hbWUsIHBvczogW3gsIHldfSkgPT4ge1xuICAgIGNvbnN0IGNyZWF0ZUVudGl0eSA9IGVudGl0eUZhY3RvcnlbbmFtZV07XG4gICAgY29uc3QgZW50aXR5ID0gY3JlYXRlRW50aXR5KCk7XG4gICAgZW50aXR5LnBvcy5zZXQoeCwgeSk7XG4gICAgbGV2ZWwuZW50aXRpZXMuYWRkKGVudGl0eSk7XG4gIH0pXG5cbiAgY29uc3Qgc3ByaXRlTGF5ZXIgPSBjcmVhdGVTcHJpdGVMYXllcihsZXZlbC5lbnRpdGllcyk7XG4gIGxldmVsLmNvbXAuYWRkKHNwcml0ZUxheWVyKTtcbn1cblxudHlwZSBMZXZlbExvYWRlciA9IChuYW1lOiBzdHJpbmcpID0+IFByb21pc2U8TGV2ZWw+O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxldmVsTG9hZGVyKGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3RvcnkpIDogTGV2ZWxMb2FkZXIge1xuICByZXR1cm4gZnVuY3Rpb24gbG9hZExldmVsKG5hbWU6IHN0cmluZykgOiBQcm9taXNlPExldmVsPiB7XG4gICAgcmV0dXJuIChsb2FkSlNPTihgLi9sZXZlbHMvJHtuYW1lfS5qc29uYCkgYXMgUHJvbWlzZTxMZXZlbFNwZWM+KVxuICAgIC50aGVuKGxldmVsU3BlYyA9PiBQcm9taXNlLmFsbChbXG4gICAgICBsZXZlbFNwZWMsXG4gICAgICBsb2FkU3ByaXRlU2hlZXQobGV2ZWxTcGVjLnNwcml0ZVNoZWV0KSxcbiAgICAgIGxvYWRNdXNpY1NoZWV0KGxldmVsU3BlYy5tdXNpY1NoZWV0KSxcbiAgICBdKSlcbiAgICAudGhlbigoW2xldmVsU3BlYywgc3ByaXRlcywgbXVzaWNQbGF5ZXJdKSA9PiB7XG4gICAgICBjb25zdCBsZXZlbCA9IG5ldyBMZXZlbCgpO1xuICAgICAgbGV2ZWwubXVzaWMuc2V0UGxheWVyKG11c2ljUGxheWVyKTtcblxuICAgICAgc2V0dXBCYWNrZ3JvdW5kcyhsZXZlbFNwZWMsIGxldmVsLCBzcHJpdGVzKTtcbiAgICAgIHNldHVwRW50aXRpZXMobGV2ZWxTcGVjLCBsZXZlbCwgZW50aXR5RmFjdG9yeSk7XG4gICAgICBcbiAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVHcmlkKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMpIDogTWF0cml4PExldmVsVGlsZVNwZWM+IHtcbiAgY29uc3QgZ3JpZDogTWF0cml4PExldmVsVGlsZVNwZWM+ID0gbmV3IE1hdHJpeCgpO1xuXG4gIGZvcihjb25zdCB7IHRpbGUsIHgsIHkgfSBvZiBleHBhbmRUaWxlcyh0aWxlcywgcGF0dGVybnMpKXtcbiAgICBncmlkLnNldCh4LCB5LCB0aWxlKTtcbiAgfVxuXG4gIHJldHVybiBncmlkO1xufVxuXG50eXBlIENvb3JkID0geyB4OiBudW1iZXIsIHk6bnVtYmVyIH07XG5mdW5jdGlvbiogZXhwYW5kU3Bhbih4U3RhcnQ6IG51bWJlciwgeExlbjogbnVtYmVyLCB5U3RhcnQ6IG51bWJlciwgeUxlbjogbnVtYmVyKSA6IEdlbmVyYXRvcjxDb29yZD4ge1xuICBjb25zdCB4RW5kID0geFN0YXJ0ICsgeExlbiwgeUVuZCA9IHlTdGFydCArIHlMZW47XG4gIGZvcihsZXQgeD14U3RhcnQ7IHg8eEVuZDsgeCsrKXtcbiAgICBmb3IobGV0IHk9eVN0YXJ0OyB5PHlFbmQ7IHkrKyl7XG4gICAgICB5aWVsZCB7IHgsIHkgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwYW5kUmFuZ2UocmFuZ2U6IFJhbmdlKSA6IEdlbmVyYXRvcjxDb29yZD4ge1xuICBzd2l0Y2gocmFuZ2UubGVuZ3RoKXtcbiAgICBjYXNlIDQ6IHJldHVybiBleHBhbmRTcGFuKC4uLnJhbmdlKTtcbiAgICBjYXNlIDM6IHJldHVybiBleHBhbmRTcGFuKHJhbmdlWzBdLCByYW5nZVsxXSwgcmFuZ2VbMl0sIDEpO1xuICAgIGNhc2UgMjogcmV0dXJuIGV4cGFuZFNwYW4ocmFuZ2VbMF0sIDEsIHJhbmdlWzFdLCAxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogZXhwYW5kUmFuZ2VzKHJhbmdlczogUmFuZ2VbXSkgOiBHZW5lcmF0b3I8YW55PiB7XG4gIGZvcihjb25zdCByYW5nZSBvZiByYW5nZXMpe1xuICAgIHlpZWxkKiBleHBhbmRSYW5nZShyYW5nZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24qIGV4cGFuZFRpbGVzKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMpIDogR2VuZXJhdG9yPEV4cGFuZGVkVGlsZT4ge1xuICBmdW5jdGlvbiogd2Fsa1RpbGVzKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyKSA6IEdlbmVyYXRvcjxFeHBhbmRlZFRpbGU+IHtcbiAgICBmb3IoY29uc3QgdGlsZSBvZiB0aWxlcyl7XG4gICAgICBmb3IoY29uc3QgeyB4LCB5IH0gb2YgZXhwYW5kUmFuZ2VzKHRpbGUucmFuZ2VzKSl7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRYID0geCArIG9mZnNldFgsIGRlcml2ZWRZID0geSArIG9mZnNldFk7XG4gICAgICAgIGlmKHRpbGUucGF0dGVybil7XG4gICAgICAgICAgY29uc3QgdGlsZXMgPSBwYXR0ZXJuc1t0aWxlLnBhdHRlcm5dLnRpbGVzO1xuICAgICAgICAgIHlpZWxkKiB3YWxrVGlsZXModGlsZXMsIGRlcml2ZWRYLCBkZXJpdmVkWSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICB4OiBkZXJpdmVkWCxcbiAgICAgICAgICAgIHk6IGRlcml2ZWRZLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB5aWVsZCogd2Fsa1RpbGVzKHRpbGVzLCAwLCAwKTtcbn0iLCJpbXBvcnQgeyBsb2FkSlNPTiB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5pbXBvcnQgTXVzaWNQbGF5ZXIgZnJvbSBcIi4uL011c2ljUGxheWVyXCI7XG5cbmludGVyZmFjZSBNdXNpY1NwZWMge1xuICB1cmw6IHN0cmluZyxcbn1cbmludGVyZmFjZSBNdXNpY1NoZWV0U3BlYyB7XG4gIFtuYW1lOiBzdHJpbmddOiBNdXNpY1NwZWMsXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkTXVzaWNTaGVldChuYW1lOiBzdHJpbmcpIDogUHJvbWlzZTxNdXNpY1BsYXllcj4ge1xuICBjb25zdCBtdXNpY1NoZWV0ID0gYXdhaXQgbG9hZEpTT04oYC4vbXVzaWMvJHtuYW1lfS5qc29uYCkgYXMgTXVzaWNTaGVldFNwZWM7XG4gIGNvbnN0IG11c2ljUGxheWVyID0gbmV3IE11c2ljUGxheWVyKCk7XG4gIGZvcihjb25zdCBbbmFtZSwgdHJhY2tdIG9mIE9iamVjdC5lbnRyaWVzKG11c2ljU2hlZXQpKXtcbiAgICBtdXNpY1BsYXllci5hZGRUcmFjayhuYW1lLCB0cmFjay51cmwpO1xuICB9XG4gIHJldHVybiBtdXNpY1BsYXllcjtcbn0iLCJpbXBvcnQgeyBjcmVhdGVBbmltIH0gZnJvbSBcIi4uL2FuaW1cIjtcbmltcG9ydCB7IGxvYWRJbWFnZSwgbG9hZEpTT04gfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRpbGVTcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICBpbmRleDogW251bWJlciwgbnVtYmVyXSxcbn1cbmludGVyZmFjZSBGcmFtZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHJlY3Q6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxufVxuaW50ZXJmYWNlIEFuaW1hdGlvblNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIGZyYW1lTGVuOiBudW1iZXIsXG4gIGZyYW1lczogc3RyaW5nW10sXG59XG5pbnRlcmZhY2UgU2hlZXRTcGVjIHtcbiAgaW1hZ2VVUkw6IHN0cmluZyxcbiAgdGlsZVc6IG51bWJlciwgdGlsZUg6IG51bWJlcixcbiAgdGlsZXM/OiBUaWxlU3BlY1tdLFxuICBmcmFtZXM/OiBGcmFtZVNwZWNbXSxcbiAgYW5pbWF0aW9ucz86IEFuaW1hdGlvblNwZWNbXSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRTcHJpdGVTaGVldChuYW1lOiBzdHJpbmcpe1xuICByZXR1cm4gKGxvYWRKU09OKGAuL3Nwcml0ZXMvJHtuYW1lfS5qc29uYCkgYXMgUHJvbWlzZTxTaGVldFNwZWM+KVxuICAudGhlbihzaGVldFNwZWMgPT4gUHJvbWlzZS5hbGwoW1xuICAgIHNoZWV0U3BlYyxcbiAgICBsb2FkSW1hZ2Uoc2hlZXRTcGVjLmltYWdlVVJMKSxcbiAgXSkpXG4gIC50aGVuKChbc2hlZXRTcGVjLCBpbWFnZV0pPT57XG4gICAgY29uc3Qgc3ByaXRlcyA9IG5ldyBTcHJpdGVTaGVldChpbWFnZSwgc2hlZXRTcGVjLnRpbGVXLCBzaGVldFNwZWMudGlsZUgpO1xuXG4gICAgaWYoc2hlZXRTcGVjLnRpbGVzKXtcbiAgICAgIHNoZWV0U3BlYy50aWxlcy5mb3JFYWNoKHRpbGVTcGVjID0+IHtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmVUaWxlKHRpbGVTcGVjLm5hbWUsIC4uLnRpbGVTcGVjLmluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKHNoZWV0U3BlYy5mcmFtZXMpe1xuICAgICAgc2hlZXRTcGVjLmZyYW1lcy5mb3JFYWNoKCh7bmFtZSwgcmVjdH0pID0+IHtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmUobmFtZSwgLi4ucmVjdCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihzaGVldFNwZWMuYW5pbWF0aW9ucyl7XG4gICAgICBzaGVldFNwZWMuYW5pbWF0aW9ucy5mb3JFYWNoKCh7bmFtZSwgZnJhbWVMZW4sIGZyYW1lc30pID0+IHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gY3JlYXRlQW5pbShmcmFtZXMsIGZyYW1lTGVuKTtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmVBbmltKG5hbWUsIGFuaW1hdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3ByaXRlcztcbiAgfSlcbn0iLCJ0eXBlIE1hdHJpeENhbGxiYWNrPFQ+ID0gKHg6IG51bWJlciwgeTogbnVtYmVyLCB0aWxlOiBUKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgTWF0cml4PFQ+IHtcbiAgcHVibGljIGdyaWQ6IFRbXVtdO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMuZ3JpZCA9IFtdO1xuICB9XG4gIGRlbGV0ZSh4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgY29uc3QgY29sID0gdGhpcy5ncmlkW3hdO1xuICAgIGlmKGNvbCkgZGVsZXRlIGNvbFt5XTtcbiAgfVxuICBnZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpIDogVCB7XG4gICAgY29uc3QgY29sID0gdGhpcy5ncmlkW3hdO1xuICAgIGlmKGNvbCkgcmV0dXJuIGNvbFt5XTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgdmFsdWU6IFQpe1xuICAgIGlmKCF0aGlzLmdyaWRbeF0pIHRoaXMuZ3JpZFt4XSA9IFtdO1xuICAgIHRoaXMuZ3JpZFt4XVt5XSA9IHZhbHVlO1xuICB9XG4gIGZvckVhY2goY2FsbGJhY2s6IE1hdHJpeENhbGxiYWNrPFQ+KXtcbiAgICB0aGlzLmdyaWQuZm9yRWFjaCgoY29sdW1ucywgeCkgPT4ge1xuICAgICAgY29sdW1ucy5mb3JFYWNoKCh0aWxlLCB5KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKHgsIHksIHRpbGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZlY3RvciB7XG4gIHB1YmxpYyB4OiBudW1iZXI7XG4gIHB1YmxpYyB5OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApe1xuICAgIHRoaXMuc2V0KHgsIHkpO1xuICB9XG4gIGNvcHkoc291cmNlOiBWZWN0b3Ipe1xuICAgIHRoaXMuc2V0KHNvdXJjZS54LCBzb3VyY2UueSk7XG4gIH1cbiAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8gZnJvbSBcIi4vZW50aXRpZXMvTWFyaW9cIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4vTGV2ZWxcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vdHJhaXRzL1BsYXllclwiO1xuaW1wb3J0IFBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vdHJhaXRzL1BsYXllckNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBsYXllckVudihwbGF5ZXI6IE1hcmlvKSA6IEVudGl0eSB7XG4gIGNvbnN0IGVudiA9IG5ldyBFbnRpdHkoKTtcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBQbGF5ZXJDb250cm9sbGVyKCk7XG4gIGNvbnRyb2xsZXIuY2hlY2twb2ludC5zZXQoNjQsIDY0KTtcbiAgY29udHJvbGxlci5zZXRQbGF5ZXIocGxheWVyKTtcbiAgZW52LmFkZFRyYWl0KCdjb250cm9sbGVyJywgY29udHJvbGxlcik7XG4gIHJldHVybiBlbnY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogZmluZFBsYXllcnMobGV2ZWw6IExldmVsKSA6IEdlbmVyYXRvcjxFbnRpdHk+IHtcbiAgZm9yKGNvbnN0IGVudGl0eSBvZiBsZXZlbC5lbnRpdGllcyl7XG4gICAgaWYoZW50aXR5LmdldFRyYWl0KCdwbGF5ZXInKSBpbnN0YW5jZW9mIFBsYXllcikgeWllbGQgZW50aXR5O1xuICB9XG59IiwiaW1wb3J0IHsgU2lkZXMgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBUaWxlQ29sbGlzaW9uQ29udGV4dCB9IGZyb20gXCIuLi9UaWxlQ29sbGlkZXJcIjtcblxuZnVuY3Rpb24gaGFuZGxlWCh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnggPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLnJpZ2h0ID4gbWF0Y2gueDEpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlJJR0hULCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnggPCAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmxlZnQgPCBtYXRjaC54Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuTEVGVCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVZKHRpbGVDb2xsaXNpb25Db250ZXh0OiBUaWxlQ29sbGlzaW9uQ29udGV4dCl7XG4gIGNvbnN0IHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDsgXG5cbiAgaWYoZW50aXR5LnZlbC55ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5ib3R0b20gPiBtYXRjaC55MSl7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuQk9UVE9NLCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnkgPCAwKXtcbiAgICBpZihlbnRpdHkuZ2V0VHJhaXQoJ3BsYXllcicpKXtcbiAgICAgIGNvbnN0IGdyaWQgPSByZXNvbHZlci5tYXRyaXg7XG4gICAgICBncmlkLmRlbGV0ZShtYXRjaC5pbmRleFgsIG1hdGNoLmluZGV4WSk7XG4gICAgICBjb25zdCBnb29tYmEgPSBnYW1lQ29udGV4dC5lbnRpdHlGYWN0b3J5Lmdvb21iYSgpO1xuICAgICAgZ29vbWJhLnBvcy5zZXQoZW50aXR5LnBvcy54LCBtYXRjaC55MSk7XG4gICAgICBnb29tYmEudmVsLnNldCg1MCwgLTQwMCk7XG4gICAgICBnYW1lQ29udGV4dC5sZXZlbC5lbnRpdGllcy5hZGQoZ29vbWJhKTtcbiAgICB9XG4gICAgaWYoZW50aXR5LmJvdW5kcy50b3AgPCBtYXRjaC55Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuVE9QLCBtYXRjaCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBicmljayA9IFsgaGFuZGxlWCwgaGFuZGxlWSBdOyIsImltcG9ydCB7IFNpZGVzIH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgVGlsZUNvbGxpc2lvbkNvbnRleHQgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmZ1bmN0aW9uIGhhbmRsZVgodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIG1hdGNoIH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDtcbiAgaWYoZW50aXR5LnZlbC54ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5yaWdodCA+IG1hdGNoLngxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5SSUdIVCwgbWF0Y2gpO1xuICAgIH1cbiAgfWVsc2UgaWYoZW50aXR5LnZlbC54IDwgMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5sZWZ0IDwgbWF0Y2gueDIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLkxFRlQsIG1hdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlWSh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnkgPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmJvdHRvbSA+IG1hdGNoLnkxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5CT1RUT00sIG1hdGNoKTtcbiAgICB9XG4gIH1lbHNlIGlmKGVudGl0eS52ZWwueSA8IDApe1xuICAgIGlmKGVudGl0eS5ib3VuZHMudG9wIDwgbWF0Y2gueTIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlRPUCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ3JvdW5kID0gWyBoYW5kbGVYLCBoYW5kbGVZIF07IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCwgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG50eXBlIEVtaXR0ZXJDYWxsYmFjayA9IChlbnRpdHk6IEVudGl0eSwgbGV2ZWw6IExldmVsKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWl0dGVyIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGNvb2xkb3duOiBudW1iZXIgPSAyO1xuICBwdWJsaWMgaW50ZXJ2YWw6IG51bWJlciA9IDI7XG4gIHB1YmxpYyBlbWl0dGVyczogRW1pdHRlckNhbGxiYWNrW10gPSBbXTtcblxuICBlbWl0KGVudGl0eTogRW50aXR5LCBsZXZlbDogTGV2ZWwpe1xuICAgIGZvcihjb25zdCBlbWl0dGVyIG9mIHRoaXMuZW1pdHRlcnMpe1xuICAgICAgZW1pdHRlcihlbnRpdHksIGxldmVsKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQsIGxldmVsIH0gPSBnYW1lQ29udGV4dDtcbiAgICB0aGlzLmNvb2xkb3duIC09IGR0O1xuICAgIGlmKHRoaXMuY29vbGRvd24gPCAwKXtcbiAgICAgIHRoaXMuZW1pdChlbnRpdHksIGxldmVsKTtcbiAgICAgIHRoaXMuY29vbGRvd24gPSB0aGlzLmludGVydmFsO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IEp1bXAgZnJvbSBcIi4vSnVtcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHbyBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGRpcjogbnVtYmVyO1xuICBwcml2YXRlIGFjY2VsZXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGRlY2VsZXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGZyaWN0aW9uOiBudW1iZXI7XG4gIHB1YmxpYyBkaXN0YW5jZTogbnVtYmVyO1xuICBwdWJsaWMgaGVhZGluZzogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kaXIgPSAwO1xuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gNDAwO1xuICAgIHRoaXMuZGVjZWxlcmF0aW9uID0gMzAwO1xuICAgIHRoaXMuZnJpY3Rpb24gPSAxLzUwMDA7XG4gICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgdGhpcy5oZWFkaW5nID0gMTtcbiAgfVxuXG4gIHNldCBkcmFnKGZyaWN0aW9uOiBudW1iZXIpeyB0aGlzLmZyaWN0aW9uID0gZnJpY3Rpb247IH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgY29uc3QgYWJzWCA9IE1hdGguYWJzKGVudGl0eS52ZWwueCk7XG5cbiAgICBpZih0aGlzLmRpciAhPT0gMCl7XG4gICAgICBlbnRpdHkudmVsLnggKz0gdGhpcy5hY2NlbGVyYXRpb24gKiBkdCAqIHRoaXMuZGlyO1xuXG4gICAgICBjb25zdCBqdW1wID0gZW50aXR5LmdldFRyYWl0KCdqdW1wJyk7XG4gICAgICBpZihqdW1wKXtcbiAgICAgICAgaWYoanVtcCBpbnN0YW5jZW9mIEp1bXAgJiYgIWp1bXAuZmFsbGluZyl7XG4gICAgICAgICAgdGhpcy5oZWFkaW5nID0gdGhpcy5kaXI7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSB0aGlzLmRpcjtcbiAgICAgIH1cbiAgICB9ZWxzZSBpZihlbnRpdHkudmVsLnggIT09IDApe1xuICAgICAgY29uc3QgZGVjZWwgPSBNYXRoLm1pbihhYnNYLCB0aGlzLmRlY2VsZXJhdGlvbiAqIGR0KTtcbiAgICAgIGVudGl0eS52ZWwueCArPSBkZWNlbCAqIChlbnRpdHkudmVsLnggPiAwID8gLTEgOiAxKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuZGlzdGFuY2UgPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IGRyYWcgPSB0aGlzLmZyaWN0aW9uICogZW50aXR5LnZlbC54ICogYWJzWDtcbiAgICBlbnRpdHkudmVsLnggLT0gZHJhZztcbiAgICBcbiAgICB0aGlzLmRpc3RhbmNlICs9IGFic1ggKiBkdDtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmF2aXR5IGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGdyYXZpdHk6IG51bWJlciA9IDE1MDA7XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBlbnRpdHkudmVsLnkgKz0gdGhpcy5ncmF2aXR5ICogZHQ7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFNpZGVzLCBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmNvbnN0IFNQRUVEX0JPT1NUID0gMC4zO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKdW1wIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGR1cmF0aW9uOiBudW1iZXI7XG4gIHByaXZhdGUgdmVsb2NpdHk6IG51bWJlcjtcbiAgcHJpdmF0ZSBlbmdhZ2VUaW1lOiBudW1iZXI7XG4gIHByaXZhdGUgcmVhZHk6IG51bWJlcjtcblxuICBwcml2YXRlIGdyYWNlVGltZTogbnVtYmVyO1xuICBwcml2YXRlIGdyYWNlRHVyYXRpb246IG51bWJlcjtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZHVyYXRpb24gPSAwLjM7XG4gICAgdGhpcy52ZWxvY2l0eSA9IDIwMDtcbiAgICB0aGlzLmVuZ2FnZVRpbWUgPSAwO1xuICAgIHRoaXMucmVhZHkgPSAwO1xuXG4gICAgdGhpcy5ncmFjZVRpbWUgPSAwO1xuICAgIHRoaXMuZ3JhY2VEdXJhdGlvbiA9IDAuMTtcbiAgfVxuICBwdWJsaWMgZ2V0IGZhbGxpbmcoKSA6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFkeSA8IDA7IH1cbiAgc3RhcnQoKXtcbiAgICB0aGlzLmdyYWNlVGltZSA9IHRoaXMuZ3JhY2VEdXJhdGlvbjtcbiAgfVxuICBjYW5jZWwoKXtcbiAgICB0aGlzLmVuZ2FnZVRpbWUgPSAwO1xuICAgIHRoaXMuZ3JhY2VUaW1lID0gMDtcbiAgfVxuICBvYnN0cnVjdChlbnRpdHk6IEVudGl0eSwgc2lkZTogU2lkZXMpe1xuICAgIGlmKHNpZGUgPT09IFNpZGVzLkJPVFRPTSkgdGhpcy5yZWFkeSA9IDE7XG4gICAgaWYoc2lkZSA9PT0gU2lkZXMuVE9QKSB0aGlzLmNhbmNlbCgpO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcbiAgICBcbiAgICBpZih0aGlzLmdyYWNlVGltZSA+IDApe1xuICAgICAgaWYodGhpcy5yZWFkeSA+IDApe1xuICAgICAgICBlbnRpdHkuc291bmRzLmFkZCgnanVtcCcpO1xuICAgICAgICB0aGlzLmVuZ2FnZVRpbWUgPSB0aGlzLmR1cmF0aW9uO1xuICAgICAgICB0aGlzLmdyYWNlVGltZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ3JhY2VUaW1lIC09IGR0O1xuICAgIH1cblxuICAgIGlmKHRoaXMuZW5nYWdlVGltZSA+IDApe1xuICAgICAgZW50aXR5LnZlbC55ID0gLSh0aGlzLnZlbG9jaXR5ICsgTWF0aC5hYnMoZW50aXR5LnZlbC54KSAqIFNQRUVEX0JPT1NUKTtcbiAgICAgIHRoaXMuZW5nYWdlVGltZSAtPSBkdDtcbiAgICB9XG5cbiAgICB0aGlzLnJlYWR5LS07XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2lsbGFibGUgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBkZWFkOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyByZW1vdmVBZnRlcjogbnVtYmVyID0gMjtcbiAgcHJpdmF0ZSBkZWFkVGltZTogbnVtYmVyID0gMDtcblxuICBraWxsKCl7XG4gICAgdGhpcy5xdWV1ZSgoKSA9PiB0aGlzLmRlYWQgPSB0cnVlKTtcbiAgfVxuXG4gIHJldml2ZSgpe1xuICAgIHRoaXMuZGVhZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVhZFRpbWUgPSAwO1xuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0LCBsZXZlbCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBpZih0aGlzLmRlYWQpe1xuICAgICAgdGhpcy5kZWFkVGltZSArPSBkdDtcbiAgICAgIGlmKHRoaXMuZGVhZFRpbWUgPiB0aGlzLnJlbW92ZUFmdGVyKXtcbiAgICAgICAgdGhpcy5xdWV1ZSgoKSA9PiBsZXZlbC5lbnRpdGllcy5kZWxldGUoZW50aXR5KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBTaWRlcywgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQZW5kdWx1bVdhbGsgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBlbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcbiAgcHVibGljIHNwZWVkOiBudW1iZXIgPSAtMzA7XG4gIG9ic3RydWN0KGVudGl0eTogRW50aXR5LCBzaWRlOiBTaWRlcyk6IHZvaWQge1xuICAgIGlmKHNpZGUgPT09IFNpZGVzLkxFRlQgfHwgc2lkZSA9PT0gU2lkZXMuUklHSFQpXG4gICAgICB0aGlzLnNwZWVkICo9IC0xO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgaWYodGhpcy5lbmFibGVkKSBlbnRpdHkudmVsLnggPSB0aGlzLnNwZWVkO1xuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBoeXNpY3MgZXh0ZW5kcyBUcmFpdCB7XG4gIHByaXZhdGUgZ3Jhdml0eTogbnVtYmVyID0gMTUwMDtcbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGxldmVsLCBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBlbnRpdHkucG9zLnggKz0gZW50aXR5LnZlbC54ICogZHQ7XG4gICAgbGV2ZWwudGlsZUNvbGxpZGVyLmNoZWNrWChlbnRpdHksIGdhbWVDb250ZXh0KTtcblxuICAgIGVudGl0eS5wb3MueSArPSBlbnRpdHkudmVsLnkgKiBkdDtcbiAgICBsZXZlbC50aWxlQ29sbGlkZXIuY2hlY2tZKGVudGl0eSwgZ2FtZUNvbnRleHQpO1xuXG4gICAgZW50aXR5LnZlbC55ICs9IHRoaXMuZ3Jhdml0eSAqIGR0O1xuICB9XG59IiwiaW1wb3J0IHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi9TdG9tcGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGNvaW5zOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgbGl2ZXM6IG51bWJlciA9IDM7XG4gIHB1YmxpYyBzY29yZTogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmxpc3RlbihTdG9tcGVyLlNUT01QLCAoKSA9PiB7XG4gICAgICB0aGlzLnNjb3JlICs9IDEwMDtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCBNYXJpbyBmcm9tIFwiLi4vZW50aXRpZXMvTWFyaW9cIjtcbmltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4uL21hdGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyQ29udHJvbGxlciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIHBsYXllcjogTWFyaW8gPSBudWxsO1xuICBwdWJsaWMgY2hlY2twb2ludDogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgdGltZTogbnVtYmVyID0gMzAwO1xuICBwdWJsaWMgc2NvcmU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgc2V0UGxheWVyKHBsYXllcjogTWFyaW8pe1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0LCBsZXZlbCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBpZih0aGlzLnBsYXllciAmJiAhbGV2ZWwuZW50aXRpZXMuaGFzKHRoaXMucGxheWVyKSl7XG4gICAgICB0aGlzLnBsYXllci5raWxsYWJsZS5yZXZpdmUoKTtcbiAgICAgIHRoaXMucGxheWVyLnBvcy5zZXQodGhpcy5jaGVja3BvaW50LngsIHRoaXMuY2hlY2twb2ludC55KTtcbiAgICAgIGxldmVsLmVudGl0aWVzLmFkZCh0aGlzLnBsYXllcik7XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLnRpbWUgLT0gZHQgKiAyO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgU2lkZXMsIFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgUmVzb2x2ZWRUaWxlIH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2xpZCBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIG9ic3RydWN0czogYm9vbGVhbiA9IHRydWU7XG4gIG9ic3RydWN0KGVudGl0eTogRW50aXR5LCBzaWRlOiBTaWRlcywgbWF0Y2g6IFJlc29sdmVkVGlsZSl7XG4gICAgaWYoIXRoaXMub2JzdHJ1Y3RzKSByZXR1cm47XG4gICAgc3dpdGNoKHNpZGUpe1xuICAgICAgY2FzZSBTaWRlcy5SSUdIVDoge1xuICAgICAgICBlbnRpdHkuYm91bmRzLmxlZnQgPSBtYXRjaC54MSAtIGVudGl0eS5zaXplLng7XG4gICAgICAgIGVudGl0eS52ZWwueCA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5MRUZUOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCA9IG1hdGNoLngyO1xuICAgICAgICBlbnRpdHkudmVsLnggPSAwO1xuICAgICAgfSBicmVhaztcbiAgICAgIGNhc2UgU2lkZXMuQk9UVE9NOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMudG9wID0gbWF0Y2gueTEgLSBlbnRpdHkuc2l6ZS55O1xuICAgICAgICBlbnRpdHkudmVsLnkgPSAwO1xuICAgICAgfSBicmVhaztcbiAgICAgIGNhc2UgU2lkZXMuVE9QOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMudG9wID0gbWF0Y2gueTI7XG4gICAgICAgIGVudGl0eS52ZWwueSA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4vS2lsbGFibGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvbXBlciBleHRlbmRzIFRyYWl0IHtcbiAgc3RhdGljIFNUT01QID0gU3ltYm9sKCdzdG9tcCcpO1xuICBwcml2YXRlIGJvdW5kU3BlZWQ6IG51bWJlciA9IDQwMDtcbiAgXG4gIHByaXZhdGUgYm91bmNlKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSl7XG4gICAgdXMuYm91bmRzLmJvdHRvbSA9IHRoZW0uYm91bmRzLnRvcDtcbiAgICB1cy52ZWwueSA9IC10aGlzLmJvdW5kU3BlZWRcbiAgfVxuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IGtpbGxhYmxlID0gdGhlbS5nZXRUcmFpdCgna2lsbGFibGUnKTtcbiAgICBpZigha2lsbGFibGUgfHwgIShraWxsYWJsZSBpbnN0YW5jZW9mIEtpbGxhYmxlKSB8fCBraWxsYWJsZS5kZWFkKSByZXR1cm47XG4gICAgXG4gICAgaWYodXMudmVsLnkgPiB0aGVtLnZlbC55KXtcbiAgICAgIHRoaXMucXVldWUoKCkgPT4gdGhpcy5ib3VuY2UodXMsIHRoZW0pKTtcbiAgICAgIHVzLnNvdW5kcy5hZGQoJ3N0b21wJyk7XG4gICAgICB1cy5ldmVudHMuZW1pdChTdG9tcGVyLlNUT01QLCB1cywgdGhlbSk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlbG9jaXR5IGV4dGVuZHMgVHJhaXQge1xuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuICAgIGVudGl0eS5wb3MueCArPSBlbnRpdHkudmVsLnggKiBkdDtcbiAgICBlbnRpdHkucG9zLnkgKz0gZW50aXR5LnZlbC55ICogZHQ7XG4gIH1cbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCBUaW1lciBmcm9tICcuL1RpbWVyJztcbmltcG9ydCB7IHNldHVwS2V5Ym9hcmQgfSBmcm9tICcuL2lucHV0JztcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xuaW1wb3J0IHsgY3JlYXRlTGV2ZWxMb2FkZXIgfSBmcm9tICcuL2xvYWRlcnMvbGV2ZWwnO1xuaW1wb3J0IHsgbG9hZEVudGl0aWVzIH0gZnJvbSAnLi9lbnRpdGllcyc7XG5pbXBvcnQgUGxheWVyQ29udHJvbGxlciBmcm9tICcuL3RyYWl0cy9QbGF5ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGNyZWF0ZUNvbGxpc2lvbkxheWVyIH0gZnJvbSAnLi9sYXllcnMvY29sbGlzaW9uJztcbmltcG9ydCB7IGxvYWRGb250IH0gZnJvbSAnLi9sb2FkZXJzL2ZvbnQnO1xuaW1wb3J0IHsgY3JlYXRlRGFzaGJvYXJkTGF5ZXIgfSBmcm9tICcuL2xheWVycy9kYXNoYm9hcmQnO1xuaW1wb3J0IHsgY3JlYXRlUGxheWVyRW52IH0gZnJvbSAnLi9wbGF5ZXInO1xuXG5hc3luYyBmdW5jdGlvbiBtYWluKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpe1xuICBjb25zdCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcblxuICBjb25zdCBbZW50aXR5RmFjdG9yeSwgZm9udF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgbG9hZEVudGl0aWVzKGF1ZGlvQ29udGV4dCksXG4gICAgbG9hZEZvbnQoKSxcbiAgXSk7XG5cbiAgY29uc3QgbG9hZExldmVsID0gYXdhaXQgY3JlYXRlTGV2ZWxMb2FkZXIoZW50aXR5RmFjdG9yeSk7XG4gIGNvbnN0IGxldmVsID0gYXdhaXQgbG9hZExldmVsKCcxLTEnKTtcbiAgXG4gIGNvbnN0IGNhbWVyYSA9IG5ldyBDYW1lcmEoKTtcbiAgXG4gIGNvbnN0IG1hcmlvID0gZW50aXR5RmFjdG9yeS5tYXJpbygpO1xuXG4gIGNvbnN0IHBsYXllckVudiA9IGNyZWF0ZVBsYXllckVudihtYXJpbyk7XG4gIGxldmVsLmVudGl0aWVzLmFkZChwbGF5ZXJFbnYpO1xuXG4gIGxldmVsLmNvbXAuYWRkKGNyZWF0ZUNvbGxpc2lvbkxheWVyKGxldmVsKSk7XG4gIGxldmVsLmNvbXAuYWRkKGNyZWF0ZURhc2hib2FyZExheWVyKGZvbnQsIHBsYXllckVudi5nZXRUcmFpdCgnY29udHJvbGxlcicpIGFzIFBsYXllckNvbnRyb2xsZXIpKTtcblxuICBjb25zdCBpbnB1dCA9IHNldHVwS2V5Ym9hcmQobWFyaW8pO1xuICBpbnB1dC5saXN0ZW5Ubyh3aW5kb3cpO1xuXG4gIGNvbnN0IHRpbWVyID0gbmV3IFRpbWVyKCk7XG5cbiAgdGltZXIudXBkYXRlID0gKGR0KSA9PiB7XG4gICAgbGV2ZWwudXBkYXRlKGR0LCBhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnkpO1xuXG4gICAgY2FtZXJhLnBvcy54ID0gTWF0aC5tYXgoMCwgbWFyaW8ucG9zLnggLSAxMDApO1xuXG4gICAgbGV2ZWwuY29tcC5kcmF3KGN0eCwgY2FtZXJhKTtcbiAgfVxuXG4gIHRpbWVyLnN0YXJ0KCk7XG4gIGxldmVsLm11c2ljLnBsYXkoJ21haW4nKTtcbn1cblxuY29uc3QgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcyNzY3JlZW4nKTtcblxuY29uc3Qgc3RhcnQgPSAoKSA9PiB7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN0YXJ0KTtcbiAgbWFpbihjYW52YXMpO1xufVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnQpO1xuIl0sIm5hbWVzIjpbIkF1ZGlvQm9hcmQiLCJidWZmZXJzIiwiTWFwIiwiYWRkIiwibmFtZSIsImJ1ZmZlciIsInRoaXMiLCJzZXQiLCJwbGF5IiwiY29udGV4dCIsImdldCIsInNvdXJjZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInN0YXJ0IiwiQm91bmRpbmdCb3giLCJjb25zdHJ1Y3RvciIsInBvcyIsInNpemUiLCJvZmZzZXQiLCJvdmVybGFwcyIsImJveCIsImJvdHRvbSIsInRvcCIsImxlZnQiLCJyaWdodCIsInkiLCJ4IiwiQ2FtZXJhIiwiVmVjdG9yIiwiQ29tcG9zaXRvciIsImxheWVycyIsImxheWVyIiwicHVzaCIsImRyYXciLCJjdHgiLCJjYW1lcmEiLCJmb3JFYWNoIiwiU2lkZXMiLCJUcmFpdCIsImxpc3RlbmVycyIsImNvbGxpZGVzIiwidXMiLCJ0aGVtIiwiZmluYWxpemUiLCJlbnRpdHkiLCJmaWx0ZXIiLCJsaXN0ZW5lciIsImV2ZW50cyIsInByb2Nlc3MiLCJjYWxsYmFjayIsImNvdW50IiwibGlzdGVuIiwiSW5maW5pdHkiLCJvYnN0cnVjdCIsInNpZGUiLCJtYXRjaCIsInF1ZXVlIiwidGFzayIsIlRBU0siLCJ1cGRhdGUiLCJnYW1lQ29udGV4dCIsIlN5bWJvbCIsIkVudGl0eSIsImF1ZGlvQm9hcmQiLCJzb3VuZHMiLCJTZXQiLCJ2ZWwiLCJsaWZldGltZSIsInRyYWl0cyIsImJvdW5kcyIsImFkZFRyYWl0IiwidHJhaXQiLCJjYW5kaWRhdGUiLCJlbWl0IiwiY2xlYXIiLCJnZXRUcmFpdCIsInBsYXlTb3VuZHMiLCJhdWRpb0NvbnRleHQiLCJkdCIsIkVudGl0eUNvbGxpZGVyIiwiZW50aXRpZXMiLCJjaGVjayIsInN1YmplY3QiLCJFdmVudEJ1ZmZlciIsImxlbmd0aCIsImFyZ3MiLCJldmVudCIsIktleVN0YXRlIiwiS2V5Ym9hcmRTdGF0ZSIsImtleVN0YXRlcyIsImtleU1hcCIsImFkZE1hcHBpbmciLCJjb2RlIiwiaGFuZGxlRXZlbnQiLCJ0eXBlIiwiaGFzIiwicHJldmVudERlZmF1bHQiLCJrZXlTdGF0ZSIsIlBSRVNTRUQiLCJSRUxFQVNFRCIsImxpc3RlblRvIiwid2luZG93IiwiZXZlbnROYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkxldmVsIiwibXVzaWMiLCJjb21wIiwidGlsZUNvbGxpZGVyIiwiZW50aXR5Q29sbGlkZXIiLCJ0aW1lIiwiZW50aXR5RmFjdG9yeSIsImxldmVsIiwiTXVzaWNDb250cm9sbGVyIiwibXVzaWNQbGF5ZXIiLCJzZXRQbGF5ZXIiLCJwbGF5ZXIiLCJNdXNpY1BsYXllciIsInRyYWNrcyIsImFkZFRyYWNrIiwidHJhY2siLCJhdWRpbyIsIkF1ZGlvIiwibG9vcCIsIlNwcml0ZVNoZWV0IiwiaW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsImZyYW1lcyIsImFuaW1hdGlvbnMiLCJnZXRBbmltYXRpb24iLCJkZWZpbmVBbmltIiwiYW5pbWF0aW9uIiwiZGVmaW5lIiwibWFwIiwiZmxpcCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJjYW52YXMiLCJzZXRBdHRyaWJ1dGUiLCJzY2FsZSIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsImRlZmluZVRpbGUiLCJmcmFtZSIsImNvbnNvbGUiLCJ3YXJuIiwiZHJhd0FuaW0iLCJkaXN0YW5jZSIsImRyYXdUaWxlIiwiaGFuZGxlcnMiLCJicmljayIsImdyb3VuZCIsIlRpbGVSZXNvbHZlciIsIm1hdHJpeCIsInRpbGVTaXplIiwidG9JbmRleCIsIk1hdGgiLCJmbG9vciIsInRvSW5kZXhSYW5nZSIsInBvczEiLCJwb3MyIiwicE1heCIsImNlaWwiLCJyYW5nZSIsImdldEJ5SW5kZXgiLCJ0aWxlIiwieDEiLCJ4MiIsInkxIiwieTIiLCJpbmRleFgiLCJpbmRleFkiLCJzZWFyY2hCeVBvc2l0aW9uIiwic2VhcmNoQnlSYW5nZSIsIm1hdGNoZXMiLCJUaWxlQ29sbGlkZXIiLCJyZXNvbHZlcnMiLCJhZGRHcmlkIiwidGlsZU1hdHJpeCIsImNoZWNrWCIsInJlc29sdmVyIiwiaGFuZGxlIiwiY2hlY2tZIiwiaW5kZXgiLCJ0aWxlQ29sbGlzaW9uQ29udGV4dCIsImhhbmRsZXIiLCJUaW1lciIsImRlbHRhVGltZSIsInJ1bm5pbmciLCJhY2N1bXVsYXRlZFRpbWUiLCJsYXN0VGltZSIsInVwZGF0ZVByb3h5IiwiZW5xdWV1ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNyZWF0ZUFuaW0iLCJmcmFtZUxlbiIsImxvYWRFbnRpdGllcyIsImFkZEFzIiwiZmFjdG9yeSIsIlByb21pc2UiLCJhbGwiLCJsb2FkTWFyaW8iLCJ0aGVuIiwibG9hZEdvb21iYSIsImxvYWRLb29wYSIsImxvYWRCdWxsZXQiLCJsb2FkQ2Fubm9uIiwiQmVoYXZpb3IiLCJncmF2aXR5Iiwic3RvbXBlciIsIkJ1bGxldCIsImtpbGxhYmxlIiwiZGVhZCIsImtpbGwiLCJzdXBlciIsInZlbG9jaXR5IiwiYmVoYXZpb3IiLCJsb2FkU3ByaXRlU2hlZXQiLCJjcmVhdGVCdWxsZXRGYWN0b3J5Iiwic3ByaXRlcyIsImRyYXdCdWxsZXQiLCJidWxsZXQiLCJDYW5ub24iLCJlbWl0dGVyIiwibG9hZEF1ZGlvQm9hcmQiLCJlbWl0QnVsbGV0IiwiZGlyIiwiZmluZFBsYXllcnMiLCJhYnMiLCJjb3B5Iiwic2lnbiIsImNhbm5vbiIsImludGVydmFsIiwiZW1pdHRlcnMiLCJjcmVhdGVDYW5ub25GYWN0b3J5IiwiR29vbWJhIiwicGVuZHVsdW1Nb3ZlIiwic3BlZWQiLCJwaHlzaWNzIiwic29saWQiLCJjcmVhdGVHb29tYmFGYWN0b3J5Iiwid2Fsa0FuaW0iLCJkcmF3R29vbWJhIiwiZ29vbWJhIiwiS29vcGFTdGF0ZSIsInN0YXRlIiwiV0FMS0lORyIsImhpZGVUaW1lIiwiaGlkZUR1cmF0aW9uIiwicGFuaWNTcGVlZCIsIndhbGtTcGVlZCIsIktvb3BhIiwiaGFuZGxlU3RvbXAiLCJoYW5kbGVOdWRnZSIsIkhJRElORyIsInBhbmljIiwiUEFOSUMiLCJ0cmF2ZWxEaXIiLCJpbXBhY3REaXIiLCJoaWRlIiwib2JzdHJ1Y3RzIiwiZW5hYmxlZCIsInVuaGlkZSIsImNyZWF0ZUtvb3BhRmFjdG9yeSIsIndha2VBbmltIiwiZHJhd0tvb3BhIiwia29vcGEiLCJyb3V0ZUFuaW0iLCJNYXJpbyIsImdvIiwianVtcCIsImRyYWciLCJ0dXJibyIsInJ1bkFuaW0iLCJyb3V0ZUZyYW1lIiwibWFyaW8iLCJmYWxsaW5nIiwiZHJhd01hcmlvIiwiaGVhZGluZyIsInJlbW92ZUFmdGVyIiwiY3JlYXRlTWFyaW9GYWN0b3J5Iiwic2V0dXBLZXlib2FyZCIsImlucHV0IiwiY2FuY2VsIiwiY3JlYXRlQmFja2dyb3VuZExheWVyIiwidGlsZXMiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJzY3JlZW4iLCJkcmF3V2lkdGgiLCJkcmF3RnJvbSIsImRyYXdUbyIsImNsZWFyUmVjdCIsImNvbCIsImdyaWQiLCJyZWRyYXciLCJjcmVhdGVUaWxlQ2FuZGlkYXRlTGF5ZXIiLCJ0aWxlUmVzb2x2ZXIiLCJyZXNvbHZlZFRpbGVzIiwiZ2V0QnlJbmRleE9yaWdpbmFsIiwiY2FsbCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwicmVjdCIsInN0cm9rZSIsImNsb3NlUGF0aCIsImNyZWF0ZUNvbGxpc2lvbkxheWVyIiwiZHJhd1RpbGVDYW5kaWRhdGVzIiwiZHJhd0JvdW5kaW5nQm94ZXMiLCJjcmVhdGVEYXNoYm9hcmRMYXllciIsImZvbnQiLCJwbGF5ZXJDb250cm9sbGVyIiwiTElORTEiLCJMSU5FMiIsIm1heCIsInNjb3JlIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInRvRml4ZWQiLCJjcmVhdGVTcHJpdGVMYXllciIsInNwcml0ZUN0eCIsImxvYWRJbWFnZSIsInBhdGgiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwic3JjIiwibG9hZEpTT04iLCJmZXRjaCIsInJlcyIsImpzb24iLCJsb2FkQXVkaW8iLCJjcmVhdGVBdWRpb0xvYWRlciIsImF1ZGlvU2hlZXQiLCJqb2JzIiwiZngiLCJ1cmwiLCJyZXNwb25zZSIsImFycmF5QnVmZmVyIiwiZGVjb2RlQXVkaW9EYXRhIiwiTEVUVEVSUyIsIkZvbnRTaGVldCIsInNoZWV0IiwidGV4dCIsIm9mZnNldFgiLCJvZmZzZXRZIiwibG9hZEZvbnQiLCJpIiwic2V0dXBCYWNrZ3JvdW5kcyIsImxldmVsU3BlYyIsInBhdHRlcm5zIiwiTWF0cml4Iiwid2Fsa1RpbGVzIiwiZXhwYW5kUmFuZ2VzIiwicmFuZ2VzIiwiZGVyaXZlZFgiLCJkZXJpdmVkWSIsInBhdHRlcm4iLCJleHBhbmRUaWxlcyIsImNyZWF0ZUdyaWQiLCJiYWNrZ3JvdW5kTGF5ZXIiLCJjcmVhdGVMZXZlbExvYWRlciIsInNwcml0ZVNoZWV0IiwibG9hZE11c2ljU2hlZXQiLCJtdXNpY1NoZWV0IiwiY3JlYXRlRW50aXR5Iiwic3ByaXRlTGF5ZXIiLCJzZXR1cEVudGl0aWVzIiwiZXhwYW5kU3BhbiIsInhTdGFydCIsInhMZW4iLCJ5U3RhcnQiLCJ5TGVuIiwieEVuZCIsInlFbmQiLCJleHBhbmRSYW5nZSIsIk9iamVjdCIsImVudHJpZXMiLCJzaGVldFNwZWMiLCJpbWFnZVVSTCIsInRpbGVXIiwidGlsZUgiLCJ0aWxlU3BlYyIsImRlbGV0ZSIsInZhbHVlIiwiY29sdW1ucyIsImNyZWF0ZVBsYXllckVudiIsImVudiIsImNvbnRyb2xsZXIiLCJjaGVja3BvaW50IiwiRW1pdHRlciIsImNvb2xkb3duIiwiR28iLCJhY2NlbGVyYXRpb24iLCJkZWNlbGVyYXRpb24iLCJmcmljdGlvbiIsImFic1giLCJkZWNlbCIsIm1pbiIsIkdyYXZpdHkiLCJKdW1wIiwiZHVyYXRpb24iLCJlbmdhZ2VUaW1lIiwicmVhZHkiLCJncmFjZVRpbWUiLCJncmFjZUR1cmF0aW9uIiwiS2lsbGFibGUiLCJkZWFkVGltZSIsInJldml2ZSIsIlBlbmR1bHVtV2FsayIsIlBoeXNpY3MiLCJQbGF5ZXIiLCJjb2lucyIsImxpdmVzIiwiUGxheWVyQ29udHJvbGxlciIsIlNvbGlkIiwiU3RvbXBlciIsImJvdW5kU3BlZWQiLCJib3VuY2UiLCJTVE9NUCIsIlZlbG9jaXR5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJyIiwidG9TdHJpbmdUYWciLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkF1ZGlvQ29udGV4dCIsImxvYWRMZXZlbCIsInBsYXllckVudiIsInRpbWVyIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=