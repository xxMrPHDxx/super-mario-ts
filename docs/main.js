/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/AudioBoard.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.buffers=new Map}add(t,e){this.buffers.set(t,e)}play(t,e){const s=this.buffers.get(t);if(!s)return;const i=e.createBufferSource();i.connect(e.destination),i.buffer=s,i.start(0)}}},"./src/BoundingBox.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.pos=t,this.size=e,this.offset=s}overlaps(t){return this.bottom>t.top&&this.top<t.bottom&&this.left<t.right&&this.right>t.left}get bottom(){return this.pos.y+this.size.y+this.offset.y}get top(){return this.pos.y+this.offset.y}get left(){return this.pos.x+this.offset.x}get right(){return this.pos.x+this.size.x+this.offset.x}set bottom(t){this.pos.y=t-(this.size.y+this.offset.y)}set top(t){this.pos.y=t-this.offset.y}set left(t){this.pos.x=t-this.offset.x}set right(t){this.pos.x=t-(this.size.x+this.offset.x)}}},"./src/Camera.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/math.ts");class r{constructor(){this.pos=new i.Vector(0,0),this.size=new i.Vector(256,224)}}},"./src/Compositor.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.layers=[]}add(t){this.layers.push(t)}draw(t,e){this.layers.forEach((s=>s(t,e)))}}},"./src/Entity.ts":(t,e,s)=>{s.r(e),s.d(e,{Sides:()=>i,Trait:()=>o,default:()=>c});var i,r=s("./src/BoundingBox.ts"),n=s("./src/EventEmitter.ts"),a=s("./src/math.ts");!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(i||(i={}));class o{constructor(){this.tasks=[],this.events=new n.default}collides(t,e){}finalize(){this.tasks.forEach((t=>t())),this.tasks.length=0}obstruct(t,e,s){}queue(t){this.tasks.push(t)}update(t,e){}}class c{constructor(t){this.sounds=new Set,this.pos=new a.Vector,this.size=new a.Vector,this.offset=new a.Vector,this.vel=new a.Vector,this.traits=new Map,this.lifetime=0,this.draw=(t,e)=>{},this.audioBoard=t,this.bounds=new r.default(this.pos,this.size,this.offset)}addTrait(t,e){this.traits.set(t,e)}collides(t){this.traits.forEach((e=>{e.collides(this,t)}))}finalize(){this.traits.forEach((t=>{t.finalize()}))}getTrait(t){return this.traits.get(t)}obstruct(t,e){this.traits.forEach((s=>{s.obstruct(this,t,e)}))}playSounds(t,e){this.sounds.forEach((s=>{t.play(s,e)})),this.sounds.clear()}update(t){this.traits.forEach((e=>{e.update(this,t)})),this.playSounds(this.audioBoard,t.audioContext),this.lifetime+=t.dt}}},"./src/EntityCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t){this.entities=t}check(t){this.entities.forEach((e=>{t!==e&&t.bounds.overlaps(e.bounds)&&(t.collides(e),e.collides(t))}))}}},"./src/EventEmitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.listeners=new Map}listen(t,e){const s=this.listeners.get(t)||[];s.push(e),this.listeners.set(t,s)}emit(t,...e){const s=this.listeners.get(t);s&&s.forEach((t=>{t(...e)}))}}},"./src/KeyboardState.ts":(t,e,s)=>{var i;s.r(e),s.d(e,{KeyState:()=>i,default:()=>r}),function(t){t[t.RELEASED=0]="RELEASED",t[t.PRESSED=1]="PRESSED"}(i||(i={}));class r{constructor(){this.keyStates=new Map,this.keyMap=new Map}addMapping(t,e){this.keyMap.set(t,e)}handleEvent(t){const{code:e,type:s}=t;if(!this.keyMap.has(e))return;t.preventDefault();const r="keydown"===s?i.PRESSED:i.RELEASED;this.keyStates.get(e)!==r&&(this.keyStates.set(e,r),this.keyMap.get(e)(r))}listenTo(t){["keydown","keyup"].forEach((e=>{t.addEventListener(e,(t=>{this.handleEvent(t)}))}))}}},"./src/Level.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./src/Compositor.ts"),r=s("./src/EntityCollider.ts"),n=s("./src/TileCollider.ts");class a{constructor(){this.comp=new i.default,this.entities=new Set,this.tileCollider=new n.default,this.entityCollider=new r.default(this.entities),this.time=0}update(t,e,s){this.entities.forEach((i=>{i.update({dt:t,level:this,audioContext:e,entityFactory:s})})),this.entities.forEach((t=>{this.entityCollider.check(t)})),this.entities.forEach((t=>{t.finalize()})),this.time+=t}}},"./src/SpriteSheet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.image=t,this.width=e,this.height=s,this.frames=new Map,this.animations=new Map}getAnimation(t){return this.animations.get(t)}defineAnim(t,e){this.animations.set(t,e)}define(t,e,s,i,r){const n=[!1,!0].map((t=>{const n=document.createElement("canvas").getContext("2d");return n.canvas.setAttribute("width",`${this.width}px`),n.canvas.setAttribute("height",`${this.height}px`),t&&(n.scale(-1,1),n.translate(-i,0)),n.drawImage(this.image,e,s,i,r,0,0,i,r),n.canvas}));this.frames.set(t,n)}defineTile(t,e,s){this.define(t,e*this.width,s*this.height,this.width,this.height)}draw(t,e,s,i,r=!1){const n=this.frames.get(t);n||console.warn(`Frame ${t} is not defined!`),e.drawImage(n[r?1:0],s,i)}drawAnim(t,e,s,i,r){const n=this.animations.get(t);if(!n)return this.drawTile(t,e,s,i);this.drawTile(n(r),e,s,i)}drawTile(t,e,s,i,r=!1){this.draw(t,e,s*this.width,i*this.height,r)}}},"./src/TileCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{TileResolver:()=>a,default:()=>o});var i=s("./src/tiles/brick.ts"),r=s("./src/tiles/ground.ts");const n={brick:i.brick,ground:r.ground};class a{constructor(t,e=16){this.matrix=t,this.tileSize=e}toIndex(t){return Math.floor(t/this.tileSize)}toIndexRange(t,e){const s=Math.ceil(e/this.tileSize)*this.tileSize,i=[];let r=t;do{i.push(this.toIndex(r)),r+=this.tileSize}while(r<s);return i}getByIndex(t,e){const s=this.matrix.get(t,e);return s?{tile:s,x1:t*this.tileSize,x2:(t+1)*this.tileSize,y1:e*this.tileSize,y2:(e+1)*this.tileSize,indexX:t,indexY:e}:null}searchByPosition(t,e){return this.getByIndex(this.toIndex(t),this.toIndex(e))}searchByRange(t,e,s,i){const r=[];return this.toIndexRange(t,e).forEach((t=>{this.toIndexRange(s,i).forEach((e=>{const s=this.getByIndex(t,e);s&&r.push(s)}))})),r}}class o{constructor(){this.resolvers=[]}addGrid(t){this.resolvers.push(new a(t))}checkX(t,e){if(0===t.vel.x)return;let s=t.bounds.left+(t.vel.x>0?t.size.x:0);for(const i of this.resolvers){i.searchByRange(s,s,t.bounds.top,t.bounds.bottom).forEach((s=>{this.handle(0,{entity:t,match:s,resolver:i,gameContext:e})}))}}checkY(t,e){if(0===t.vel.y)return;let s=t.bounds.top+(t.vel.y>0?t.size.y:0);for(const i of this.resolvers){i.searchByRange(t.bounds.left,t.bounds.right,s,s).forEach((s=>{this.handle(1,{entity:t,match:s,resolver:i,gameContext:e})}))}}handle(t,e){const s=n[e.match.tile.type];s&&s[t]&&s[t](e)}}},"./src/Timer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t=1/60){this.running=!1;let e=0,s=0;this.updateProxy=(i=0)=>{for(e+=(i-s)/1e3,e>1&&(e=1);e>t;)this.update(t),e-=t;s=i,this.enqueue()}}enqueue(){requestAnimationFrame(this.updateProxy)}start(){this.running||(this.running=!0,this.enqueue())}}},"./src/anim.ts":(t,e,s)=>{function i(t,e){return function(s){return t[Math.floor(s/e)%t.length]}}s.r(e),s.d(e,{createAnim:()=>i})},"./src/entities.ts":(t,e,s)=>{s.r(e),s.d(e,{loadEntities:()=>c});var i=s("./src/entities/Mario.ts"),r=s("./src/entities/Goomba.ts"),n=s("./src/entities/Koopa.ts"),a=s("./src/entities/Bullet.ts"),o=s("./src/entities/Cannon.ts");function c(t){const e={};function s(t){return s=>e[t]=s}return Promise.all([(0,i.loadMario)(t).then(s("mario")),(0,r.loadGoomba)(t).then(s("goomba")),(0,n.loadKoopa)(t).then(s("koopa")),(0,a.loadBullet)(t).then(s("bullet")),(0,o.loadCannon)(t,e).then(s("cannon"))]).then((()=>e))}},"./src/entities/Bullet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>h,loadBullet:()=>u});var i=s("./src/Entity.ts"),r=s("./src/loaders.ts"),n=s("./src/traits/Gravity.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/Stomper.ts"),c=s("./src/traits/Velocity.ts"),l=s("./src/entities/Mario.ts");class d extends i.Trait{constructor(){super(...arguments),this.gravity=new n.default}collides(t,e){const s=e.getTrait("stomper");t instanceof h&&!t.killable.dead&&s instanceof o.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.vel.set(100,-200)):e instanceof l.default&&e.killable.kill())}update(t,e){t instanceof h&&t.killable.dead&&this.gravity.update(t,e)}}class h extends i.default{constructor(){super(),this.addTrait("velocity",this.velocity=new c.default),this.addTrait("bullet",this.behavior=new d),this.addTrait("killable",this.killable=new a.default)}}function u(t){return(0,r.loadSpriteSheet)("bullet").then(f)}function f(t){function e(e){t.draw("bullet",e,0,0,this.vel.x<0)}return function(){const t=new h;return t.size.set(16,16),t.draw=e,t}}},"./src/entities/Cannon.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o,loadCannon:()=>c});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/player.ts"),a=s("./src/traits/Emitter.ts");class o extends i.default{constructor(t){super(t),this.addTrait("emitter",this.emitter=new a.default),this.size.set(16,14)}}function c(t,e){return(0,r.loadAudioBoard)("cannon",t).then((t=>function(t,e){function s(t,s){if(!(t instanceof o))return;let i;for(const e of(0,n.findPlayers)(s))if(i=e.pos.x-t.pos.x,Math.abs(e.pos.x-t.pos.x)<=30)return;const r=e.bullet();r.pos.copy(t.pos),r.vel.x=80*Math.sign(i),t.sounds.add("shoot"),s.entities.add(r)}return function(){const e=new o(t);return e.emitter.interval=4,e.emitter.emitters.push(s),e}}(t,e)))}},"./src/entities/Goomba.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>u,loadGoomba:()=>f});var i=s("./src/Entity.ts"),r=s("./src/loaders.ts"),n=s("./src/traits/Killable.ts"),a=s("./src/traits/PendulumMove.ts"),o=s("./src/traits/Physics.ts"),c=s("./src/traits/Solid.ts"),l=s("./src/traits/Stomper.ts"),d=s("./src/entities/Mario.ts");class h extends i.Trait{collides(t,e){const s=e.getTrait("stomper");t instanceof u&&!t.killable.dead&&s instanceof l.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.pendulumMove.speed=0):e instanceof d.default&&e.killable.kill())}}class u extends i.default{constructor(){super(),this.addTrait("physics",this.physics=new o.default),this.addTrait("solid",this.solid=new c.default),this.addTrait("pendulumMove",this.pendulumMove=new a.default),this.addTrait("goomba",this.behavior=new h),this.addTrait("killable",this.killable=new n.default)}}function f(t){return(0,r.loadSpriteSheet)("goomba").then(p)}function p(t){const e=t.getAnimation("walk");function s(s){var i;t.draw((i=this).killable.dead?"flat":e(i.lifetime),s,0,0)}return function(){const t=new u;return t.size.set(16,16),t.draw=s,t}}},"./src/entities/Koopa.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadKoopa:()=>p});var i,r=s("./src/Entity.ts"),n=s("./src/loaders.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/PendulumMove.ts"),c=s("./src/traits/Physics.ts"),l=s("./src/traits/Solid.ts"),d=s("./src/traits/Stomper.ts"),h=s("./src/entities/Mario.ts");!function(t){t[t.WALKING=0]="WALKING",t[t.HIDING=1]="HIDING",t[t.PANIC=2]="PANIC"}(i||(i={}));class u extends r.Trait{constructor(){super(...arguments),this.state=i.WALKING,this.hideTime=0,this.hideDuration=5,this.panicSpeed=300,this.walkSpeed=null}collides(t,e){const s=e.getTrait("stomper");t instanceof f&&!t.killable.dead&&s instanceof d.default&&(e.vel.y>t.vel.y?this.handleStomp(t,e):e instanceof h.default&&this.handleNudge(t,e))}handleNudge(t,e){switch(this.state){case i.WALKING:e.killable.kill();break;case i.HIDING:this.panic(t,e);break;case i.PANIC:{const s=Math.sign(t.vel.x),i=Math.sign(t.pos.x-e.pos.x);0!==s&&s!==i&&e.killable.kill()}}}handleStomp(t,e){switch(this.state){case i.WALKING:this.hide(t);break;case i.HIDING:t.killable.kill(),t.vel.set(100,-200),t.solid.obstructs=!1;break;case i.PANIC:this.hide(t)}}hide(t){t.vel.x=0,t.pendulumMove.enabled=!1,this.walkSpeed||(this.walkSpeed=t.pendulumMove.speed),this.state=i.HIDING}panic(t,e){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.panicSpeed*Math.sign(e.vel.x),this.state=i.PANIC}unhide(t){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.walkSpeed,this.state=i.WALKING}update(t,e){const{dt:s}=e;t instanceof f&&this.state===i.HIDING&&(this.hideTime+=s,this.hideTime>this.hideDuration&&this.unhide(t))}}class f extends r.default{constructor(){super(),this.addTrait("physics",this.physics=new c.default),this.addTrait("solid",this.solid=new l.default),this.addTrait("pendulumMove",this.pendulumMove=new o.default),this.addTrait("goomba",this.behavior=new u),this.addTrait("killable",this.killable=new a.default)}}function p(t){return(0,n.loadSpriteSheet)("koopa").then(y)}function y(t){const e=t.getAnimation("walk"),s=t.getAnimation("wake");function r(r){t.draw(function(t){switch(t.behavior.state){case i.HIDING:if(t.behavior.hideTime>3)return s(t.lifetime);case i.PANIC:return"hiding";default:return e(t.lifetime)}}(this),r,0,0,this.vel.x<0)}return function(){const t=new f;return t.size.set(16,16),t.offset.y=8,t.draw=r,t}}},"./src/entities/Mario.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadMario:()=>p});var i=s("./src/Entity.ts"),r=s("./src/loaders.ts"),n=s("./src/loaders/audio.ts"),a=s("./src/traits/Go.ts"),o=s("./src/traits/Jump.ts"),c=s("./src/traits/Killable.ts"),l=s("./src/traits/Physics.ts"),d=s("./src/traits/Player.ts"),h=s("./src/traits/Solid.ts"),u=s("./src/traits/Stomper.ts");class f extends i.default{constructor(t){super(t),this.size.set(14,16),this.addTrait("player",this.player=new d.default),this.addTrait("physics",this.physics=new l.default),this.addTrait("solid",this.solid=new h.default),this.addTrait("go",this.go=new a.default),this.addTrait("jump",this.jump=new o.default),this.addTrait("stomper",this.stomper=new u.default),this.addTrait("killable",this.killable=new c.default),this.go.drag=.001}turbo(t){this.go.drag=t?2e-4:.001}}function p(t){return Promise.all([(0,r.loadSpriteSheet)("mario"),(0,n.loadAudioBoard)("mario",t)]).then((([t,e])=>function(t,e){const s=t.getAnimation("run");function i(t){return t.jump.falling?"jump":t.go.distance>0?t.vel.x>0&&t.go.dir<0||t.vel.x<0&&t.go.dir>0?"break":s(t.go.distance):"idle"}function r(e){t.draw(i(this),e,0,0,this.go.heading<0)}return function(){const t=new f(e);return t.draw=r,t.killable.removeAfter=0,t}}(t,e)))}},"./src/input.ts":(t,e,s)=>{s.r(e),s.d(e,{setupKeyboard:()=>r});var i=s("./src/KeyboardState.ts");function r(t){const e=new i.default;return e.addMapping("KeyP",(e=>{e?t.jump.start():t.jump.cancel()})),e.addMapping("KeyO",(e=>{t.turbo(1===e)})),e.addMapping("KeyA",(e=>{t.go.dir+=e?-1:1})),e.addMapping("KeyD",(e=>{t.go.dir+=e?1:-1})),e}},"./src/layers/background.ts":(t,e,s)=>{s.r(e),s.d(e,{createBackgroundLayer:()=>r});var i=s("./src/TileCollider.ts");function r(t,e,s){const r=new i.TileResolver(e),n=document.createElement("canvas").getContext("2d");return n.imageSmoothingEnabled=!1,n.canvas.width=272,n.canvas.height=240,function(i,a){const o=r.toIndex(a.size.x),c=r.toIndex(a.pos.x);!function(i,r){n.clearRect(0,0,n.canvas.width,n.canvas.height);for(let a=i;a<=r;a++){const r=e.grid[a];r&&r.forEach(((e,r)=>{s.drawAnim(e.name,n,a-i,r,t.time)}))}}(c,c+o),i.drawImage(n.canvas,-a.pos.x%16,-a.pos.y)}}},"./src/layers/collision.ts":(t,e,s)=>{function i(t){const e=[],s=t.tileSize,i=t.getByIndex;return t.getByIndex=function(s,r){return e.push({x:s,y:r}),i.call(t,s,r)},function(t,i){t.strokeStyle="blue",e.forEach((({x:e,y:r})=>{t.beginPath(),t.rect(e*s-i.pos.x,r*s-i.pos.y,s,s),t.stroke(),t.closePath()})),e.length=0}}function r(t){const e=t.tileCollider.resolvers.map(i),s=(r=t.entities,function(t,e){t.strokeStyle="red",r.forEach((s=>{t.beginPath(),t.rect(s.bounds.left-e.pos.x,s.bounds.top-e.pos.y,s.size.x,s.size.y),t.stroke(),t.closePath()}))});var r;return function(t,i){e.forEach((e=>e(t,i))),s(t,i)}}s.r(e),s.d(e,{createCollisionLayer:()=>r})},"./src/layers/dashboard.ts":(t,e,s)=>{function i(t,e){const s=t.size,i=2*t.size;return function(r){const n=Math.max(0,e.time);t.draw("MARIO",r,16,s),t.draw(e.score.toString().padStart(6,"0"),r,16,i),t.draw(`@x${26..toString().padStart(2,"0")}`,r,96,i),t.draw("WORLD",r,152,s),t.draw("1-1",r,160,i),t.draw("TIME",r,208,s),t.draw(n.toFixed(0).padStart(3,"0"),r,216,i)}}s.r(e),s.d(e,{createDashboardLayer:()=>i})},"./src/layers/sprite.ts":(t,e,s)=>{function i(t,e=64,s=64){const i=document.createElement("canvas").getContext("2d");return i.imageSmoothingEnabled=!1,i.canvas.width=e,i.canvas.height=s,function(r,n){t.forEach((t=>{i.clearRect(0,0,e,s),t.draw(i),r.drawImage(i.canvas,t.pos.x-n.pos.x,t.pos.y-n.pos.y)}))}}s.r(e),s.d(e,{createSpriteLayer:()=>i})},"./src/loaders.ts":(t,e,s)=>{s.r(e),s.d(e,{loadImage:()=>a,loadJSON:()=>o,loadSpriteSheet:()=>c});var i=s("./src/anim.ts"),r=s("./src/SpriteSheet.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t){return n(this,void 0,void 0,(function*(){return new Promise(((e,s)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s,i.src=t}))}))}function o(t){return fetch(t).then((t=>t.json()))}function c(t){return o(`./sprites/${t}.json`).then((t=>Promise.all([t,a(t.imageURL)]))).then((([t,e])=>{const s=new r.default(e,t.tileW,t.tileH);return t.tiles&&t.tiles.forEach((t=>{s.defineTile(t.name,...t.index)})),t.frames&&t.frames.forEach((({name:t,rect:e})=>{s.define(t,...e)})),t.animations&&t.animations.forEach((({name:t,frameLen:e,frames:r})=>{const n=(0,i.createAnim)(r,e);s.defineAnim(t,n)})),s}))}},"./src/loaders/audio.ts":(t,e,s)=>{s.r(e),s.d(e,{loadAudioBoard:()=>a,createAudioLoader:()=>o});var i=s("./src/AudioBoard.ts"),r=s("./src/loaders.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t,e){return n(this,void 0,void 0,(function*(){const s=o(e),n=yield(0,r.loadJSON)(`./sounds/${t}.json`),a=new i.default,c=[];return n.fx.forEach((({name:t,url:e})=>{c.push(s(e).then((e=>{a.add(t,e)})))})),yield Promise.all(c),a}))}function o(t){return function(e){return fetch(e).then((t=>t.arrayBuffer())).then((e=>t.decodeAudioData(e)))}}},"./src/loaders/font.ts":(t,e,s)=>{s.r(e),s.d(e,{FontSheet:()=>o,loadFont:()=>c});var i=s("./src/loaders.ts"),r=s("./src/SpriteSheet.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const a=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";class o{constructor(t,e){this.sheet=t,this.size=e}draw(t,e,s,i){for(let r=0;r<t.length;r++)this.sheet.draw(t[r],e,s+r*this.size,i)}}function c(){return n(this,void 0,void 0,(function*(){const t=yield(0,i.loadImage)("./sheets/font.png"),e=new r.default(t);for(let t=0;t<a.length;t++){const s=8*(15&t),i=8*(t>>4);e.define(a[t],s,i,8,8)}return new o(e,8)}))}},"./src/loaders/level.ts":(t,e,s)=>{s.r(e),s.d(e,{createLevelLoader:()=>l});var i=s("./src/layers/background.ts"),r=s("./src/layers/sprite.ts"),n=s("./src/Level.ts"),a=s("./src/loaders.ts"),o=s("./src/math.ts");function c(t,e,s){t.layers.forEach(((r,n)=>{const a=function(t,e){const s=new o.Matrix;for(const{tile:i,x:r,y:n}of function*(t,e){function*s(t,i,r){for(const n of t)for(const{x:t,y:a}of u(n.ranges)){const o=t+i,c=a+r;if(n.pattern){const t=e[n.pattern].tiles;yield*s(t,o,c)}else yield{tile:n,x:o,y:c}}}yield*s(t,0,0)}(t,e))s.set(r,n,i);return s}(r.tiles,t.patterns),c=(0,i.createBackgroundLayer)(e,a,s);e.comp.add(c),e.tileCollider.addGrid(a)}))}function l(t){return function(e){return(0,a.loadJSON)(`./levels/${e}.json`).then((t=>Promise.all([t,(0,a.loadSpriteSheet)(t.spriteSheet)]))).then((([e,s])=>{const i=new n.default;return c(e,i,s),function(t,e,s){t.entities.forEach((({name:t,pos:[i,r]})=>{const n=(0,s[t])();n.pos.set(i,r),e.entities.add(n)}));const i=(0,r.createSpriteLayer)(e.entities);e.comp.add(i)}(e,i,t),i}))}}function*d(t,e,s,i){const r=t+e,n=s+i;for(let e=t;e<r;e++)for(let t=s;t<n;t++)yield{x:e,y:t}}function h(t){switch(t.length){case 4:return d(...t);case 3:return d(t[0],t[1],t[2],1);case 2:return d(t[0],1,t[1],1)}}function*u(t){for(const e of t)yield*h(e)}},"./src/math.ts":(t,e,s)=>{s.r(e),s.d(e,{Matrix:()=>i,Vector:()=>r});class i{constructor(){this.grid=[]}delete(t,e){const s=this.grid[t];s&&delete s[e]}get(t,e){const s=this.grid[t];if(s)return s[e]}set(t,e,s){this.grid[t]||(this.grid[t]=[]),this.grid[t][e]=s}forEach(t){this.grid.forEach(((e,s)=>{e.forEach(((e,i)=>{t(s,i,e)}))}))}}class r{constructor(t=0,e=0){this.set(t,e)}copy(t){this.set(t.x,t.y)}set(t,e){this.x=t,this.y=e}}},"./src/player.ts":(t,e,s)=>{s.r(e),s.d(e,{createPlayerEnv:()=>a,findPlayers:()=>o});var i=s("./src/Entity.ts"),r=s("./src/traits/Player.ts"),n=s("./src/traits/PlayerController.ts");function a(t){const e=new i.default,s=new n.default;return s.checkpoint.set(64,64),s.setPlayer(t),e.addTrait("controller",s),e}function*o(t){for(const e of t.entities)e.getTrait("player")instanceof r.default&&(yield e)}},"./src/tiles/brick.ts":(t,e,s)=>{s.r(e),s.d(e,{brick:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s,resolver:r,gameContext:n}=t;if(e.vel.y>0)e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s);else if(e.vel.y<0){if(e.getTrait("player")){r.matrix.delete(s.indexX,s.indexY);const t=n.entityFactory.goomba();t.pos.set(e.pos.x,s.y1),t.vel.set(50,-400),n.level.entities.add(t)}e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}}]},"./src/tiles/ground.ts":(t,e,s)=>{s.r(e),s.d(e,{ground:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s}=t;e.vel.y>0?e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s):e.vel.y<0&&e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}]},"./src/traits/Emitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.cooldown=2,this.interval=2,this.emitters=[]}emit(t,e){for(const s of this.emitters)s(t,e)}update(t,e){const{dt:s,level:i}=e;this.cooldown-=s,this.cooldown<0&&(this.emit(t,i),this.cooldown=this.interval)}}},"./src/traits/Go.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Jump.ts");class n extends i.Trait{constructor(){super(),this.dir=0,this.acceleration=400,this.deceleration=300,this.friction=2e-4,this.distance=0,this.heading=1}set drag(t){this.friction=t}update(t,e){const{dt:s}=e,i=Math.abs(t.vel.x);if(0!==this.dir){t.vel.x+=this.acceleration*s*this.dir;const e=t.getTrait("jump");e?e instanceof r.default&&!e.falling&&(this.heading=this.dir):this.heading=this.dir}else if(0!==t.vel.x){const e=Math.min(i,this.deceleration*s);t.vel.x+=e*(t.vel.x>0?-1:1)}else this.distance=0;const n=this.friction*t.vel.x*i;t.vel.x-=n,this.distance+=i*s}}},"./src/traits/Gravity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{dt:s}=e;t.vel.y+=this.gravity*s}}},"./src/traits/Jump.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(),this.duration=.3,this.velocity=200,this.engageTime=0,this.ready=0,this.graceTime=0,this.graceDuration=.1}get falling(){return this.ready<0}start(){this.graceTime=this.graceDuration}cancel(){this.engageTime=0,this.graceTime=0}obstruct(t,e){e===i.Sides.BOTTOM&&(this.ready=1),e===i.Sides.TOP&&this.cancel()}update(t,e){const{dt:s}=e;this.graceTime>0&&(this.ready>0&&(t.sounds.add("jump"),this.engageTime=this.duration,this.graceTime=0),this.graceTime-=s),this.engageTime>0&&(t.vel.y=-(this.velocity+.3*Math.abs(t.vel.x)),this.engageTime-=s),this.ready--}}},"./src/traits/Killable.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.dead=!1,this.removeAfter=2,this.deadTime=0}kill(){this.queue((()=>this.dead=!0))}revive(){this.dead=!1,this.deadTime=0}update(t,e){const{dt:s,level:i}=e;this.dead&&(this.deadTime+=s,this.deadTime>this.removeAfter&&this.queue((()=>i.entities.delete(t))))}}},"./src/traits/PendulumMove.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.enabled=!0,this.speed=-30}obstruct(t,e){e!==i.Sides.LEFT&&e!==i.Sides.RIGHT||(this.speed*=-1)}update(t,e){this.enabled&&(t.vel.x=this.speed)}}},"./src/traits/Physics.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{level:s,dt:i}=e;t.pos.x+=t.vel.x*i,s.tileCollider.checkX(t,e),t.pos.y+=t.vel.y*i,s.tileCollider.checkY(t,e),t.vel.y+=this.gravity*i}}},"./src/traits/Player.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.lives=3,this.score=0}}},"./src/traits/PlayerController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/math.ts");class n extends i.Trait{constructor(){super(...arguments),this.player=null,this.checkpoint=new r.Vector,this.time=300,this.score=0}setPlayer(t){this.player=t,this.player.stomper.events.listen("stomp",(()=>{this.score+=100}))}update(t,e){const{dt:s,level:i}=e;this.player&&!i.entities.has(this.player)?(this.player.killable.revive(),this.player.pos.set(this.checkpoint.x,this.checkpoint.y),i.entities.add(this.player)):this.time-=2*s}}},"./src/traits/Solid.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.obstructs=!0}obstruct(t,e,s){if(this.obstructs)switch(e){case i.Sides.RIGHT:t.bounds.left=s.x1-t.size.x,t.vel.x=0;break;case i.Sides.LEFT:t.bounds.left=s.x2,t.vel.x=0;break;case i.Sides.BOTTOM:t.bounds.top=s.y1-t.size.y,t.vel.y=0;break;case i.Sides.TOP:t.bounds.top=s.y2,t.vel.y=0}}}},"./src/traits/Stomper.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Killable.ts");class n extends i.Trait{constructor(){super(...arguments),this.boundSpeed=400}bounce(t,e){t.bounds.bottom=e.bounds.top,t.vel.y=-this.boundSpeed}collides(t,e){const s=e.getTrait("killable");s&&s instanceof r.default&&!s.dead&&t.vel.y>e.vel.y&&(this.queue((()=>this.bounce(t,e))),t.sounds.add("stomp"),this.events.emit("stomp",t,e))}}},"./src/traits/Velocity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{update(t,e){const{dt:s}=e;t.pos.x+=t.vel.x*s,t.pos.y+=t.vel.y*s}}}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{s.r(i);var t=s("./src/Timer.ts"),e=s("./src/input.ts"),r=s("./src/Camera.ts"),n=s("./src/loaders/level.ts"),a=s("./src/entities.ts"),o=s("./src/layers/collision.ts"),c=s("./src/loaders/font.ts"),l=s("./src/layers/dashboard.ts"),d=s("./src/player.ts"),h=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const u=document.querySelector("canvas#screen"),f=()=>{window.removeEventListener("click",f),function(s){h(this,void 0,void 0,(function*(){const i=s.getContext("2d");i.imageSmoothingEnabled=!1;const h=new AudioContext,[u,f]=yield Promise.all([(0,a.loadEntities)(h),(0,c.loadFont)()]),p=yield(0,n.createLevelLoader)(u),y=yield p("1-1"),m=new r.default,v=u.mario(),g=(0,d.createPlayerEnv)(v);y.entities.add(g),y.comp.add((0,o.createCollisionLayer)(y)),y.comp.add((0,l.createDashboardLayer)(f,g.getTrait("controller"))),(0,e.setupKeyboard)(v).listenTo(window);const b=new t.default;b.update=t=>{y.update(t,h,u),m.pos.x=Math.max(0,v.pos.x-100),y.comp.draw(i,m)},b.start()}))}(u)};window.addEventListener("click",f)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckUsRUFBT25CLElBQUlVLEVBQUlrSCxLQUFLK0osSUFBSSxFQUFHdEMsRUFBTXJQLElBQUlVLEVBQUksS0FFekMrRSxFQUFNTCxLQUFLbkUsS0FBS0MsRUFBS0MsSUFHdkI0WSxFQUFNbGEsV0FPTm1hLENBQUt2VCxJQUVQekIsT0FBT0UsaUJBQWlCLFFBQVNyRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0F1ZGlvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQm91bmRpbmdCb3gudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQ2FtZXJhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0NvbXBvc2l0b3IudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvRW50aXR5LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0VudGl0eUNvbGxpZGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0V2ZW50RW1pdHRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9LZXlib2FyZFN0YXRlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0xldmVsLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1Nwcml0ZVNoZWV0LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1RpbGVDb2xsaWRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9UaW1lci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9hbmltLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0J1bGxldC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9DYW5ub24udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMvR29vbWJhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0tvb3BhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL01hcmlvLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2lucHV0LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9iYWNrZ3JvdW5kLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9jb2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbGF5ZXJzL2Rhc2hib2FyZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sYXllcnMvc3ByaXRlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9hdWRpby50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL2ZvbnQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9sZXZlbC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9tYXRoLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90aWxlcy9icmljay50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90aWxlcy9ncm91bmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0VtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0dvLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9HcmF2aXR5LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9KdW1wLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9LaWxsYWJsZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvUGVuZHVsdW1Nb3ZlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9QaHlzaWNzLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1BsYXllckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1NvbGlkLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9TdG9tcGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9WZWxvY2l0eS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXVkaW9Cb2FyZCB7XG4gIHByaXZhdGUgYnVmZmVyczogTWFwPHN0cmluZywgQXVkaW9CdWZmZXI+ID0gbmV3IE1hcCgpO1xuXG4gIGFkZChuYW1lOiBzdHJpbmcsIGJ1ZmZlcjogQXVkaW9CdWZmZXIpe1xuICAgIHRoaXMuYnVmZmVycy5zZXQobmFtZSwgYnVmZmVyKTtcbiAgfVxuXG4gIHBsYXkobmFtZTogc3RyaW5nLCBjb250ZXh0OiBBdWRpb0NvbnRleHQpe1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuYnVmZmVycy5nZXQobmFtZSk7XG4gICAgaWYoIWJ1ZmZlcikgcmV0dXJuO1xuICAgIGNvbnN0IHNvdXJjZSA9IGNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgc291cmNlLmNvbm5lY3QoY29udGV4dC5kZXN0aW5hdGlvbik7XG4gICAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9tYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvdW5kaW5nQm94IHtcbiAgcHJpdmF0ZSBwb3M6IFZlY3RvcjtcbiAgcHJpdmF0ZSBzaXplOiBWZWN0b3I7XG4gIHByaXZhdGUgb2Zmc2V0OiBWZWN0b3I7XG5cbiAgY29uc3RydWN0b3IocG9zOiBWZWN0b3IsIHNpemU6IFZlY3Rvciwgb2Zmc2V0OiBWZWN0b3Ipe1xuICAgIHRoaXMucG9zID0gcG9zO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gIH1cblxuICBvdmVybGFwcyhib3g6IEJvdW5kaW5nQm94KSA6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJvdHRvbSA+IGJveC50b3AgXG4gICAgICAgICYmIHRoaXMudG9wIDwgYm94LmJvdHRvbSBcbiAgICAgICAgJiYgdGhpcy5sZWZ0IDwgYm94LnJpZ2h0IFxuICAgICAgICAmJiB0aGlzLnJpZ2h0ID4gYm94LmxlZnQ7XG4gIH1cblxuICBnZXQgYm90dG9tKCl7IHJldHVybiB0aGlzLnBvcy55ICsgdGhpcy5zaXplLnkgKyB0aGlzLm9mZnNldC55OyB9XG4gIGdldCB0b3AoKXsgcmV0dXJuIHRoaXMucG9zLnkgKyB0aGlzLm9mZnNldC55OyB9XG4gIGdldCBsZWZ0KCl7IHJldHVybiB0aGlzLnBvcy54ICsgdGhpcy5vZmZzZXQueDsgfVxuICBnZXQgcmlnaHQoKXsgcmV0dXJuIHRoaXMucG9zLnggKyB0aGlzLnNpemUueCArIHRoaXMub2Zmc2V0Lng7IH1cblxuICBzZXQgYm90dG9tKHkpeyB0aGlzLnBvcy55ID0geSAtICh0aGlzLnNpemUueSArIHRoaXMub2Zmc2V0LnkpOyB9XG4gIHNldCB0b3AoeSl7IHRoaXMucG9zLnkgPSB5IC0gdGhpcy5vZmZzZXQueTsgfVxuICBzZXQgbGVmdCh4KXsgdGhpcy5wb3MueCA9IHggLSB0aGlzLm9mZnNldC54OyB9XG4gIHNldCByaWdodCh4KXsgdGhpcy5wb3MueCA9IHggLSAodGhpcy5zaXplLnggKyB0aGlzLm9mZnNldC54KTsgfVxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuL21hdGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcbiAgcHVibGljIHBvczogVmVjdG9yO1xuICBwdWJsaWMgc2l6ZTogVmVjdG9yO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMucG9zID0gbmV3IFZlY3RvcigwLCAwKTtcbiAgICB0aGlzLnNpemUgPSBuZXcgVmVjdG9yKDI1NiwgMjI0KTtcbiAgfVxufSIsImltcG9ydCBDYW1lcmEgZnJvbSBcIi4vQ2FtZXJhXCI7XG5cbmV4cG9ydCB0eXBlIExheWVyUmVuZGVyZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYT86IENhbWVyYSkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRvciB7XG4gIHByaXZhdGUgbGF5ZXJzOiBMYXllclJlbmRlcmVyW107XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5sYXllcnMgPSBbXTtcbiAgfVxuICBhZGQobGF5ZXI6IExheWVyUmVuZGVyZXIpe1xuICAgIHRoaXMubGF5ZXJzLnB1c2gobGF5ZXIpO1xuICB9XG4gIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICB0aGlzLmxheWVycy5mb3JFYWNoKGxheWVyID0+IGxheWVyKGN0eCwgY2FtZXJhKSlcbiAgfVxufSIsImltcG9ydCBBdWRpb0JvYXJkIGZyb20gXCIuL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCBCb3VuZGluZ0JveCBmcm9tIFwiLi9Cb3VuZGluZ0JveFwiO1xuaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcIi4vRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuL0xldmVsXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9tYXRoXCI7XG5pbXBvcnQgeyBSZXNvbHZlZFRpbGUgfSBmcm9tIFwiLi9UaWxlQ29sbGlkZXJcIjtcblxuZXhwb3J0IGVudW0gU2lkZXMge1xuICBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsXG59XG5cbmV4cG9ydCB0eXBlIFRhc2sgPSAoKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgVHJhaXQge1xuICBwdWJsaWMgdGFza3M6IFRhc2tbXSA9IFtdO1xuICBwdWJsaWMgZXZlbnRzOiBFdmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KXt9XG4gIGZpbmFsaXplKCl7XG4gICAgdGhpcy50YXNrcy5mb3JFYWNoKHRhc2sgPT4gdGFzaygpKTtcbiAgICB0aGlzLnRhc2tzLmxlbmd0aCA9IDA7XG4gIH1cbiAgb2JzdHJ1Y3QoZW50aXR5OiBFbnRpdHksIHNpZGU6IFNpZGVzLCBtYXRjaD86IFJlc29sdmVkVGlsZSl7fVxuICBxdWV1ZSh0YXNrOiBUYXNrKXtcbiAgICB0aGlzLnRhc2tzLnB1c2godGFzayk7XG4gIH1cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dD86IEdhbWVDb250ZXh0KXt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSB7XG4gIHB1YmxpYyBhdWRpb0JvYXJkOiBBdWRpb0JvYXJkO1xuICBwdWJsaWMgc291bmRzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbiAgXG4gIHB1YmxpYyBwb3M6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIHNpemU6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIG9mZnNldDogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgYm91bmRzOiBCb3VuZGluZ0JveDtcbiAgcHVibGljIHZlbDogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwcml2YXRlIHRyYWl0czogTWFwPHN0cmluZywgVHJhaXQ+ID0gbmV3IE1hcCgpO1xuICBwdWJsaWMgbGlmZXRpbWU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoYXVkaW9Cb2FyZD86IEF1ZGlvQm9hcmQpe1xuICAgIHRoaXMuYXVkaW9Cb2FyZCA9IGF1ZGlvQm9hcmQ7XG4gICAgdGhpcy5ib3VuZHMgPSBuZXcgQm91bmRpbmdCb3godGhpcy5wb3MsIHRoaXMuc2l6ZSwgdGhpcy5vZmZzZXQpO1xuICB9XG5cbiAgYWRkVHJhaXQobmFtZTogc3RyaW5nLCB0cmFpdDogVHJhaXQpe1xuICAgIHRoaXMudHJhaXRzLnNldChuYW1lLCB0cmFpdCk7XG4gIH1cblxuICBjb2xsaWRlcyhjYW5kaWRhdGU6IEVudGl0eSl7XG4gICAgdGhpcy50cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICB0cmFpdC5jb2xsaWRlcyh0aGlzLCBjYW5kaWRhdGUpO1xuICAgIH0pXG4gIH1cblxuICBmaW5hbGl6ZSgpe1xuICAgIHRoaXMudHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgdHJhaXQuZmluYWxpemUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFRyYWl0KG5hbWU6IHN0cmluZykgOiBUcmFpdCB7XG4gICAgY29uc3QgdHJhaXQgPSB0aGlzLnRyYWl0cy5nZXQobmFtZSk7XG4gICAgcmV0dXJuIHRyYWl0O1xuICB9XG5cbiAgb2JzdHJ1Y3Qoc2lkZTogU2lkZXMsIG1hdGNoPzogUmVzb2x2ZWRUaWxlKXtcbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0Lm9ic3RydWN0KHRoaXMsIHNpZGUsIG1hdGNoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHBsYXlTb3VuZHMoYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZCwgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpe1xuICAgIHRoaXMuc291bmRzLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICBhdWRpb0JvYXJkLnBsYXkobmFtZSwgYXVkaW9Db250ZXh0KTtcbiAgICB9KTtcbiAgICB0aGlzLnNvdW5kcy5jbGVhcigpO1xuICB9XG5cbiAgdXBkYXRlKGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgdGhpcy50cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICB0cmFpdC51cGRhdGUodGhpcywgZ2FtZUNvbnRleHQpO1xuICAgIH0pO1xuICAgIHRoaXMucGxheVNvdW5kcyh0aGlzLmF1ZGlvQm9hcmQsIGdhbWVDb250ZXh0LmF1ZGlvQ29udGV4dCk7XG4gICAgdGhpcy5saWZldGltZSArPSBnYW1lQ29udGV4dC5kdDtcbiAgfVxuXG4gIHB1YmxpYyBkcmF3OiBMYXllclJlbmRlcmVyID0gKGN0eCwgY2FtZXJhKSA9PiB7fTtcbn0iLCJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHlDb2xsaWRlciB7XG4gIGVudGl0aWVzOiBTZXQ8RW50aXR5PjtcbiAgY29uc3RydWN0b3IoZW50aXRpZXM6IFNldDxFbnRpdHk+KXtcbiAgICB0aGlzLmVudGl0aWVzID0gZW50aXRpZXM7XG4gIH1cbiAgY2hlY2soc3ViamVjdDogRW50aXR5KXtcbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goY2FuZGlkYXRlID0+IHtcbiAgICAgIGlmKHN1YmplY3QgPT09IGNhbmRpZGF0ZSkgcmV0dXJuO1xuXG4gICAgICBpZihzdWJqZWN0LmJvdW5kcy5vdmVybGFwcyhjYW5kaWRhdGUuYm91bmRzKSl7XG4gICAgICAgIHN1YmplY3QuY29sbGlkZXMoY2FuZGlkYXRlKTtcbiAgICAgICAgY2FuZGlkYXRlLmNvbGxpZGVzKHN1YmplY3QpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn0iLCJ0eXBlIEV2ZW50Q2FsbGJhY2sgPSAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50RW1pdHRlciB7XG4gIHByaXZhdGUgbGlzdGVuZXJzOiBNYXA8c3RyaW5nLCBFdmVudENhbGxiYWNrW10+ID0gbmV3IE1hcCgpO1xuXG4gIGxpc3RlbihuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKXtcbiAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmxpc3RlbmVycy5nZXQobmFtZSkgfHwgW107XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRoaXMubGlzdGVuZXJzLnNldChuYW1lLCBjYWxsYmFja3MpO1xuICB9XG5cbiAgZW1pdChuYW1lOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKXtcbiAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmxpc3RlbmVycy5nZXQobmFtZSk7XG4gICAgaWYoIWNhbGxiYWNrcykgcmV0dXJuO1xuICAgIGNhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IHtcbiAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0pO1xuICB9XG59IiwiZXhwb3J0IGVudW0gS2V5U3RhdGUgeyBSRUxFQVNFRCwgUFJFU1NFRCB9O1xuXG50eXBlIEtleU1hcCA9IChzdGF0ZTogS2V5U3RhdGUpID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkU3RhdGUge1xuICBwcml2YXRlIGtleVN0YXRlczogTWFwPHN0cmluZyxLZXlTdGF0ZT47XG4gIHByaXZhdGUga2V5TWFwOiBNYXA8c3RyaW5nLEtleU1hcD47XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5rZXlTdGF0ZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5rZXlNYXAgPSBuZXcgTWFwKCk7XG4gIH1cbiAgYWRkTWFwcGluZyhjb2RlOiBzdHJpbmcsIGNhbGxiYWNrOiBLZXlNYXApe1xuICAgIHRoaXMua2V5TWFwLnNldChjb2RlLCBjYWxsYmFjayk7XG4gIH1cbiAgaGFuZGxlRXZlbnQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpe1xuICAgIGNvbnN0IHsgY29kZSwgdHlwZSB9ID0gZXZlbnQ7XG5cbiAgICBpZighdGhpcy5rZXlNYXAuaGFzKGNvZGUpKSByZXR1cm47XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3Qga2V5U3RhdGUgPSB0eXBlID09PSAna2V5ZG93bicgPyBLZXlTdGF0ZS5QUkVTU0VEIDogS2V5U3RhdGUuUkVMRUFTRUQ7XG5cbiAgICBpZih0aGlzLmtleVN0YXRlcy5nZXQoY29kZSkgPT09IGtleVN0YXRlKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmtleVN0YXRlcy5zZXQoY29kZSwga2V5U3RhdGUpO1xuXG4gICAgdGhpcy5rZXlNYXAuZ2V0KGNvZGUpKGtleVN0YXRlKTtcbiAgfVxuICBsaXN0ZW5Ubyh3aW5kb3c6IGFueSl7XG4gICAgWydrZXlkb3duJywgJ2tleXVwJ10uZm9yRWFjaChldmVudE5hbWU9PntcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgQ29tcG9zaXRvciBmcm9tIFwiLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgeyBFbnRpdHlGYWN0b3J5IH0gZnJvbSBcIi4vZW50aXRpZXNcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgRW50aXR5Q29sbGlkZXIgZnJvbSBcIi4vRW50aXR5Q29sbGlkZXJcIjtcbmltcG9ydCBUaWxlQ29sbGlkZXIgZnJvbSBcIi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUNvbnRleHQge1xuICBkdDogbnVtYmVyLFxuICBsZXZlbDogTGV2ZWwsXG4gIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LFxuICBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5LFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbCB7XG4gIHB1YmxpYyBjb21wOiBDb21wb3NpdG9yID0gbmV3IENvbXBvc2l0b3IoKTtcbiAgcHVibGljIGVudGl0aWVzOiBTZXQ8RW50aXR5PiA9IG5ldyBTZXQoKTtcbiAgcHVibGljIHRpbGVDb2xsaWRlcjogVGlsZUNvbGxpZGVyID0gbmV3IFRpbGVDb2xsaWRlcigpO1xuICBwdWJsaWMgZW50aXR5Q29sbGlkZXI6IEVudGl0eUNvbGxpZGVyID0gbmV3IEVudGl0eUNvbGxpZGVyKHRoaXMuZW50aXRpZXMpO1xuICBwdWJsaWMgdGltZTogbnVtYmVyID0gMDtcbiAgXG4gIHVwZGF0ZShkdDogbnVtYmVyLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSl7XG4gICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBlbnRpdHkudXBkYXRlKHsgZHQsIGxldmVsOiB0aGlzLCBhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnkgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHRoaXMuZW50aXR5Q29sbGlkZXIuY2hlY2soZW50aXR5KTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgZW50aXR5LmZpbmFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnRpbWUgKz0gZHQ7XG4gIH1cbn0iLCJ0eXBlIEFuaW1hdGlvblJlbmRlcmVyID0gKGRpc3RhbmNlOiBudW1iZXIpID0+IHN0cmluZztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlU2hlZXQge1xuICBwcml2YXRlIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xuICBwcml2YXRlIHdpZHRoOiBudW1iZXI7IFxuICBwcml2YXRlIGhlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIGZyYW1lczogTWFwPHN0cmluZywgSFRNTENhbnZhc0VsZW1lbnRbXT47XG4gIHByaXZhdGUgYW5pbWF0aW9uczogTWFwPHN0cmluZywgQW5pbWF0aW9uUmVuZGVyZXI+O1xuICBjb25zdHJ1Y3RvcihpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcil7XG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmZyYW1lcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmFuaW1hdGlvbnMgPSBuZXcgTWFwKCk7XG4gIH1cbiAgZ2V0QW5pbWF0aW9uKG5hbWU6IHN0cmluZyl7XG4gICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5nZXQobmFtZSk7XG4gIH1cbiAgZGVmaW5lQW5pbShuYW1lOiBzdHJpbmcsIGFuaW1hdGlvbjogQW5pbWF0aW9uUmVuZGVyZXIpe1xuICAgIHRoaXMuYW5pbWF0aW9ucy5zZXQobmFtZSwgYW5pbWF0aW9uKTtcbiAgfSAgXG4gIGRlZmluZShuYW1lOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcil7XG4gICAgY29uc3QgYnVmZmVycyA9IFtmYWxzZSwgdHJ1ZV0ubWFwKGZsaXAgPT4ge1xuICAgICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAke3RoaXMud2lkdGh9cHhgKTtcbiAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBgJHt0aGlzLmhlaWdodH1weGApO1xuXG4gICAgICBpZihmbGlwKXtcbiAgICAgICAgY3R4LnNjYWxlKC0xLCAxKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgtd2lkdGgsIDApO1xuICAgICAgfVxuXG4gICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICB0aGlzLmltYWdlLCBcbiAgICAgICAgeCwgeSwgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgMCwgMCwgd2lkdGgsIGhlaWdodFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGN0eC5jYW52YXM7XG4gICAgfSlcblxuICAgIHRoaXMuZnJhbWVzLnNldChuYW1lLCBidWZmZXJzKTtcbiAgfVxuICBkZWZpbmVUaWxlKG5hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgIHRoaXMuZGVmaW5lKG5hbWUsIHgqdGhpcy53aWR0aCwgeSp0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIGRyYXcobmFtZTogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGZsaXA6IGJvb2xlYW4gPSBmYWxzZSl7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLmZyYW1lcy5nZXQobmFtZSk7XG4gICAgaWYoIWZyYW1lKXtcbiAgICAgIGNvbnNvbGUud2FybihgRnJhbWUgJHtuYW1lfSBpcyBub3QgZGVmaW5lZCFgKTtcbiAgICB9XG4gICAgY3R4LmRyYXdJbWFnZShmcmFtZVtmbGlwPzE6MF0sIHgsIHkpO1xuICB9XG4gIGRyYXdBbmltKG5hbWU6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkaXN0YW5jZTogbnVtYmVyKXtcbiAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnMuZ2V0KG5hbWUpO1xuICAgIGlmKCFhbmltYXRpb24pIHJldHVybiB0aGlzLmRyYXdUaWxlKG5hbWUsIGN0eCwgeCwgeSk7XG4gICAgdGhpcy5kcmF3VGlsZShhbmltYXRpb24oZGlzdGFuY2UpLCBjdHgsIHgsIHkpO1xuICB9XG4gIGRyYXdUaWxlKG5hbWU6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBmbGlwOiBib29sZWFuID0gZmFsc2Upe1xuICAgIHRoaXMuZHJhdyhuYW1lLCBjdHgsIHgqdGhpcy53aWR0aCwgeSp0aGlzLmhlaWdodCwgZmxpcCk7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi9MZXZlbFwiO1xuaW1wb3J0IHsgTGV2ZWxUaWxlU3BlYyB9IGZyb20gXCIuL2xvYWRlcnMvbGV2ZWxcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuL21hdGhcIjtcbmltcG9ydCB7IGJyaWNrIH0gZnJvbSBcIi4vdGlsZXMvYnJpY2tcIjtcbmltcG9ydCB7IGdyb3VuZCB9IGZyb20gXCIuL3RpbGVzL2dyb3VuZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc29sdmVkVGlsZSB7XG4gIHRpbGU6IExldmVsVGlsZVNwZWMsXG4gIHgxOiBudW1iZXIsIHgyOiBudW1iZXIsXG4gIHkxOiBudW1iZXIsIHkyOiBudW1iZXIsXG4gIGluZGV4WDogbnVtYmVyLCBpbmRleFk6IG51bWJlcixcbn1cblxuZXhwb3J0IHR5cGUgVGlsZUNvbGxpc2lvbkNvbnRleHQgPSB7XG4gIGVudGl0eTogRW50aXR5LCBcbiAgbWF0Y2g6IFJlc29sdmVkVGlsZSwgXG4gIHJlc29sdmVyOiBUaWxlUmVzb2x2ZXIsIFxuICBnYW1lQ29udGV4dDogR2FtZUNvbnRleHRcbn1cblxudHlwZSBIYW5kbGVyQ2FsbGJhY2sgPSAodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgSGFuZGxlcnMge1xuICBba2V5OiBzdHJpbmddOiBIYW5kbGVyQ2FsbGJhY2tbXSxcbn1cblxuY29uc3QgaGFuZGxlcnM6IEhhbmRsZXJzID0ge1xuICBicmljayxcbiAgZ3JvdW5kLFxufTtcblxuZXhwb3J0IGNsYXNzIFRpbGVSZXNvbHZlciB7XG4gIHB1YmxpYyBtYXRyaXg6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPjtcbiAgcHVibGljIHRpbGVTaXplOiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKG1hdHJpeDogTWF0cml4PExldmVsVGlsZVNwZWM+LCB0aWxlU2l6ZTogbnVtYmVyID0gMTYpe1xuICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgIHRoaXMudGlsZVNpemUgPSB0aWxlU2l6ZTtcbiAgfVxuICB0b0luZGV4KHBvczogbnVtYmVyKSA6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IocG9zIC8gdGhpcy50aWxlU2l6ZSk7XG4gIH1cbiAgdG9JbmRleFJhbmdlKHBvczE6IG51bWJlciwgcG9zMjogbnVtYmVyKTogbnVtYmVyW117XG4gICAgY29uc3QgcE1heCA9IE1hdGguY2VpbChwb3MyIC8gdGhpcy50aWxlU2l6ZSkgKiB0aGlzLnRpbGVTaXplO1xuICAgIGNvbnN0IHJhbmdlID0gW107XG4gICAgbGV0IHBvcyA9IHBvczE7XG4gICAgZG8ge1xuICAgICAgcmFuZ2UucHVzaCh0aGlzLnRvSW5kZXgocG9zKSk7XG4gICAgICBwb3MgKz0gdGhpcy50aWxlU2l6ZTtcbiAgICB9d2hpbGUocG9zIDwgcE1heCk7XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9XG4gIGdldEJ5SW5kZXgoeDogbnVtYmVyLCB5OiBudW1iZXIpIDogUmVzb2x2ZWRUaWxlIHtcbiAgICBjb25zdCB0aWxlID0gdGhpcy5tYXRyaXguZ2V0KHgsIHkpO1xuICAgIGlmKHRpbGUpIHJldHVybiB7XG4gICAgICB0aWxlLFxuICAgICAgeDE6IHggKiB0aGlzLnRpbGVTaXplLFxuICAgICAgeDI6ICh4KzEpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIHkxOiB5ICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIHkyOiAoeSsxKSAqIHRoaXMudGlsZVNpemUsXG4gICAgICBpbmRleFg6IHgsIGluZGV4WTogeSxcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc2VhcmNoQnlQb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcikgOiBSZXNvbHZlZFRpbGUge1xuICAgIHJldHVybiB0aGlzLmdldEJ5SW5kZXgodGhpcy50b0luZGV4KHgpLCB0aGlzLnRvSW5kZXgoeSkpO1xuICB9XG4gIHNlYXJjaEJ5UmFuZ2UoeDE6IG51bWJlciwgeDI6IG51bWJlciwgeTE6IG51bWJlciwgeTI6IG51bWJlcikgOiBSZXNvbHZlZFRpbGVbXSB7XG4gICAgY29uc3QgbWF0Y2hlczogUmVzb2x2ZWRUaWxlW10gPSBbXTtcbiAgICB0aGlzLnRvSW5kZXhSYW5nZSh4MSwgeDIpLmZvckVhY2goeCA9PiB7XG4gICAgICB0aGlzLnRvSW5kZXhSYW5nZSh5MSwgeTIpLmZvckVhY2goeSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy5nZXRCeUluZGV4KHgsIHkpO1xuICAgICAgICBpZighbWF0Y2gpIHJldHVybjtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKG1hdGNoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXRjaGVzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGVDb2xsaWRlciB7XG4gIHB1YmxpYyByZXNvbHZlcnM6IFRpbGVSZXNvbHZlcltdID0gW107XG5cbiAgYWRkR3JpZCh0aWxlTWF0cml4OiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz4pe1xuICAgIHRoaXMucmVzb2x2ZXJzLnB1c2gobmV3IFRpbGVSZXNvbHZlcih0aWxlTWF0cml4KSk7XG4gIH1cblxuICBjaGVja1goZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgaWYoZW50aXR5LnZlbC54ID09PSAwKSByZXR1cm47XG4gICAgbGV0IHggPSBlbnRpdHkuYm91bmRzLmxlZnQgKyAoZW50aXR5LnZlbC54ID4gMCA/IGVudGl0eS5zaXplLnggOiAwKTtcblxuICAgIGZvcihjb25zdCByZXNvbHZlciBvZiB0aGlzLnJlc29sdmVycyl7XG4gICAgICBjb25zdCBtYXRjaGVzID0gcmVzb2x2ZXIuc2VhcmNoQnlSYW5nZShcbiAgICAgICAgeCwgeCxcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AsIGVudGl0eS5ib3VuZHMuYm90dG9tXG4gICAgICApO1xuXG4gICAgICBtYXRjaGVzLmZvckVhY2gobWF0Y2ggPT57XG4gICAgICAgIHRoaXMuaGFuZGxlKDAsIHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY2hlY2tZKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpe1xuICAgIGlmKGVudGl0eS52ZWwueSA9PT0gMCkgcmV0dXJuO1xuICAgIGxldCB5ID0gZW50aXR5LmJvdW5kcy50b3AgKyAoZW50aXR5LnZlbC55ID4gMCA/IGVudGl0eS5zaXplLnkgOiAwKTtcbiAgXG4gICAgZm9yKGNvbnN0IHJlc29sdmVyIG9mIHRoaXMucmVzb2x2ZXJzKXtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSByZXNvbHZlci5zZWFyY2hCeVJhbmdlKFxuICAgICAgICBlbnRpdHkuYm91bmRzLmxlZnQsIGVudGl0eS5ib3VuZHMucmlnaHQsIFxuICAgICAgICB5LCB5XG4gICAgICApO1xuXG4gICAgICBtYXRjaGVzLmZvckVhY2gobWF0Y2ggPT57XG4gICAgICAgIHRoaXMuaGFuZGxlKDEsIHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGUoaW5kZXg6IG51bWJlciwgdGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNbdGlsZUNvbGxpc2lvbkNvbnRleHQubWF0Y2gudGlsZS50eXBlXTtcbiAgICBpZighaGFuZGxlciB8fCAhaGFuZGxlcltpbmRleF0pIHJldHVybjtcbiAgICBoYW5kbGVyW2luZGV4XSh0aWxlQ29sbGlzaW9uQ29udGV4dCk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lciB7XG4gIHB1YmxpYyB1cGRhdGU6IChkdDogbnVtYmVyKSA9PiB2b2lkO1xuICBwcml2YXRlIHVwZGF0ZVByb3h5OiAoZHQ6IG51bWJlcikgPT4gdm9pZDtcbiAgcHJpdmF0ZSBydW5uaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKGRlbHRhVGltZTogbnVtYmVyID0gMS82MCl7XG4gICAgbGV0IGFjY3VtdWxhdGVkVGltZSA9IDAsIGxhc3RUaW1lID0gMDtcblxuICAgIHRoaXMudXBkYXRlUHJveHkgPSAodGltZTogbnVtYmVyID0gMCkgPT4ge1xuICAgICAgYWNjdW11bGF0ZWRUaW1lICs9ICh0aW1lIC0gbGFzdFRpbWUpIC8gMTAwMDtcblxuICAgICAgaWYoYWNjdW11bGF0ZWRUaW1lID4gMSkgYWNjdW11bGF0ZWRUaW1lID0gMTtcbiAgXG4gICAgICB3aGlsZShhY2N1bXVsYXRlZFRpbWUgPiBkZWx0YVRpbWUpe1xuICAgICAgICB0aGlzLnVwZGF0ZShkZWx0YVRpbWUpXG4gICAgICAgIGFjY3VtdWxhdGVkVGltZSAtPSBkZWx0YVRpbWU7XG4gICAgICB9XG5cbiAgICAgIGxhc3RUaW1lID0gdGltZTtcblxuICAgICAgdGhpcy5lbnF1ZXVlKCk7XG4gICAgfVxuICB9XG4gIGVucXVldWUoKXtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVQcm94eSk7XG4gIH1cbiAgc3RhcnQoKXtcbiAgICBpZih0aGlzLnJ1bm5pbmcpIHJldHVybjtcbiAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgIHRoaXMuZW5xdWV1ZSgpO1xuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFuaW0oZnJhbWVzOiBzdHJpbmdbXSwgZnJhbWVMZW46IG51bWJlcil7XG4gIHJldHVybiBmdW5jdGlvbiByZXNvbHZlRnJhbWUoZGlzdGFuY2U6IG51bWJlcil7XG4gICAgcmV0dXJuIGZyYW1lc1tNYXRoLmZsb29yKGRpc3RhbmNlIC8gZnJhbWVMZW4pICUgZnJhbWVzLmxlbmd0aF07XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8sIHsgbG9hZE1hcmlvIH0gZnJvbSAnLi9lbnRpdGllcy9NYXJpbyc7XG5pbXBvcnQgR29vbWJhLCB7IGxvYWRHb29tYmEgfSBmcm9tICcuL2VudGl0aWVzL0dvb21iYSc7XG5pbXBvcnQgS29vcGEsIHsgbG9hZEtvb3BhIH0gZnJvbSAnLi9lbnRpdGllcy9Lb29wYSc7XG5pbXBvcnQgRW50aXR5IGZyb20gJy4vRW50aXR5JztcbmltcG9ydCBCdWxsZXQsIHsgbG9hZEJ1bGxldCB9IGZyb20gJy4vZW50aXRpZXMvQnVsbGV0JztcbmltcG9ydCBDYW5ub24sIHsgbG9hZENhbm5vbiB9IGZyb20gJy4vZW50aXRpZXMvQ2Fubm9uJztcblxuZXhwb3J0IHR5cGUgRW50aXR5Q3JlYXRvcjxUIGV4dGVuZHMgRW50aXR5PiA9ICgpID0+IFQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5RmFjdG9yeSB7XG4gIFtrZXk6IHN0cmluZ106IEVudGl0eUNyZWF0b3I8RW50aXR5PjtcbiAgbWFyaW8/OiBFbnRpdHlDcmVhdG9yPE1hcmlvPixcbiAgZ29vbWJhPzogRW50aXR5Q3JlYXRvcjxHb29tYmE+LFxuICBrb29wYT86IEVudGl0eUNyZWF0b3I8S29vcGE+LFxuICBidWxsZXQ/OiBFbnRpdHlDcmVhdG9yPEJ1bGxldD4sXG4gIGNhbm5vbj86IEVudGl0eUNyZWF0b3I8Q2Fubm9uPixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRFbnRpdGllcyhhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEVudGl0eUZhY3Rvcnk+IHtcbiAgY29uc3QgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSA9IHt9O1xuXG4gIGZ1bmN0aW9uIGFkZEFzKG5hbWU6IHN0cmluZyl7XG4gICAgcmV0dXJuIChmYWN0b3J5OiBFbnRpdHlDcmVhdG9yPEVudGl0eT4pID0+IGVudGl0eUZhY3RvcnlbbmFtZV0gPSBmYWN0b3J5O1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICBsb2FkTWFyaW8oYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdtYXJpbycpKSxcbiAgICBsb2FkR29vbWJhKGF1ZGlvQ29udGV4dCkudGhlbihhZGRBcygnZ29vbWJhJykpLFxuICAgIGxvYWRLb29wYShhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ2tvb3BhJykpLFxuICAgIGxvYWRCdWxsZXQoYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdidWxsZXQnKSksXG4gICAgbG9hZENhbm5vbihhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnkpLnRoZW4oYWRkQXMoJ2Nhbm5vbicpKSxcbiAgXSlcbiAgLnRoZW4oKCkgPT4gZW50aXR5RmFjdG9yeSk7XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IEdyYXZpdHkgZnJvbSBcIi4uL3RyYWl0cy9HcmF2aXR5XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4uL3RyYWl0cy9LaWxsYWJsZVwiO1xuaW1wb3J0IFBoeXNpY3MgZnJvbSBcIi4uL3RyYWl0cy9QaHlzaWNzXCI7XG5pbXBvcnQgU29saWQgZnJvbSBcIi4uL3RyYWl0cy9Tb2xpZFwiO1xuaW1wb3J0IFN0b21wZXIgZnJvbSBcIi4uL3RyYWl0cy9TdG9tcGVyXCI7XG5pbXBvcnQgVmVsb2NpdHkgZnJvbSBcIi4uL3RyYWl0cy9WZWxvY2l0eVwiO1xuaW1wb3J0IE1hcmlvIGZyb20gXCIuL01hcmlvXCI7XG5cbmNsYXNzIEJlaGF2aW9yIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGdyYXZpdHk6IEdyYXZpdHkgPSBuZXcgR3Jhdml0eSgpO1xuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IHN0b21wZXIgPSB0aGVtLmdldFRyYWl0KCdzdG9tcGVyJyk7XG4gICAgaWYodXMgaW5zdGFuY2VvZiBCdWxsZXQgJiYgIXVzLmtpbGxhYmxlLmRlYWQgJiYgc3RvbXBlciBpbnN0YW5jZW9mIFN0b21wZXIpe1xuICAgICAgaWYodGhlbS52ZWwueSA+IHVzLnZlbC55KXtcbiAgICAgICAgdXMua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB1cy52ZWwuc2V0KDEwMCwgLTIwMCk7XG4gICAgICB9ZWxzZSBpZih0aGVtIGluc3RhbmNlb2YgTWFyaW8pe1xuICAgICAgICB0aGVtLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGlmKCEoZW50aXR5IGluc3RhbmNlb2YgQnVsbGV0KSkgcmV0dXJuO1xuICAgIGlmKGVudGl0eS5raWxsYWJsZS5kZWFkKXtcbiAgICAgIHRoaXMuZ3Jhdml0eS51cGRhdGUoZW50aXR5LCBnYW1lQ29udGV4dCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldCBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyB2ZWxvY2l0eTogVmVsb2NpdHk7XG4gIHB1YmxpYyBiZWhhdmlvcjogQmVoYXZpb3I7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3ZlbG9jaXR5JywgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWxvY2l0eSgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdidWxsZXQnLCB0aGlzLmJlaGF2aW9yID0gbmV3IEJlaGF2aW9yKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2tpbGxhYmxlJywgdGhpcy5raWxsYWJsZSA9IG5ldyBLaWxsYWJsZSgpKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBCdWxsZXRGYWN0b3J5ID0gKCkgPT4gQnVsbGV0O1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEJ1bGxldChhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEJ1bGxldEZhY3Rvcnk+IHtcbiAgcmV0dXJuIGxvYWRTcHJpdGVTaGVldCgnYnVsbGV0JylcbiAgLnRoZW4oY3JlYXRlQnVsbGV0RmFjdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1bGxldEZhY3Rvcnkoc3ByaXRlczogU3ByaXRlU2hlZXQpIDogQnVsbGV0RmFjdG9yeSB7XG4gIGZ1bmN0aW9uIGRyYXdCdWxsZXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdygnYnVsbGV0JywgY3R4LCAwLCAwLCB0aGlzLnZlbC54IDwgMCk7XG4gIH1cbiAgXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVCdWxsZXQoKXtcbiAgICBjb25zdCBidWxsZXQgPSBuZXcgQnVsbGV0KCk7XG4gICAgYnVsbGV0LnNpemUuc2V0KDE2LCAxNik7XG5cbiAgICBidWxsZXQuZHJhdyA9IGRyYXdCdWxsZXQ7XG5cbiAgICByZXR1cm4gYnVsbGV0O1xuICB9XG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4uL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCB7IEVudGl0eUZhY3RvcnkgfSBmcm9tIFwiLi4vZW50aXRpZXNcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZEF1ZGlvQm9hcmQgfSBmcm9tIFwiLi4vbG9hZGVycy9hdWRpb1wiO1xuaW1wb3J0IHsgZmluZFBsYXllcnMgfSBmcm9tIFwiLi4vcGxheWVyXCI7XG5pbXBvcnQgRW1pdHRlciBmcm9tIFwiLi4vdHJhaXRzL0VtaXR0ZXJcIjtcblxuY29uc3QgSE9MRF9GSVJFX1RIUkVTSE9MRCA9IDMwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW5ub24gZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgZW1pdHRlcjogRW1pdHRlcjtcblxuICBjb25zdHJ1Y3RvcihhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKXtcbiAgICBzdXBlcihhdWRpb0JvYXJkKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdlbWl0dGVyJywgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKSk7XG4gICAgdGhpcy5zaXplLnNldCgxNiwgMTQpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIENhbm5vbkZhY3RvcnkgPSAoKSA9PiBDYW5ub247XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ2Fubm9uKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KSA6IFByb21pc2U8Q2Fubm9uRmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZEF1ZGlvQm9hcmQoJ2Nhbm5vbicsIGF1ZGlvQ29udGV4dClcbiAgLnRoZW4oYXVkaW8gPT4ge1xuICAgIHJldHVybiBjcmVhdGVDYW5ub25GYWN0b3J5KGF1ZGlvLCBlbnRpdHlGYWN0b3J5KTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlQ2Fubm9uRmFjdG9yeShhdWRpb0JvYXJkOiBBdWRpb0JvYXJkLCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KSA6IENhbm5vbkZhY3Rvcnkge1xuICBmdW5jdGlvbiBlbWl0QnVsbGV0KGVudGl0eTogRW50aXR5LCBsZXZlbDogTGV2ZWwpe1xuICAgIGlmKCEoZW50aXR5IGluc3RhbmNlb2YgQ2Fubm9uKSkgcmV0dXJuO1xuXG4gICAgbGV0IGRpcjtcbiAgICBmb3IoY29uc3QgcGxheWVyIG9mIGZpbmRQbGF5ZXJzKGxldmVsKSl7XG4gICAgICBkaXIgPSBwbGF5ZXIucG9zLnggLSBlbnRpdHkucG9zLng7XG4gICAgICBpZihNYXRoLmFicyhwbGF5ZXIucG9zLnggLSBlbnRpdHkucG9zLngpIDw9IEhPTERfRklSRV9USFJFU0hPTEQpe1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYnVsbGV0ID0gZW50aXR5RmFjdG9yeS5idWxsZXQoKTtcbiAgICBidWxsZXQucG9zLmNvcHkoZW50aXR5LnBvcyk7XG4gICAgYnVsbGV0LnZlbC54ID0gODAgKiBNYXRoLnNpZ24oZGlyKTtcblxuICAgIGVudGl0eS5zb3VuZHMuYWRkKCdzaG9vdCcpO1xuICAgIGxldmVsLmVudGl0aWVzLmFkZChidWxsZXQpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUNhbm5vbigpe1xuICAgIGNvbnN0IGNhbm5vbiA9IG5ldyBDYW5ub24oYXVkaW9Cb2FyZCk7XG5cbiAgICBjYW5ub24uZW1pdHRlci5pbnRlcnZhbCA9IDQ7XG4gICAgY2Fubm9uLmVtaXR0ZXIuZW1pdHRlcnMucHVzaChlbWl0QnVsbGV0KTtcblxuICAgIHJldHVybiBjYW5ub247XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGVuZHVsdW1Nb3ZlIGZyb20gXCIuLi90cmFpdHMvUGVuZHVsdW1Nb3ZlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcbmltcG9ydCBNYXJpbyBmcm9tIFwiLi9NYXJpb1wiO1xuXG5jbGFzcyBCZWhhdmlvciBleHRlbmRzIFRyYWl0IHtcbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KTogdm9pZCB7XG4gICAgY29uc3Qgc3RvbXBlciA9IHRoZW0uZ2V0VHJhaXQoJ3N0b21wZXInKTtcbiAgICBpZih1cyBpbnN0YW5jZW9mIEdvb21iYSAmJiAhdXMua2lsbGFibGUuZGVhZCAmJiBzdG9tcGVyIGluc3RhbmNlb2YgU3RvbXBlcil7XG4gICAgICBpZih0aGVtLnZlbC55ID4gdXMudmVsLnkpe1xuICAgICAgICB1cy5raWxsYWJsZS5raWxsKCk7XG4gICAgICAgIHVzLnBlbmR1bHVtTW92ZS5zcGVlZCA9IDA7XG4gICAgICB9ZWxzZSBpZih0aGVtIGluc3RhbmNlb2YgTWFyaW8pe1xuICAgICAgICB0aGVtLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29vbWJhIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHBoeXNpY3M6IFBoeXNpY3M7XG4gIHB1YmxpYyBzb2xpZDogU29saWQ7XG4gIHB1YmxpYyBwZW5kdWx1bU1vdmU6IFBlbmR1bHVtTW92ZTtcbiAgcHVibGljIGJlaGF2aW9yOiBCZWhhdmlvcjtcbiAgcHVibGljIGtpbGxhYmxlOiBLaWxsYWJsZTtcblxuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGh5c2ljcycsIHRoaXMucGh5c2ljcyA9IG5ldyBQaHlzaWNzKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3NvbGlkJywgdGhpcy5zb2xpZCA9IG5ldyBTb2xpZCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwZW5kdWx1bU1vdmUnLCB0aGlzLnBlbmR1bHVtTW92ZSA9IG5ldyBQZW5kdWx1bU1vdmUoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnZ29vbWJhJywgdGhpcy5iZWhhdmlvciA9IG5ldyBCZWhhdmlvcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgR29vbWJhRmFjdG9yeSA9ICgpID0+IEdvb21iYTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRHb29tYmEoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxHb29tYmFGYWN0b3J5PiB7XG4gIHJldHVybiBsb2FkU3ByaXRlU2hlZXQoJ2dvb21iYScpXG4gIC50aGVuKGNyZWF0ZUdvb21iYUZhY3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVHb29tYmFGYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0KSA6IEdvb21iYUZhY3Rvcnkge1xuICBjb25zdCB3YWxrQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCd3YWxrJyk7XG5cbiAgZnVuY3Rpb24gcm91dGVBbmltKGdvb21iYTogR29vbWJhKSA6IHN0cmluZyB7XG4gICAgaWYoZ29vbWJhLmtpbGxhYmxlLmRlYWQpe1xuICAgICAgcmV0dXJuICdmbGF0JztcbiAgICB9XG4gICAgcmV0dXJuIHdhbGtBbmltKGdvb21iYS5saWZldGltZSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3R29vbWJhKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBzcHJpdGVzLmRyYXcocm91dGVBbmltKHRoaXMpLCBjdHgsIDAsIDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlR29vbWJhKCl7XG4gICAgY29uc3QgZ29vbWJhID0gbmV3IEdvb21iYSgpO1xuICAgIGdvb21iYS5zaXplLnNldCgxNiwgMTYpO1xuXG4gICAgZ29vbWJhLmRyYXcgPSBkcmF3R29vbWJhO1xuXG4gICAgcmV0dXJuIGdvb21iYTtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGVuZHVsdW1Nb3ZlIGZyb20gXCIuLi90cmFpdHMvUGVuZHVsdW1Nb3ZlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcbmltcG9ydCBNYXJpbyBmcm9tIFwiLi9NYXJpb1wiO1xuXG5lbnVtIEtvb3BhU3RhdGUge1xuICBXQUxLSU5HLCBISURJTkcsIFBBTklDLFxufVxuXG5jbGFzcyBCZWhhdmlvciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIHN0YXRlOiBLb29wYVN0YXRlID0gS29vcGFTdGF0ZS5XQUxLSU5HO1xuICBwdWJsaWMgaGlkZVRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgaGlkZUR1cmF0aW9uOiBudW1iZXIgPSA1O1xuICBwcml2YXRlIHBhbmljU3BlZWQ6IG51bWJlciA9IDMwMDtcbiAgcHJpdmF0ZSB3YWxrU3BlZWQ6IG51bWJlciA9IG51bGw7XG5cbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KTogdm9pZCB7XG4gICAgY29uc3Qgc3RvbXBlciA9IHRoZW0uZ2V0VHJhaXQoJ3N0b21wZXInKTtcbiAgICBpZih1cyBpbnN0YW5jZW9mIEtvb3BhICYmICF1cy5raWxsYWJsZS5kZWFkICYmIHN0b21wZXIgaW5zdGFuY2VvZiBTdG9tcGVyKXtcbiAgICAgIGlmKHRoZW0udmVsLnkgPiB1cy52ZWwueSl7XG4gICAgICAgIHRoaXMuaGFuZGxlU3RvbXAodXMsIHRoZW0pO1xuICAgICAgfWVsc2UgaWYodGhlbSBpbnN0YW5jZW9mIE1hcmlvKXtcbiAgICAgICAgdGhpcy5oYW5kbGVOdWRnZSh1cywgdGhlbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTnVkZ2UodXM6IEtvb3BhLCB0aGVtOiBNYXJpbyl7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpe1xuICAgICAgY2FzZSBLb29wYVN0YXRlLldBTEtJTkc6IHRoZW0ua2lsbGFibGUua2lsbCgpOyBicmVhaztcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5ISURJTkc6IHRoaXMucGFuaWModXMsIHRoZW0pOyBicmVhaztcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5QQU5JQzoge1xuICAgICAgICBjb25zdCB0cmF2ZWxEaXIgPSBNYXRoLnNpZ24odXMudmVsLngpO1xuICAgICAgICBjb25zdCBpbXBhY3REaXIgPSBNYXRoLnNpZ24odXMucG9zLnggLSB0aGVtLnBvcy54KTtcbiAgICAgICAgaWYodHJhdmVsRGlyICE9PSAwICYmIHRyYXZlbERpciAhPT0gaW1wYWN0RGlyKXtcbiAgICAgICAgICB0aGVtLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgICAgfVxuICAgICAgfSBicmVhaztcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTdG9tcCh1czogS29vcGEsIHRoZW06IEVudGl0eSl7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpe1xuICAgICAgY2FzZSBLb29wYVN0YXRlLldBTEtJTkc6IHRoaXMuaGlkZSh1cyk7IGJyZWFrO1xuICAgICAgY2FzZSBLb29wYVN0YXRlLkhJRElORzoge1xuICAgICAgICB1cy5raWxsYWJsZS5raWxsKCk7XG4gICAgICAgIHVzLnZlbC5zZXQoMTAwLCAtMjAwKTtcbiAgICAgICAgdXMuc29saWQub2JzdHJ1Y3RzID0gZmFsc2U7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBLb29wYVN0YXRlLlBBTklDOiB0aGlzLmhpZGUodXMpOyBicmVhaztcbiAgICB9XG4gIH1cblxuICBoaWRlKHVzOiBLb29wYSl7XG4gICAgdXMudmVsLnggPSAwO1xuICAgIHVzLnBlbmR1bHVtTW92ZS5lbmFibGVkID0gZmFsc2U7XG4gICAgaWYoIXRoaXMud2Fsa1NwZWVkKSB0aGlzLndhbGtTcGVlZCA9IHVzLnBlbmR1bHVtTW92ZS5zcGVlZDtcbiAgICB0aGlzLnN0YXRlID0gS29vcGFTdGF0ZS5ISURJTkc7XG4gIH1cblxuICBwYW5pYyh1czogS29vcGEsIHRoZW06IEVudGl0eSl7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLmVuYWJsZWQgPSB0cnVlO1xuICAgIHVzLnBlbmR1bHVtTW92ZS5zcGVlZCA9IHRoaXMucGFuaWNTcGVlZCAqIE1hdGguc2lnbih0aGVtLnZlbC54KTtcbiAgICB0aGlzLnN0YXRlID0gS29vcGFTdGF0ZS5QQU5JQztcbiAgfVxuXG4gIHVuaGlkZSh1czogS29vcGEpe1xuICAgIHVzLnBlbmR1bHVtTW92ZS5lbmFibGVkID0gdHJ1ZTtcbiAgICB1cy5wZW5kdWx1bU1vdmUuc3BlZWQgPSB0aGlzLndhbGtTcGVlZDtcbiAgICB0aGlzLnN0YXRlID0gS29vcGFTdGF0ZS5XQUxLSU5HO1xuICB9XG5cbiAgdXBkYXRlKHVzOiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuXG4gICAgaWYoISh1cyBpbnN0YW5jZW9mIEtvb3BhKSkgcmV0dXJuO1xuICAgIGlmKHRoaXMuc3RhdGUgPT09IEtvb3BhU3RhdGUuSElESU5HKXtcbiAgICAgIHRoaXMuaGlkZVRpbWUgKz0gZHQ7XG4gICAgICBpZih0aGlzLmhpZGVUaW1lID4gdGhpcy5oaWRlRHVyYXRpb24pe1xuICAgICAgICB0aGlzLnVuaGlkZSh1cyBhcyBLb29wYSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtvb3BhIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHBoeXNpY3M6IFBoeXNpY3M7XG4gIHB1YmxpYyBzb2xpZDogU29saWQ7XG4gIHB1YmxpYyBwZW5kdWx1bU1vdmU6IFBlbmR1bHVtTW92ZTtcbiAgcHVibGljIGJlaGF2aW9yOiBCZWhhdmlvcjtcbiAgcHVibGljIGtpbGxhYmxlOiBLaWxsYWJsZTtcblxuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGh5c2ljcycsIHRoaXMucGh5c2ljcyA9IG5ldyBQaHlzaWNzKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3NvbGlkJywgdGhpcy5zb2xpZCA9IG5ldyBTb2xpZCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwZW5kdWx1bU1vdmUnLCB0aGlzLnBlbmR1bHVtTW92ZSA9IG5ldyBQZW5kdWx1bU1vdmUoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnZ29vbWJhJywgdGhpcy5iZWhhdmlvciA9IG5ldyBCZWhhdmlvcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgS29vcGFGYWN0b3J5ID0gKCkgPT4gS29vcGE7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkS29vcGEoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxLb29wYUZhY3Rvcnk+IHtcbiAgcmV0dXJuIGxvYWRTcHJpdGVTaGVldCgna29vcGEnKVxuICAudGhlbihjcmVhdGVLb29wYUZhY3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLb29wYUZhY3Rvcnkoc3ByaXRlczogU3ByaXRlU2hlZXQpIDogS29vcGFGYWN0b3J5IHtcbiAgY29uc3Qgd2Fsa0FuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbignd2FsaycpO1xuICBjb25zdCB3YWtlQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCd3YWtlJyk7XG5cbiAgZnVuY3Rpb24gcm91dGVBbmltKGtvb3BhOiBLb29wYSl7XG4gICAgc3dpdGNoKGtvb3BhLmJlaGF2aW9yLnN0YXRlKXtcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5ISURJTkc6IHtcbiAgICAgICAgaWYoa29vcGEuYmVoYXZpb3IuaGlkZVRpbWUgPiAzKSByZXR1cm4gd2FrZUFuaW0oa29vcGEubGlmZXRpbWUpO1xuICAgICAgfVxuICAgICAgY2FzZSBLb29wYVN0YXRlLlBBTklDOiByZXR1cm4gJ2hpZGluZyc7XG4gICAgICBkZWZhdWx0OiByZXR1cm4gd2Fsa0FuaW0oa29vcGEubGlmZXRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdLb29wYShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgc3ByaXRlcy5kcmF3KHJvdXRlQW5pbSh0aGlzKSwgY3R4LCAwLCAwLCB0aGlzLnZlbC54IDwgMCk7XG4gIH1cbiAgXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVLb29wYSgpe1xuICAgIGNvbnN0IGtvb3BhID0gbmV3IEtvb3BhKCk7XG4gICAga29vcGEuc2l6ZS5zZXQoMTYsIDE2KTtcbiAgICBrb29wYS5vZmZzZXQueSA9IDg7XG5cbiAgICBrb29wYS5kcmF3ID0gZHJhd0tvb3BhO1xuXG4gICAgcmV0dXJuIGtvb3BhO1xuICB9XG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4uL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCB7IGxvYWRBdWRpb0JvYXJkIH0gZnJvbSBcIi4uL2xvYWRlcnMvYXVkaW9cIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBHbyBmcm9tIFwiLi4vdHJhaXRzL0dvXCI7XG5pbXBvcnQgSnVtcCBmcm9tIFwiLi4vdHJhaXRzL0p1bXBcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL3RyYWl0cy9QbGF5ZXJcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcblxuY29uc3QgZW51bSBEcmFnIHtcbiAgU0xPVyA9IDEvMTAwMCxcbiAgRkFTVCA9IDEvNTAwMCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmlvIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHBsYXllcjogUGxheWVyO1xuICBwdWJsaWMgcGh5c2ljczogUGh5c2ljcztcbiAgcHVibGljIHNvbGlkOiBTb2xpZDtcbiAgcHVibGljIGdvOiBHbztcbiAgcHVibGljIGp1bXA6IEp1bXA7XG4gIHB1YmxpYyBzdG9tcGVyOiBTdG9tcGVyO1xuICBwdWJsaWMga2lsbGFibGU6IEtpbGxhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQpe1xuICAgIHN1cGVyKGF1ZGlvQm9hcmQpO1xuICAgIHRoaXMuc2l6ZS5zZXQoMTQsIDE2KTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwbGF5ZXInLCB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGh5c2ljcycsIHRoaXMucGh5c2ljcyA9IG5ldyBQaHlzaWNzKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3NvbGlkJywgdGhpcy5zb2xpZCA9IG5ldyBTb2xpZCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdnbycsIHRoaXMuZ28gPSBuZXcgR28oKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnanVtcCcsIHRoaXMuanVtcCA9IG5ldyBKdW1wKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3N0b21wZXInLCB0aGlzLnN0b21wZXIgPSBuZXcgU3RvbXBlcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gICAgdGhpcy5nby5kcmFnID0gRHJhZy5TTE9XO1xuICB9XG5cbiAgdHVyYm8oZW5hYmxlZDogYm9vbGVhbil7XG4gICAgdGhpcy5nby5kcmFnID0gZW5hYmxlZCA/IERyYWcuRkFTVCA6IERyYWcuU0xPVztcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBNYXJpb0ZhY3RvcnkgPSAoKSA9PiBNYXJpbztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNYXJpbyhhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPE1hcmlvRmFjdG9yeT4ge1xuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgIGxvYWRTcHJpdGVTaGVldCgnbWFyaW8nKSxcbiAgICBsb2FkQXVkaW9Cb2FyZCgnbWFyaW8nLCBhdWRpb0NvbnRleHQpLFxuICBdKVxuICAudGhlbigoW3Nwcml0ZXMsIGF1ZGlvXSkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVNYXJpb0ZhY3Rvcnkoc3ByaXRlcywgYXVkaW8pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFyaW9GYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0LCBhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKSA6IE1hcmlvRmFjdG9yeSB7XG4gIGNvbnN0IHJ1bkFuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbigncnVuJyk7XG5cbiAgZnVuY3Rpb24gcm91dGVGcmFtZShtYXJpbzogTWFyaW8pe1xuICAgIGlmKG1hcmlvLmp1bXAuZmFsbGluZyl7XG4gICAgICByZXR1cm4gJ2p1bXAnO1xuICAgIH1cbiAgICBpZihtYXJpby5nby5kaXN0YW5jZSA+IDApe1xuICAgICAgaWYoKG1hcmlvLnZlbC54ID4gMCAmJiBtYXJpby5nby5kaXIgPCAwKSB8fCAobWFyaW8udmVsLnggPCAwICYmIG1hcmlvLmdvLmRpciA+IDApKVxuICAgICAgICByZXR1cm4gJ2JyZWFrJztcbiAgXG4gICAgICByZXR1cm4gcnVuQW5pbShtYXJpby5nby5kaXN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiAnaWRsZSc7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3TWFyaW8oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdyhyb3V0ZUZyYW1lKHRoaXMpLCBjdHgsIDAsIDAsIHRoaXMuZ28uaGVhZGluZyA8IDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFyaW8oKXtcbiAgICBjb25zdCBtYXJpbyA9IG5ldyBNYXJpbyhhdWRpb0JvYXJkKTtcblxuICAgIG1hcmlvLmRyYXcgPSBkcmF3TWFyaW87XG4gICAgbWFyaW8ua2lsbGFibGUucmVtb3ZlQWZ0ZXIgPSAwO1xuXG4gICAgcmV0dXJuIG1hcmlvO1xuICB9XG59IiwiaW1wb3J0IE1hcmlvIGZyb20gJy4vZW50aXRpZXMvTWFyaW8nO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4vS2V5Ym9hcmRTdGF0ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEtleWJvYXJkKG1hcmlvOiBNYXJpbykgOiBLZXlib2FyZCB7XG4gIGNvbnN0IGlucHV0ID0gbmV3IEtleWJvYXJkKCk7XG4gIFxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlQJywga2V5U3RhdGUgPT4ge1xuICAgIGlmKGtleVN0YXRlKXtcbiAgICAgIG1hcmlvLmp1bXAuc3RhcnQoKTtcbiAgICB9ZWxzZXtcbiAgICAgIG1hcmlvLmp1bXAuY2FuY2VsKCk7XG4gICAgfVxuICB9KTtcbiAgXG4gIGlucHV0LmFkZE1hcHBpbmcoJ0tleU8nLCBrZXlTdGF0ZSA9PiB7XG4gICAgbWFyaW8udHVyYm8oa2V5U3RhdGUgPT09IDEpO1xuICB9KTtcblxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlBJywga2V5U3RhdGUgPT4ge1xuICAgIG1hcmlvLmdvLmRpciArPSBrZXlTdGF0ZSA/IC0xIDogMTtcbiAgfSk7XG4gIFxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlEJywga2V5U3RhdGUgPT4ge1xuICAgIG1hcmlvLmdvLmRpciArPSBrZXlTdGF0ZSA/IDEgOiAtMTtcbiAgfSk7XG4gIFxuICByZXR1cm4gaW5wdXQ7XG59IiwiaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBMZXZlbFRpbGVTcGVjIH0gZnJvbSBcIi4uL2xvYWRlcnMvbGV2ZWxcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgeyBUaWxlUmVzb2x2ZXIgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIobGV2ZWw6IExldmVsLCB0aWxlczogTWF0cml4PExldmVsVGlsZVNwZWM+LCBzcHJpdGVzOiBTcHJpdGVTaGVldCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3QgcmVzb2x2ZXIgPSBuZXcgVGlsZVJlc29sdmVyKHRpbGVzKTtcblxuICBjb25zdCBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIGN0eC5jYW52YXMud2lkdGggPSAyNTYgKyAxNjtcbiAgY3R4LmNhbnZhcy5oZWlnaHQgPSAyNDA7XG5cbiAgZnVuY3Rpb24gcmVkcmF3KGRyYXdGcm9tOiBudW1iZXIsIGRyYXdUbzogbnVtYmVyKXtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcblxuICAgIGZvcihsZXQgeD1kcmF3RnJvbTsgeDw9ZHJhd1RvOyB4Kyspe1xuICAgICAgY29uc3QgY29sID0gdGlsZXMuZ3JpZFt4XTtcbiAgICAgIGlmKCFjb2wpIGNvbnRpbnVlO1xuICAgICAgY29sLmZvckVhY2goKHRpbGUsIHkpPT57XG4gICAgICAgIHNwcml0ZXMuZHJhd0FuaW0odGlsZS5uYW1lLCBjdHgsIHgtZHJhd0Zyb20sIHksIGxldmVsLnRpbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdCYWNrZ3JvdW5kTGF5ZXIoc2NyZWVuLCBjYW1lcmEpeyBcbiAgICBjb25zdCBkcmF3V2lkdGggPSByZXNvbHZlci50b0luZGV4KGNhbWVyYS5zaXplLngpO1xuICAgIGNvbnN0IGRyYXdGcm9tID0gcmVzb2x2ZXIudG9JbmRleChjYW1lcmEucG9zLngpO1xuICAgIGNvbnN0IGRyYXdUbyA9IGRyYXdGcm9tICsgZHJhd1dpZHRoO1xuICAgIHJlZHJhdyhkcmF3RnJvbSwgZHJhd1RvKTtcbiAgICBzY3JlZW4uZHJhd0ltYWdlKFxuICAgICAgY3R4LmNhbnZhcywgXG4gICAgICAtY2FtZXJhLnBvcy54ICUgMTYsIFxuICAgICAgLWNhbWVyYS5wb3MueVxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgQ2FtZXJhIGZyb20gXCIuLi9DYW1lcmFcIjtcbmltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBUaWxlUmVzb2x2ZXIgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmludGVyZmFjZSBWZWMyIHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfTtcblxuZnVuY3Rpb24gY3JlYXRlRW50aXR5TGF5ZXIoZW50aXRpZXM6IFNldDxFbnRpdHk+KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdCb3VuZGluZ0JveChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhOiBDYW1lcmEpe1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgIGVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5yZWN0KFxuICAgICAgICBlbnRpdHkuYm91bmRzLmxlZnQgLSBjYW1lcmEucG9zLngsIFxuICAgICAgICBlbnRpdHkuYm91bmRzLnRvcCAtIGNhbWVyYS5wb3MueSwgXG4gICAgICAgIGVudGl0eS5zaXplLngsIGVudGl0eS5zaXplLnlcbiAgICAgICk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRpbGVDYW5kaWRhdGVMYXllcih0aWxlUmVzb2x2ZXI6IFRpbGVSZXNvbHZlcil7XG4gIGNvbnN0IHJlc29sdmVkVGlsZXM6IFZlYzJbXSA9IFtdO1xuXG4gIGNvbnN0IHRpbGVTaXplID0gdGlsZVJlc29sdmVyLnRpbGVTaXplO1xuXG4gIGNvbnN0IGdldEJ5SW5kZXhPcmlnaW5hbCA9IHRpbGVSZXNvbHZlci5nZXRCeUluZGV4O1xuICB0aWxlUmVzb2x2ZXIuZ2V0QnlJbmRleCA9IGZ1bmN0aW9uIGdldEJ5SW5kZXhGYWtlKHg6IG51bWJlciwgeTogbnVtYmVyKXtcbiAgICByZXNvbHZlZFRpbGVzLnB1c2goe3gsIHl9KTtcbiAgICByZXR1cm4gZ2V0QnlJbmRleE9yaWdpbmFsLmNhbGwodGlsZVJlc29sdmVyLCB4LCB5KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3VGlsZUNhbmRpZGF0ZXMoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmx1ZSc7XG4gICAgcmVzb2x2ZWRUaWxlcy5mb3JFYWNoKCh7eCx5fSkgPT4ge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LnJlY3QoXG4gICAgICAgIHgqdGlsZVNpemUgLSBjYW1lcmEucG9zLngsIFxuICAgICAgICB5KnRpbGVTaXplIC0gY2FtZXJhLnBvcy55LCBcbiAgICAgICAgdGlsZVNpemUsIHRpbGVTaXplXG4gICAgICApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0pO1xuXG4gICAgcmVzb2x2ZWRUaWxlcy5sZW5ndGggPSAwO1xuICB9O1xufVxuIFxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbGxpc2lvbkxheWVyKGxldmVsOiBMZXZlbCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3QgZHJhd1RpbGVDYW5kaWRhdGVzID0gbGV2ZWwudGlsZUNvbGxpZGVyLnJlc29sdmVycy5tYXAoY3JlYXRlVGlsZUNhbmRpZGF0ZUxheWVyKTtcbiAgY29uc3QgZHJhd0JvdW5kaW5nQm94ZXMgPSBjcmVhdGVFbnRpdHlMYXllcihsZXZlbC5lbnRpdGllcyk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdDb2xsaXNpb24oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICBkcmF3VGlsZUNhbmRpZGF0ZXMuZm9yRWFjaChkcmF3ID0+IGRyYXcoY3R4LCBjYW1lcmEpKTtcbiAgICBkcmF3Qm91bmRpbmdCb3hlcyhjdHgsIGNhbWVyYSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCB7IEZvbnRTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL2ZvbnRcIjtcbmltcG9ydCBQbGF5ZXJDb250cm9sbGVyIGZyb20gXCIuLi90cmFpdHMvUGxheWVyQ29udHJvbGxlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGFzaGJvYXJkTGF5ZXIoZm9udDogRm9udFNoZWV0LCBwbGF5ZXJDb250cm9sbGVyOiBQbGF5ZXJDb250cm9sbGVyKSA6IExheWVyUmVuZGVyZXIge1xuICBjb25zdCBMSU5FMSA9IGZvbnQuc2l6ZTtcbiAgY29uc3QgTElORTIgPSBmb250LnNpemUgKiAyO1xuXG4gIGNvbnN0IGNvaW5zID0gMjY7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdEYXNoYm9hcmQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIGNvbnN0IHRpbWUgPSBNYXRoLm1heCgwLCBwbGF5ZXJDb250cm9sbGVyLnRpbWUpO1xuXG4gICAgZm9udC5kcmF3KCdNQVJJTycsIGN0eCwgMTYsIExJTkUxKTtcbiAgICBmb250LmRyYXcocGxheWVyQ29udHJvbGxlci5zY29yZS50b1N0cmluZygpLnBhZFN0YXJ0KDYsICcwJyksIGN0eCwgMTYsIExJTkUyKTtcblxuICAgIGZvbnQuZHJhdyhgQHgke2NvaW5zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gLCBjdHgsIDk2LCBMSU5FMik7XG5cbiAgICBmb250LmRyYXcoJ1dPUkxEJywgY3R4LCAxNTIsIExJTkUxKTtcbiAgICBmb250LmRyYXcoJzEtMScsIGN0eCwgMTYwLCBMSU5FMik7XG5cbiAgICBmb250LmRyYXcoJ1RJTUUnLCBjdHgsIDIwOCwgTElORTEpO1xuICAgIGZvbnQuZHJhdyh0aW1lLnRvRml4ZWQoMCkucGFkU3RhcnQoMywgJzAnKSwgY3R4LCAyMTYsIExJTkUyKTtcbiAgfVxufSIsImltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTcHJpdGVMYXllcihlbnRpdGllczogU2V0PEVudGl0eT4sIHdpZHRoOiBudW1iZXIgPSA2NCwgaGVpZ2h0OiBudW1iZXIgPSA2NCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3Qgc3ByaXRlQ3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgc3ByaXRlQ3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICBzcHJpdGVDdHguY2FudmFzLndpZHRoID0gd2lkdGg7XG4gIHNwcml0ZUN0eC5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3U3ByaXRlTGF5ZXIoY3R4LCBjYW1lcmEpe1xuICAgIGVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHNwcml0ZUN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBlbnRpdHkuZHJhdyhzcHJpdGVDdHgpO1xuXG4gICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICBzcHJpdGVDdHguY2FudmFzLCBcbiAgICAgICAgZW50aXR5LnBvcy54IC0gY2FtZXJhLnBvcy54LFxuICAgICAgICBlbnRpdHkucG9zLnkgLSBjYW1lcmEucG9zLnlcbiAgICAgICk7XG4gICAgfSlcbiAgfVxufSIsImltcG9ydCB7IGNyZWF0ZUFuaW0gfSBmcm9tIFwiLi9hbmltXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4vU3ByaXRlU2hlZXRcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZShwYXRoOiBzdHJpbmcpIDogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PntcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLm9ubG9hZCA9ICgpPT5yZXNvbHZlKGltZyk7XG4gICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgaW1nLnNyYyA9IHBhdGg7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEpTT04ocGF0aDogc3RyaW5nKSA6IFByb21pc2U8b2JqZWN0PiB7XG4gIHJldHVybiBmZXRjaChwYXRoKS50aGVuKHJlcz0+cmVzLmpzb24oKSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGlsZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIGluZGV4OiBbbnVtYmVyLCBudW1iZXJdLFxufVxuZXhwb3J0IGludGVyZmFjZSBGcmFtZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHJlY3Q6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxufVxuZXhwb3J0IGludGVyZmFjZSBBbmltYXRpb25TcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICBmcmFtZUxlbjogbnVtYmVyLFxuICBmcmFtZXM6IHN0cmluZ1tdLFxufVxuaW50ZXJmYWNlIFNoZWV0U3BlYyB7XG4gIGltYWdlVVJMOiBzdHJpbmcsXG4gIHRpbGVXOiBudW1iZXIsIHRpbGVIOiBudW1iZXIsXG4gIHRpbGVzPzogVGlsZVNwZWNbXSxcbiAgZnJhbWVzPzogRnJhbWVTcGVjW10sXG4gIGFuaW1hdGlvbnM/OiBBbmltYXRpb25TcGVjW10sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkU3ByaXRlU2hlZXQobmFtZTogc3RyaW5nKXtcbiAgcmV0dXJuIChsb2FkSlNPTihgLi9zcHJpdGVzLyR7bmFtZX0uanNvbmApIGFzIFByb21pc2U8U2hlZXRTcGVjPilcbiAgLnRoZW4oc2hlZXRTcGVjID0+IFByb21pc2UuYWxsKFtcbiAgICBzaGVldFNwZWMsXG4gICAgbG9hZEltYWdlKHNoZWV0U3BlYy5pbWFnZVVSTCksXG4gIF0pKVxuICAudGhlbigoW3NoZWV0U3BlYywgaW1hZ2VdKT0+e1xuICAgIGNvbnN0IHNwcml0ZXMgPSBuZXcgU3ByaXRlU2hlZXQoaW1hZ2UsIHNoZWV0U3BlYy50aWxlVywgc2hlZXRTcGVjLnRpbGVIKTtcblxuICAgIGlmKHNoZWV0U3BlYy50aWxlcyl7XG4gICAgICBzaGVldFNwZWMudGlsZXMuZm9yRWFjaCh0aWxlU3BlYyA9PiB7XG4gICAgICAgIHNwcml0ZXMuZGVmaW5lVGlsZSh0aWxlU3BlYy5uYW1lLCAuLi50aWxlU3BlYy5pbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihzaGVldFNwZWMuZnJhbWVzKXtcbiAgICAgIHNoZWV0U3BlYy5mcmFtZXMuZm9yRWFjaCgoe25hbWUsIHJlY3R9KSA9PiB7XG4gICAgICAgIHNwcml0ZXMuZGVmaW5lKG5hbWUsIC4uLnJlY3QpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoc2hlZXRTcGVjLmFuaW1hdGlvbnMpe1xuICAgICAgc2hlZXRTcGVjLmFuaW1hdGlvbnMuZm9yRWFjaCgoe25hbWUsIGZyYW1lTGVuLCBmcmFtZXN9KSA9PiB7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IGNyZWF0ZUFuaW0oZnJhbWVzLCBmcmFtZUxlbik7XG4gICAgICAgIHNwcml0ZXMuZGVmaW5lQW5pbShuYW1lLCBhbmltYXRpb24pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwcml0ZXM7XG4gIH0pXG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4uL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCB7IGxvYWRKU09OIH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcblxudHlwZSBBdWRpb0xvYWRlciA9ICh1cmw6IHN0cmluZykgPT4gUHJvbWlzZTxBdWRpb0J1ZmZlcj47XG5cbmludGVyZmFjZSBBdWRpb1NwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHVybDogc3RyaW5nLFxufVxuaW50ZXJmYWNlIEF1ZGlvU2hlZXRTcGVjIHtcbiAgZng6IEF1ZGlvU3BlY1tdLFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEF1ZGlvQm9hcmQobmFtZTogc3RyaW5nLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEF1ZGlvQm9hcmQ+IHtcbiAgY29uc3QgbG9hZEF1ZGlvID0gY3JlYXRlQXVkaW9Mb2FkZXIoYXVkaW9Db250ZXh0KTtcbiAgY29uc3QgYXVkaW9TaGVldCA9IGF3YWl0IGxvYWRKU09OKGAuL3NvdW5kcy8ke25hbWV9Lmpzb25gKSBhcyBBdWRpb1NoZWV0U3BlYztcbiAgY29uc3QgYXVkaW9Cb2FyZCA9IG5ldyBBdWRpb0JvYXJkKCk7XG4gIGNvbnN0IGpvYnM6IGFueVtdID0gW107XG4gIGF1ZGlvU2hlZXQuZnguZm9yRWFjaCgoeyBuYW1lLCB1cmwgfSkgPT4ge1xuICAgIGpvYnMucHVzaChcbiAgICAgIGxvYWRBdWRpbyh1cmwpXG4gICAgICAudGhlbihidWZmZXIgPT4ge1xuICAgICAgICBhdWRpb0JvYXJkLmFkZChuYW1lLCBidWZmZXIpO1xuICAgICAgfSlcbiAgICApO1xuICB9KTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoam9icyk7XG4gIHJldHVybiBhdWRpb0JvYXJkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXVkaW9Mb2FkZXIoY29udGV4dDogQXVkaW9Db250ZXh0KSA6IEF1ZGlvTG9hZGVyIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGxvYWRBdWRpbyh1cmw6IHN0cmluZykgOiBQcm9taXNlPEF1ZGlvQnVmZmVyPiB7XG4gICAgcmV0dXJuIGZldGNoKHVybClcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgIC50aGVuKGFycmF5QnVmZmVyID0+IHtcbiAgICAgIHJldHVybiBjb250ZXh0LmRlY29kZUF1ZGlvRGF0YShhcnJheUJ1ZmZlcik7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBsb2FkSW1hZ2UgfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuXG5jb25zdCBMRVRURVJTID0gYCAhXCIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXFxcXV5fXFxgYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+YFxuXG5leHBvcnQgY2xhc3MgRm9udFNoZWV0IHtcbiAgcHJpdmF0ZSBzaGVldDogU3ByaXRlU2hlZXQ7XG4gIHB1YmxpYyBzaXplOiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHNoZWV0OiBTcHJpdGVTaGVldCwgc2l6ZTogbnVtYmVyKXtcbiAgICB0aGlzLnNoZWV0ID0gc2hlZXQ7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgfVxuICBkcmF3KHRleHQ6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyKXtcbiAgICBmb3IobGV0IHg9MDsgeDx0ZXh0Lmxlbmd0aDsgeCsrKXtcbiAgICAgIHRoaXMuc2hlZXQuZHJhdyh0ZXh0W3hdLCBjdHgsIG9mZnNldFggKyB4ICogdGhpcy5zaXplLCBvZmZzZXRZKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRGb250KCkgOiBQcm9taXNlPEZvbnRTaGVldD4ge1xuICBjb25zdCBpbWFnZSA9IGF3YWl0IGxvYWRJbWFnZSgnLi9zaGVldHMvZm9udC5wbmcnKVxuICBjb25zdCBzcHJpdGVzID0gbmV3IFNwcml0ZVNoZWV0KGltYWdlKTtcblxuICBjb25zdCBzaXplID0gODtcbiAgZm9yKGxldCBpPTA7IGk8TEVUVEVSUy5sZW5ndGg7IGkrKyl7XG4gICAgY29uc3QgeCA9IChpICYgMTUpICogc2l6ZTtcbiAgICBjb25zdCB5ID0gKGkgPj4gNCkgKiBzaXplO1xuICAgIHNwcml0ZXMuZGVmaW5lKExFVFRFUlNbaV0sIHgsIHksIHNpemUsIHNpemUpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBGb250U2hlZXQoc3ByaXRlcywgc2l6ZSk7XG59IiwiaW1wb3J0IHsgRW50aXR5RmFjdG9yeSB9IGZyb20gXCIuLi9lbnRpdGllc1wiO1xuaW1wb3J0IHsgY3JlYXRlQmFja2dyb3VuZExheWVyIH0gZnJvbSBcIi4uL2xheWVycy9iYWNrZ3JvdW5kXCI7XG5pbXBvcnQgeyBjcmVhdGVTcHJpdGVMYXllciB9IGZyb20gXCIuLi9sYXllcnMvc3ByaXRlXCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBsb2FkSlNPTiwgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5cbnR5cGUgUmFuZ2UgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcj8sIG51bWJlcj9dO1xuZXhwb3J0IGludGVyZmFjZSBMZXZlbFRpbGVTcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICBwYXR0ZXJuPzogc3RyaW5nLFxuICB0eXBlPzogc3RyaW5nLFxuICByYW5nZXM6IFJhbmdlW10sXG59XG5pbnRlcmZhY2UgUGF0dGVyblNwZWMge1xuICB0aWxlczogTGV2ZWxUaWxlU3BlY1tdLFxufVxuaW50ZXJmYWNlIFBhdHRlcm5zU3BlYyB7XG4gIFtrZXk6IHN0cmluZ106IFBhdHRlcm5TcGVjLFxufTtcbmludGVyZmFjZSBMYXllclNwZWMge1xuICB0aWxlczogTGV2ZWxUaWxlU3BlY1tdLFxufVxuaW50ZXJmYWNlIEVudGl0eVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHBvczogW251bWJlciwgbnVtYmVyXSxcbn1cbmludGVyZmFjZSBMZXZlbFNwZWMge1xuICBzcHJpdGVTaGVldDogc3RyaW5nLFxuICBwYXR0ZXJuczogUGF0dGVybnNTcGVjLFxuICBsYXllcnM6IExheWVyU3BlY1tdLFxuICBlbnRpdGllczogRW50aXR5U3BlY1tdLFxufVxuaW50ZXJmYWNlIEV4cGFuZGVkVGlsZSB7XG4gIHRpbGU6IExldmVsVGlsZVNwZWMsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxufVxuXG5mdW5jdGlvbiBzZXR1cEJhY2tncm91bmRzKGxldmVsU3BlYzogTGV2ZWxTcGVjLCBsZXZlbDogTGV2ZWwsIHNwcml0ZXM6IFNwcml0ZVNoZWV0KXtcbiAgbGV2ZWxTcGVjLmxheWVycy5mb3JFYWNoKChsYXllciwgaSkgPT4ge1xuICAgIGNvbnN0IGdyaWQgPSBjcmVhdGVHcmlkKGxheWVyLnRpbGVzLCBsZXZlbFNwZWMucGF0dGVybnMpO1xuICAgIGNvbnN0IGJhY2tncm91bmRMYXllciA9IGNyZWF0ZUJhY2tncm91bmRMYXllcihsZXZlbCwgZ3JpZCwgc3ByaXRlcyk7XG4gICAgbGV2ZWwuY29tcC5hZGQoYmFja2dyb3VuZExheWVyKTtcbiAgICBsZXZlbC50aWxlQ29sbGlkZXIuYWRkR3JpZChncmlkKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwRW50aXRpZXMobGV2ZWxTcGVjOiBMZXZlbFNwZWMsIGxldmVsOiBMZXZlbCwgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSl7XG4gIGxldmVsU3BlYy5lbnRpdGllcy5mb3JFYWNoKCh7bmFtZSwgcG9zOiBbeCwgeV19KSA9PiB7XG4gICAgY29uc3QgY3JlYXRlRW50aXR5ID0gZW50aXR5RmFjdG9yeVtuYW1lXTtcbiAgICBjb25zdCBlbnRpdHkgPSBjcmVhdGVFbnRpdHkoKTtcbiAgICBlbnRpdHkucG9zLnNldCh4LCB5KTtcbiAgICBsZXZlbC5lbnRpdGllcy5hZGQoZW50aXR5KTtcbiAgfSlcblxuICBjb25zdCBzcHJpdGVMYXllciA9IGNyZWF0ZVNwcml0ZUxheWVyKGxldmVsLmVudGl0aWVzKTtcbiAgbGV2ZWwuY29tcC5hZGQoc3ByaXRlTGF5ZXIpO1xufVxuXG50eXBlIExldmVsTG9hZGVyID0gKG5hbWU6IHN0cmluZykgPT4gUHJvbWlzZTxMZXZlbD47XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGV2ZWxMb2FkZXIoZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSkgOiBMZXZlbExvYWRlciB7XG4gIHJldHVybiBmdW5jdGlvbiBsb2FkTGV2ZWwobmFtZTogc3RyaW5nKSA6IFByb21pc2U8TGV2ZWw+IHtcbiAgICByZXR1cm4gKGxvYWRKU09OKGAuL2xldmVscy8ke25hbWV9Lmpzb25gKSBhcyBQcm9taXNlPExldmVsU3BlYz4pXG4gICAgLnRoZW4obGV2ZWxTcGVjID0+IFByb21pc2UuYWxsKFtcbiAgICAgIGxldmVsU3BlYyxcbiAgICAgIGxvYWRTcHJpdGVTaGVldChsZXZlbFNwZWMuc3ByaXRlU2hlZXQpLFxuICAgIF0pKVxuICAgIC50aGVuKChbbGV2ZWxTcGVjLCBzcHJpdGVzXSkgPT4ge1xuICAgICAgY29uc3QgbGV2ZWwgPSBuZXcgTGV2ZWwoKTtcblxuICAgICAgc2V0dXBCYWNrZ3JvdW5kcyhsZXZlbFNwZWMsIGxldmVsLCBzcHJpdGVzKTtcbiAgICAgIHNldHVwRW50aXRpZXMobGV2ZWxTcGVjLCBsZXZlbCwgZW50aXR5RmFjdG9yeSk7XG4gICAgICBcbiAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVHcmlkKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMpIDogTWF0cml4PExldmVsVGlsZVNwZWM+IHtcbiAgY29uc3QgZ3JpZDogTWF0cml4PExldmVsVGlsZVNwZWM+ID0gbmV3IE1hdHJpeCgpO1xuXG4gIGZvcihjb25zdCB7IHRpbGUsIHgsIHkgfSBvZiBleHBhbmRUaWxlcyh0aWxlcywgcGF0dGVybnMpKXtcbiAgICBncmlkLnNldCh4LCB5LCB0aWxlKTtcbiAgfVxuXG4gIHJldHVybiBncmlkO1xufVxuXG50eXBlIENvb3JkID0geyB4OiBudW1iZXIsIHk6bnVtYmVyIH07XG5mdW5jdGlvbiogZXhwYW5kU3Bhbih4U3RhcnQ6IG51bWJlciwgeExlbjogbnVtYmVyLCB5U3RhcnQ6IG51bWJlciwgeUxlbjogbnVtYmVyKSA6IEdlbmVyYXRvcjxDb29yZD4ge1xuICBjb25zdCB4RW5kID0geFN0YXJ0ICsgeExlbiwgeUVuZCA9IHlTdGFydCArIHlMZW47XG4gIGZvcihsZXQgeD14U3RhcnQ7IHg8eEVuZDsgeCsrKXtcbiAgICBmb3IobGV0IHk9eVN0YXJ0OyB5PHlFbmQ7IHkrKyl7XG4gICAgICB5aWVsZCB7IHgsIHkgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwYW5kUmFuZ2UocmFuZ2U6IFJhbmdlKSA6IEdlbmVyYXRvcjxDb29yZD4ge1xuICBzd2l0Y2gocmFuZ2UubGVuZ3RoKXtcbiAgICBjYXNlIDQ6IHJldHVybiBleHBhbmRTcGFuKC4uLnJhbmdlKTtcbiAgICBjYXNlIDM6IHJldHVybiBleHBhbmRTcGFuKHJhbmdlWzBdLCByYW5nZVsxXSwgcmFuZ2VbMl0sIDEpO1xuICAgIGNhc2UgMjogcmV0dXJuIGV4cGFuZFNwYW4ocmFuZ2VbMF0sIDEsIHJhbmdlWzFdLCAxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogZXhwYW5kUmFuZ2VzKHJhbmdlczogUmFuZ2VbXSkgOiBHZW5lcmF0b3I8YW55PiB7XG4gIGZvcihjb25zdCByYW5nZSBvZiByYW5nZXMpe1xuICAgIHlpZWxkKiBleHBhbmRSYW5nZShyYW5nZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24qIGV4cGFuZFRpbGVzKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMpIDogR2VuZXJhdG9yPEV4cGFuZGVkVGlsZT4ge1xuICBmdW5jdGlvbiogd2Fsa1RpbGVzKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyKSA6IEdlbmVyYXRvcjxFeHBhbmRlZFRpbGU+IHtcbiAgICBmb3IoY29uc3QgdGlsZSBvZiB0aWxlcyl7XG4gICAgICBmb3IoY29uc3QgeyB4LCB5IH0gb2YgZXhwYW5kUmFuZ2VzKHRpbGUucmFuZ2VzKSl7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRYID0geCArIG9mZnNldFgsIGRlcml2ZWRZID0geSArIG9mZnNldFk7XG4gICAgICAgIGlmKHRpbGUucGF0dGVybil7XG4gICAgICAgICAgY29uc3QgdGlsZXMgPSBwYXR0ZXJuc1t0aWxlLnBhdHRlcm5dLnRpbGVzO1xuICAgICAgICAgIHlpZWxkKiB3YWxrVGlsZXModGlsZXMsIGRlcml2ZWRYLCBkZXJpdmVkWSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICB4OiBkZXJpdmVkWCxcbiAgICAgICAgICAgIHk6IGRlcml2ZWRZLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB5aWVsZCogd2Fsa1RpbGVzKHRpbGVzLCAwLCAwKTtcbn0iLCJ0eXBlIE1hdHJpeENhbGxiYWNrPFQ+ID0gKHg6IG51bWJlciwgeTogbnVtYmVyLCB0aWxlOiBUKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgTWF0cml4PFQ+IHtcbiAgcHVibGljIGdyaWQ6IFRbXVtdO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMuZ3JpZCA9IFtdO1xuICB9XG4gIGRlbGV0ZSh4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgY29uc3QgY29sID0gdGhpcy5ncmlkW3hdO1xuICAgIGlmKGNvbCkgZGVsZXRlIGNvbFt5XTtcbiAgfVxuICBnZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpIDogVCB7XG4gICAgY29uc3QgY29sID0gdGhpcy5ncmlkW3hdO1xuICAgIGlmKGNvbCkgcmV0dXJuIGNvbFt5XTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgdmFsdWU6IFQpe1xuICAgIGlmKCF0aGlzLmdyaWRbeF0pIHRoaXMuZ3JpZFt4XSA9IFtdO1xuICAgIHRoaXMuZ3JpZFt4XVt5XSA9IHZhbHVlO1xuICB9XG4gIGZvckVhY2goY2FsbGJhY2s6IE1hdHJpeENhbGxiYWNrPFQ+KXtcbiAgICB0aGlzLmdyaWQuZm9yRWFjaCgoY29sdW1ucywgeCkgPT4ge1xuICAgICAgY29sdW1ucy5mb3JFYWNoKCh0aWxlLCB5KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKHgsIHksIHRpbGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZlY3RvciB7XG4gIHB1YmxpYyB4OiBudW1iZXI7XG4gIHB1YmxpYyB5OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApe1xuICAgIHRoaXMuc2V0KHgsIHkpO1xuICB9XG4gIGNvcHkoc291cmNlOiBWZWN0b3Ipe1xuICAgIHRoaXMuc2V0KHNvdXJjZS54LCBzb3VyY2UueSk7XG4gIH1cbiAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8gZnJvbSBcIi4vZW50aXRpZXMvTWFyaW9cIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4vTGV2ZWxcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vdHJhaXRzL1BsYXllclwiO1xuaW1wb3J0IFBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vdHJhaXRzL1BsYXllckNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBsYXllckVudihwbGF5ZXI6IE1hcmlvKSA6IEVudGl0eSB7XG4gIGNvbnN0IGVudiA9IG5ldyBFbnRpdHkoKTtcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBQbGF5ZXJDb250cm9sbGVyKCk7XG4gIGNvbnRyb2xsZXIuY2hlY2twb2ludC5zZXQoNjQsIDY0KTtcbiAgY29udHJvbGxlci5zZXRQbGF5ZXIocGxheWVyKTtcbiAgZW52LmFkZFRyYWl0KCdjb250cm9sbGVyJywgY29udHJvbGxlcik7XG4gIHJldHVybiBlbnY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogZmluZFBsYXllcnMobGV2ZWw6IExldmVsKSA6IEdlbmVyYXRvcjxFbnRpdHk+IHtcbiAgZm9yKGNvbnN0IGVudGl0eSBvZiBsZXZlbC5lbnRpdGllcyl7XG4gICAgaWYoZW50aXR5LmdldFRyYWl0KCdwbGF5ZXInKSBpbnN0YW5jZW9mIFBsYXllcikgeWllbGQgZW50aXR5O1xuICB9XG59IiwiaW1wb3J0IHsgU2lkZXMgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBUaWxlQ29sbGlzaW9uQ29udGV4dCB9IGZyb20gXCIuLi9UaWxlQ29sbGlkZXJcIjtcblxuZnVuY3Rpb24gaGFuZGxlWCh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnggPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLnJpZ2h0ID4gbWF0Y2gueDEpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlJJR0hULCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnggPCAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmxlZnQgPCBtYXRjaC54Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuTEVGVCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVZKHRpbGVDb2xsaXNpb25Db250ZXh0OiBUaWxlQ29sbGlzaW9uQ29udGV4dCl7XG4gIGNvbnN0IHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDsgXG5cbiAgaWYoZW50aXR5LnZlbC55ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5ib3R0b20gPiBtYXRjaC55MSl7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuQk9UVE9NLCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnkgPCAwKXtcbiAgICBpZihlbnRpdHkuZ2V0VHJhaXQoJ3BsYXllcicpKXtcbiAgICAgIGNvbnN0IGdyaWQgPSByZXNvbHZlci5tYXRyaXg7XG4gICAgICBncmlkLmRlbGV0ZShtYXRjaC5pbmRleFgsIG1hdGNoLmluZGV4WSk7XG4gICAgICBjb25zdCBnb29tYmEgPSBnYW1lQ29udGV4dC5lbnRpdHlGYWN0b3J5Lmdvb21iYSgpO1xuICAgICAgZ29vbWJhLnBvcy5zZXQoZW50aXR5LnBvcy54LCBtYXRjaC55MSk7XG4gICAgICBnb29tYmEudmVsLnNldCg1MCwgLTQwMCk7XG4gICAgICBnYW1lQ29udGV4dC5sZXZlbC5lbnRpdGllcy5hZGQoZ29vbWJhKTtcbiAgICB9XG4gICAgaWYoZW50aXR5LmJvdW5kcy50b3AgPCBtYXRjaC55Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuVE9QLCBtYXRjaCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBicmljayA9IFsgaGFuZGxlWCwgaGFuZGxlWSBdOyIsImltcG9ydCB7IFNpZGVzIH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgVGlsZUNvbGxpc2lvbkNvbnRleHQgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmZ1bmN0aW9uIGhhbmRsZVgodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIG1hdGNoIH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDtcbiAgaWYoZW50aXR5LnZlbC54ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5yaWdodCA+IG1hdGNoLngxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5SSUdIVCwgbWF0Y2gpO1xuICAgIH1cbiAgfWVsc2UgaWYoZW50aXR5LnZlbC54IDwgMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5sZWZ0IDwgbWF0Y2gueDIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLkxFRlQsIG1hdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlWSh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnkgPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmJvdHRvbSA+IG1hdGNoLnkxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5CT1RUT00sIG1hdGNoKTtcbiAgICB9XG4gIH1lbHNlIGlmKGVudGl0eS52ZWwueSA8IDApe1xuICAgIGlmKGVudGl0eS5ib3VuZHMudG9wIDwgbWF0Y2gueTIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlRPUCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ3JvdW5kID0gWyBoYW5kbGVYLCBoYW5kbGVZIF07IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCwgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG50eXBlIEVtaXR0ZXJDYWxsYmFjayA9IChlbnRpdHk6IEVudGl0eSwgbGV2ZWw6IExldmVsKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWl0dGVyIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGNvb2xkb3duOiBudW1iZXIgPSAyO1xuICBwdWJsaWMgaW50ZXJ2YWw6IG51bWJlciA9IDI7XG4gIHB1YmxpYyBlbWl0dGVyczogRW1pdHRlckNhbGxiYWNrW10gPSBbXTtcblxuICBlbWl0KGVudGl0eTogRW50aXR5LCBsZXZlbDogTGV2ZWwpe1xuICAgIGZvcihjb25zdCBlbWl0dGVyIG9mIHRoaXMuZW1pdHRlcnMpe1xuICAgICAgZW1pdHRlcihlbnRpdHksIGxldmVsKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQsIGxldmVsIH0gPSBnYW1lQ29udGV4dDtcbiAgICB0aGlzLmNvb2xkb3duIC09IGR0O1xuICAgIGlmKHRoaXMuY29vbGRvd24gPCAwKXtcbiAgICAgIHRoaXMuZW1pdChlbnRpdHksIGxldmVsKTtcbiAgICAgIHRoaXMuY29vbGRvd24gPSB0aGlzLmludGVydmFsO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IEp1bXAgZnJvbSBcIi4vSnVtcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHbyBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGRpcjogbnVtYmVyO1xuICBwcml2YXRlIGFjY2VsZXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGRlY2VsZXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGZyaWN0aW9uOiBudW1iZXI7XG4gIHB1YmxpYyBkaXN0YW5jZTogbnVtYmVyO1xuICBwdWJsaWMgaGVhZGluZzogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kaXIgPSAwO1xuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gNDAwO1xuICAgIHRoaXMuZGVjZWxlcmF0aW9uID0gMzAwO1xuICAgIHRoaXMuZnJpY3Rpb24gPSAxLzUwMDA7XG4gICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgdGhpcy5oZWFkaW5nID0gMTtcbiAgfVxuXG4gIHNldCBkcmFnKGZyaWN0aW9uOiBudW1iZXIpeyB0aGlzLmZyaWN0aW9uID0gZnJpY3Rpb247IH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgY29uc3QgYWJzWCA9IE1hdGguYWJzKGVudGl0eS52ZWwueCk7XG5cbiAgICBpZih0aGlzLmRpciAhPT0gMCl7XG4gICAgICBlbnRpdHkudmVsLnggKz0gdGhpcy5hY2NlbGVyYXRpb24gKiBkdCAqIHRoaXMuZGlyO1xuXG4gICAgICBjb25zdCBqdW1wID0gZW50aXR5LmdldFRyYWl0KCdqdW1wJyk7XG4gICAgICBpZihqdW1wKXtcbiAgICAgICAgaWYoanVtcCBpbnN0YW5jZW9mIEp1bXAgJiYgIWp1bXAuZmFsbGluZyl7XG4gICAgICAgICAgdGhpcy5oZWFkaW5nID0gdGhpcy5kaXI7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSB0aGlzLmRpcjtcbiAgICAgIH1cbiAgICB9ZWxzZSBpZihlbnRpdHkudmVsLnggIT09IDApe1xuICAgICAgY29uc3QgZGVjZWwgPSBNYXRoLm1pbihhYnNYLCB0aGlzLmRlY2VsZXJhdGlvbiAqIGR0KTtcbiAgICAgIGVudGl0eS52ZWwueCArPSBkZWNlbCAqIChlbnRpdHkudmVsLnggPiAwID8gLTEgOiAxKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuZGlzdGFuY2UgPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IGRyYWcgPSB0aGlzLmZyaWN0aW9uICogZW50aXR5LnZlbC54ICogYWJzWDtcbiAgICBlbnRpdHkudmVsLnggLT0gZHJhZztcbiAgICBcbiAgICB0aGlzLmRpc3RhbmNlICs9IGFic1ggKiBkdDtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmF2aXR5IGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGdyYXZpdHk6IG51bWJlciA9IDE1MDA7XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBlbnRpdHkudmVsLnkgKz0gdGhpcy5ncmF2aXR5ICogZHQ7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFNpZGVzLCBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmNvbnN0IFNQRUVEX0JPT1NUID0gMC4zO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKdW1wIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGR1cmF0aW9uOiBudW1iZXI7XG4gIHByaXZhdGUgdmVsb2NpdHk6IG51bWJlcjtcbiAgcHJpdmF0ZSBlbmdhZ2VUaW1lOiBudW1iZXI7XG4gIHByaXZhdGUgcmVhZHk6IG51bWJlcjtcblxuICBwcml2YXRlIGdyYWNlVGltZTogbnVtYmVyO1xuICBwcml2YXRlIGdyYWNlRHVyYXRpb246IG51bWJlcjtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZHVyYXRpb24gPSAwLjM7XG4gICAgdGhpcy52ZWxvY2l0eSA9IDIwMDtcbiAgICB0aGlzLmVuZ2FnZVRpbWUgPSAwO1xuICAgIHRoaXMucmVhZHkgPSAwO1xuXG4gICAgdGhpcy5ncmFjZVRpbWUgPSAwO1xuICAgIHRoaXMuZ3JhY2VEdXJhdGlvbiA9IDAuMTtcbiAgfVxuICBwdWJsaWMgZ2V0IGZhbGxpbmcoKSA6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFkeSA8IDA7IH1cbiAgc3RhcnQoKXtcbiAgICB0aGlzLmdyYWNlVGltZSA9IHRoaXMuZ3JhY2VEdXJhdGlvbjtcbiAgfVxuICBjYW5jZWwoKXtcbiAgICB0aGlzLmVuZ2FnZVRpbWUgPSAwO1xuICAgIHRoaXMuZ3JhY2VUaW1lID0gMDtcbiAgfVxuICBvYnN0cnVjdChlbnRpdHk6IEVudGl0eSwgc2lkZTogU2lkZXMpe1xuICAgIGlmKHNpZGUgPT09IFNpZGVzLkJPVFRPTSkgdGhpcy5yZWFkeSA9IDE7XG4gICAgaWYoc2lkZSA9PT0gU2lkZXMuVE9QKSB0aGlzLmNhbmNlbCgpO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcbiAgICBcbiAgICBpZih0aGlzLmdyYWNlVGltZSA+IDApe1xuICAgICAgaWYodGhpcy5yZWFkeSA+IDApe1xuICAgICAgICBlbnRpdHkuc291bmRzLmFkZCgnanVtcCcpO1xuICAgICAgICB0aGlzLmVuZ2FnZVRpbWUgPSB0aGlzLmR1cmF0aW9uO1xuICAgICAgICB0aGlzLmdyYWNlVGltZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ3JhY2VUaW1lIC09IGR0O1xuICAgIH1cblxuICAgIGlmKHRoaXMuZW5nYWdlVGltZSA+IDApe1xuICAgICAgZW50aXR5LnZlbC55ID0gLSh0aGlzLnZlbG9jaXR5ICsgTWF0aC5hYnMoZW50aXR5LnZlbC54KSAqIFNQRUVEX0JPT1NUKTtcbiAgICAgIHRoaXMuZW5nYWdlVGltZSAtPSBkdDtcbiAgICB9XG5cbiAgICB0aGlzLnJlYWR5LS07XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2lsbGFibGUgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBkZWFkOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyByZW1vdmVBZnRlcjogbnVtYmVyID0gMjtcbiAgcHJpdmF0ZSBkZWFkVGltZTogbnVtYmVyID0gMDtcblxuICBraWxsKCl7XG4gICAgdGhpcy5xdWV1ZSgoKSA9PiB0aGlzLmRlYWQgPSB0cnVlKTtcbiAgfVxuXG4gIHJldml2ZSgpe1xuICAgIHRoaXMuZGVhZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVhZFRpbWUgPSAwO1xuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0LCBsZXZlbCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBpZih0aGlzLmRlYWQpe1xuICAgICAgdGhpcy5kZWFkVGltZSArPSBkdDtcbiAgICAgIGlmKHRoaXMuZGVhZFRpbWUgPiB0aGlzLnJlbW92ZUFmdGVyKXtcbiAgICAgICAgdGhpcy5xdWV1ZSgoKSA9PiBsZXZlbC5lbnRpdGllcy5kZWxldGUoZW50aXR5KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBTaWRlcywgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQZW5kdWx1bVdhbGsgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBlbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcbiAgcHVibGljIHNwZWVkOiBudW1iZXIgPSAtMzA7XG4gIG9ic3RydWN0KGVudGl0eTogRW50aXR5LCBzaWRlOiBTaWRlcyk6IHZvaWQge1xuICAgIGlmKHNpZGUgPT09IFNpZGVzLkxFRlQgfHwgc2lkZSA9PT0gU2lkZXMuUklHSFQpXG4gICAgICB0aGlzLnNwZWVkICo9IC0xO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgaWYodGhpcy5lbmFibGVkKSBlbnRpdHkudmVsLnggPSB0aGlzLnNwZWVkO1xuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBoeXNpY3MgZXh0ZW5kcyBUcmFpdCB7XG4gIHByaXZhdGUgZ3Jhdml0eTogbnVtYmVyID0gMTUwMDtcbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGxldmVsLCBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBlbnRpdHkucG9zLnggKz0gZW50aXR5LnZlbC54ICogZHQ7XG4gICAgbGV2ZWwudGlsZUNvbGxpZGVyLmNoZWNrWChlbnRpdHksIGdhbWVDb250ZXh0KTtcblxuICAgIGVudGl0eS5wb3MueSArPSBlbnRpdHkudmVsLnkgKiBkdDtcbiAgICBsZXZlbC50aWxlQ29sbGlkZXIuY2hlY2tZKGVudGl0eSwgZ2FtZUNvbnRleHQpO1xuXG4gICAgZW50aXR5LnZlbC55ICs9IHRoaXMuZ3Jhdml0eSAqIGR0O1xuICB9XG59IiwiaW1wb3J0IHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGxpdmVzOiBudW1iZXIgPSAzO1xuICBwdWJsaWMgc2NvcmU6IG51bWJlciA9IDA7XG59IiwiaW1wb3J0IE1hcmlvIGZyb20gXCIuLi9lbnRpdGllcy9NYXJpb1wiO1xuaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi4vbWF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJDb250cm9sbGVyIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgcGxheWVyOiBNYXJpbyA9IG51bGw7XG4gIHB1YmxpYyBjaGVja3BvaW50OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyB0aW1lOiBudW1iZXIgPSAzMDA7XG4gIHB1YmxpYyBzY29yZTogbnVtYmVyID0gMDtcblxuICBzZXRQbGF5ZXIocGxheWVyOiBNYXJpbyl7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG5cbiAgICB0aGlzLnBsYXllci5zdG9tcGVyLmV2ZW50cy5saXN0ZW4oJ3N0b21wJywgKCkgPT4ge1xuICAgICAgdGhpcy5zY29yZSArPSAxMDA7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQsIGxldmVsIH0gPSBnYW1lQ29udGV4dDtcblxuICAgIGlmKHRoaXMucGxheWVyICYmICFsZXZlbC5lbnRpdGllcy5oYXModGhpcy5wbGF5ZXIpKXtcbiAgICAgIHRoaXMucGxheWVyLmtpbGxhYmxlLnJldml2ZSgpO1xuICAgICAgdGhpcy5wbGF5ZXIucG9zLnNldCh0aGlzLmNoZWNrcG9pbnQueCwgdGhpcy5jaGVja3BvaW50LnkpO1xuICAgICAgbGV2ZWwuZW50aXRpZXMuYWRkKHRoaXMucGxheWVyKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMudGltZSAtPSBkdCAqIDI7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBTaWRlcywgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBSZXNvbHZlZFRpbGUgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvbGlkIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgb2JzdHJ1Y3RzOiBib29sZWFuID0gdHJ1ZTtcbiAgb2JzdHJ1Y3QoZW50aXR5OiBFbnRpdHksIHNpZGU6IFNpZGVzLCBtYXRjaDogUmVzb2x2ZWRUaWxlKXtcbiAgICBpZighdGhpcy5vYnN0cnVjdHMpIHJldHVybjtcbiAgICBzd2l0Y2goc2lkZSl7XG4gICAgICBjYXNlIFNpZGVzLlJJR0hUOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCA9IG1hdGNoLngxIC0gZW50aXR5LnNpemUueDtcbiAgICAgICAgZW50aXR5LnZlbC54ID0gMDtcbiAgICAgIH0gYnJlYWs7XG4gICAgICBjYXNlIFNpZGVzLkxFRlQ6IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy5sZWZ0ID0gbWF0Y2gueDI7XG4gICAgICAgIGVudGl0eS52ZWwueCA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5CT1RUT006IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AgPSBtYXRjaC55MSAtIGVudGl0eS5zaXplLnk7XG4gICAgICAgIGVudGl0eS52ZWwueSA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5UT1A6IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AgPSBtYXRjaC55MjtcbiAgICAgICAgZW50aXR5LnZlbC55ID0gMDtcbiAgICAgIH0gYnJlYWs7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi9LaWxsYWJsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9tcGVyIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGJvdW5kU3BlZWQ6IG51bWJlciA9IDQwMDtcbiAgXG4gIHByaXZhdGUgYm91bmNlKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSl7XG4gICAgdXMuYm91bmRzLmJvdHRvbSA9IHRoZW0uYm91bmRzLnRvcDtcbiAgICB1cy52ZWwueSA9IC10aGlzLmJvdW5kU3BlZWRcbiAgfVxuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IGtpbGxhYmxlID0gdGhlbS5nZXRUcmFpdCgna2lsbGFibGUnKTtcbiAgICBpZigha2lsbGFibGUgfHwgIShraWxsYWJsZSBpbnN0YW5jZW9mIEtpbGxhYmxlKSB8fCBraWxsYWJsZS5kZWFkKSByZXR1cm47XG4gICAgXG4gICAgaWYodXMudmVsLnkgPiB0aGVtLnZlbC55KXtcbiAgICAgIHRoaXMucXVldWUoKCkgPT4gdGhpcy5ib3VuY2UodXMsIHRoZW0pKTtcbiAgICAgIHVzLnNvdW5kcy5hZGQoJ3N0b21wJyk7XG4gICAgICB0aGlzLmV2ZW50cy5lbWl0KCdzdG9tcCcsIHVzLCB0aGVtKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVsb2NpdHkgZXh0ZW5kcyBUcmFpdCB7XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgZW50aXR5LnBvcy54ICs9IGVudGl0eS52ZWwueCAqIGR0O1xuICAgIGVudGl0eS5wb3MueSArPSBlbnRpdHkudmVsLnkgKiBkdDtcbiAgfVxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IFRpbWVyIGZyb20gJy4vVGltZXInO1xuaW1wb3J0IHsgc2V0dXBLZXlib2FyZCB9IGZyb20gJy4vaW5wdXQnO1xuaW1wb3J0IENhbWVyYSBmcm9tICcuL0NhbWVyYSc7XG5pbXBvcnQgeyBjcmVhdGVMZXZlbExvYWRlciB9IGZyb20gJy4vbG9hZGVycy9sZXZlbCc7XG5pbXBvcnQgeyBsb2FkRW50aXRpZXMgfSBmcm9tICcuL2VudGl0aWVzJztcbmltcG9ydCBQbGF5ZXJDb250cm9sbGVyIGZyb20gJy4vdHJhaXRzL1BsYXllckNvbnRyb2xsZXInO1xuaW1wb3J0IHsgY3JlYXRlQ29sbGlzaW9uTGF5ZXIgfSBmcm9tICcuL2xheWVycy9jb2xsaXNpb24nO1xuaW1wb3J0IHsgbG9hZEZvbnQgfSBmcm9tICcuL2xvYWRlcnMvZm9udCc7XG5pbXBvcnQgeyBjcmVhdGVEYXNoYm9hcmRMYXllciB9IGZyb20gJy4vbGF5ZXJzL2Rhc2hib2FyZCc7XG5pbXBvcnQgeyBjcmVhdGVQbGF5ZXJFbnYgfSBmcm9tICcuL3BsYXllcic7XG5cbmFzeW5jIGZ1bmN0aW9uIG1haW4oY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCl7XG4gIGNvbnN0IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgY29uc3QgYXVkaW9Db250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuXG4gIGNvbnN0IFtlbnRpdHlGYWN0b3J5LCBmb250XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBsb2FkRW50aXRpZXMoYXVkaW9Db250ZXh0KSxcbiAgICBsb2FkRm9udCgpLFxuICBdKTtcblxuICBjb25zdCBsb2FkTGV2ZWwgPSBhd2FpdCBjcmVhdGVMZXZlbExvYWRlcihlbnRpdHlGYWN0b3J5KTtcbiAgY29uc3QgbGV2ZWwgPSBhd2FpdCBsb2FkTGV2ZWwoJzEtMScpO1xuICBcbiAgY29uc3QgY2FtZXJhID0gbmV3IENhbWVyYSgpO1xuICBcbiAgY29uc3QgbWFyaW8gPSBlbnRpdHlGYWN0b3J5Lm1hcmlvKCk7XG5cbiAgY29uc3QgcGxheWVyRW52ID0gY3JlYXRlUGxheWVyRW52KG1hcmlvKTtcbiAgbGV2ZWwuZW50aXRpZXMuYWRkKHBsYXllckVudik7XG5cbiAgbGV2ZWwuY29tcC5hZGQoY3JlYXRlQ29sbGlzaW9uTGF5ZXIobGV2ZWwpKTtcbiAgbGV2ZWwuY29tcC5hZGQoY3JlYXRlRGFzaGJvYXJkTGF5ZXIoZm9udCwgcGxheWVyRW52LmdldFRyYWl0KCdjb250cm9sbGVyJykgYXMgUGxheWVyQ29udHJvbGxlcikpO1xuXG4gIGNvbnN0IGlucHV0ID0gc2V0dXBLZXlib2FyZChtYXJpbyk7XG4gIGlucHV0Lmxpc3RlblRvKHdpbmRvdyk7XG5cbiAgY29uc3QgdGltZXIgPSBuZXcgVGltZXIoKTtcblxuICB0aW1lci51cGRhdGUgPSAoZHQpID0+IHtcbiAgICBsZXZlbC51cGRhdGUoZHQsIGF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeSk7XG5cbiAgICBjYW1lcmEucG9zLnggPSBNYXRoLm1heCgwLCBtYXJpby5wb3MueCAtIDEwMCk7XG5cbiAgICBsZXZlbC5jb21wLmRyYXcoY3R4LCBjYW1lcmEpO1xuICB9XG5cbiAgdGltZXIuc3RhcnQoKTtcbn1cblxuY29uc3QgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcyNzY3JlZW4nKTtcblxuY29uc3Qgc3RhcnQgPSAoKSA9PiB7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN0YXJ0KTtcbiAgbWFpbihjYW52YXMpO1xufVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnQpO1xuIl0sIm5hbWVzIjpbIkF1ZGlvQm9hcmQiLCJidWZmZXJzIiwiTWFwIiwiYWRkIiwibmFtZSIsImJ1ZmZlciIsInRoaXMiLCJzZXQiLCJwbGF5IiwiY29udGV4dCIsImdldCIsInNvdXJjZSIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbiIsInN0YXJ0IiwiQm91bmRpbmdCb3giLCJjb25zdHJ1Y3RvciIsInBvcyIsInNpemUiLCJvZmZzZXQiLCJvdmVybGFwcyIsImJveCIsImJvdHRvbSIsInRvcCIsImxlZnQiLCJyaWdodCIsInkiLCJ4IiwiQ2FtZXJhIiwiVmVjdG9yIiwiQ29tcG9zaXRvciIsImxheWVycyIsImxheWVyIiwicHVzaCIsImRyYXciLCJjdHgiLCJjYW1lcmEiLCJmb3JFYWNoIiwiU2lkZXMiLCJUcmFpdCIsInRhc2tzIiwiZXZlbnRzIiwiY29sbGlkZXMiLCJ1cyIsInRoZW0iLCJmaW5hbGl6ZSIsInRhc2siLCJsZW5ndGgiLCJvYnN0cnVjdCIsImVudGl0eSIsInNpZGUiLCJtYXRjaCIsInF1ZXVlIiwidXBkYXRlIiwiZ2FtZUNvbnRleHQiLCJFbnRpdHkiLCJhdWRpb0JvYXJkIiwic291bmRzIiwiU2V0IiwidmVsIiwidHJhaXRzIiwibGlmZXRpbWUiLCJib3VuZHMiLCJhZGRUcmFpdCIsInRyYWl0IiwiY2FuZGlkYXRlIiwiZ2V0VHJhaXQiLCJwbGF5U291bmRzIiwiYXVkaW9Db250ZXh0IiwiY2xlYXIiLCJkdCIsIkVudGl0eUNvbGxpZGVyIiwiZW50aXRpZXMiLCJjaGVjayIsInN1YmplY3QiLCJFdmVudEVtaXR0ZXIiLCJsaXN0ZW5lcnMiLCJsaXN0ZW4iLCJjYWxsYmFjayIsImNhbGxiYWNrcyIsImVtaXQiLCJhcmdzIiwiS2V5U3RhdGUiLCJLZXlib2FyZFN0YXRlIiwia2V5U3RhdGVzIiwia2V5TWFwIiwiYWRkTWFwcGluZyIsImNvZGUiLCJoYW5kbGVFdmVudCIsImV2ZW50IiwidHlwZSIsImhhcyIsInByZXZlbnREZWZhdWx0Iiwia2V5U3RhdGUiLCJQUkVTU0VEIiwiUkVMRUFTRUQiLCJsaXN0ZW5UbyIsIndpbmRvdyIsImV2ZW50TmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJMZXZlbCIsImNvbXAiLCJ0aWxlQ29sbGlkZXIiLCJlbnRpdHlDb2xsaWRlciIsInRpbWUiLCJlbnRpdHlGYWN0b3J5IiwibGV2ZWwiLCJTcHJpdGVTaGVldCIsImltYWdlIiwid2lkdGgiLCJoZWlnaHQiLCJmcmFtZXMiLCJhbmltYXRpb25zIiwiZ2V0QW5pbWF0aW9uIiwiZGVmaW5lQW5pbSIsImFuaW1hdGlvbiIsImRlZmluZSIsIm1hcCIsImZsaXAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJnZXRDb250ZXh0IiwiY2FudmFzIiwic2V0QXR0cmlidXRlIiwic2NhbGUiLCJ0cmFuc2xhdGUiLCJkcmF3SW1hZ2UiLCJkZWZpbmVUaWxlIiwiZnJhbWUiLCJjb25zb2xlIiwid2FybiIsImRyYXdBbmltIiwiZGlzdGFuY2UiLCJkcmF3VGlsZSIsImhhbmRsZXJzIiwiYnJpY2siLCJncm91bmQiLCJUaWxlUmVzb2x2ZXIiLCJtYXRyaXgiLCJ0aWxlU2l6ZSIsInRvSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJ0b0luZGV4UmFuZ2UiLCJwb3MxIiwicG9zMiIsInBNYXgiLCJjZWlsIiwicmFuZ2UiLCJnZXRCeUluZGV4IiwidGlsZSIsIngxIiwieDIiLCJ5MSIsInkyIiwiaW5kZXhYIiwiaW5kZXhZIiwic2VhcmNoQnlQb3NpdGlvbiIsInNlYXJjaEJ5UmFuZ2UiLCJtYXRjaGVzIiwiVGlsZUNvbGxpZGVyIiwicmVzb2x2ZXJzIiwiYWRkR3JpZCIsInRpbGVNYXRyaXgiLCJjaGVja1giLCJyZXNvbHZlciIsImhhbmRsZSIsImNoZWNrWSIsImluZGV4IiwidGlsZUNvbGxpc2lvbkNvbnRleHQiLCJoYW5kbGVyIiwiVGltZXIiLCJkZWx0YVRpbWUiLCJydW5uaW5nIiwiYWNjdW11bGF0ZWRUaW1lIiwibGFzdFRpbWUiLCJ1cGRhdGVQcm94eSIsImVucXVldWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjcmVhdGVBbmltIiwiZnJhbWVMZW4iLCJsb2FkRW50aXRpZXMiLCJhZGRBcyIsImZhY3RvcnkiLCJQcm9taXNlIiwiYWxsIiwibG9hZE1hcmlvIiwidGhlbiIsImxvYWRHb29tYmEiLCJsb2FkS29vcGEiLCJsb2FkQnVsbGV0IiwibG9hZENhbm5vbiIsIkJlaGF2aW9yIiwiZ3Jhdml0eSIsInN0b21wZXIiLCJCdWxsZXQiLCJraWxsYWJsZSIsImRlYWQiLCJraWxsIiwic3VwZXIiLCJ2ZWxvY2l0eSIsImJlaGF2aW9yIiwibG9hZFNwcml0ZVNoZWV0IiwiY3JlYXRlQnVsbGV0RmFjdG9yeSIsInNwcml0ZXMiLCJkcmF3QnVsbGV0IiwiYnVsbGV0IiwiQ2Fubm9uIiwiZW1pdHRlciIsImxvYWRBdWRpb0JvYXJkIiwiYXVkaW8iLCJlbWl0QnVsbGV0IiwiZGlyIiwicGxheWVyIiwiZmluZFBsYXllcnMiLCJhYnMiLCJjb3B5Iiwic2lnbiIsImNhbm5vbiIsImludGVydmFsIiwiZW1pdHRlcnMiLCJjcmVhdGVDYW5ub25GYWN0b3J5IiwiR29vbWJhIiwicGVuZHVsdW1Nb3ZlIiwic3BlZWQiLCJwaHlzaWNzIiwic29saWQiLCJjcmVhdGVHb29tYmFGYWN0b3J5Iiwid2Fsa0FuaW0iLCJkcmF3R29vbWJhIiwiZ29vbWJhIiwiS29vcGFTdGF0ZSIsInN0YXRlIiwiV0FMS0lORyIsImhpZGVUaW1lIiwiaGlkZUR1cmF0aW9uIiwicGFuaWNTcGVlZCIsIndhbGtTcGVlZCIsIktvb3BhIiwiaGFuZGxlU3RvbXAiLCJoYW5kbGVOdWRnZSIsIkhJRElORyIsInBhbmljIiwiUEFOSUMiLCJ0cmF2ZWxEaXIiLCJpbXBhY3REaXIiLCJoaWRlIiwib2JzdHJ1Y3RzIiwiZW5hYmxlZCIsInVuaGlkZSIsImNyZWF0ZUtvb3BhRmFjdG9yeSIsIndha2VBbmltIiwiZHJhd0tvb3BhIiwia29vcGEiLCJyb3V0ZUFuaW0iLCJNYXJpbyIsImdvIiwianVtcCIsImRyYWciLCJ0dXJibyIsInJ1bkFuaW0iLCJyb3V0ZUZyYW1lIiwibWFyaW8iLCJmYWxsaW5nIiwiZHJhd01hcmlvIiwiaGVhZGluZyIsInJlbW92ZUFmdGVyIiwiY3JlYXRlTWFyaW9GYWN0b3J5Iiwic2V0dXBLZXlib2FyZCIsImlucHV0IiwiY2FuY2VsIiwiY3JlYXRlQmFja2dyb3VuZExheWVyIiwidGlsZXMiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJzY3JlZW4iLCJkcmF3V2lkdGgiLCJkcmF3RnJvbSIsImRyYXdUbyIsImNsZWFyUmVjdCIsImNvbCIsImdyaWQiLCJyZWRyYXciLCJjcmVhdGVUaWxlQ2FuZGlkYXRlTGF5ZXIiLCJ0aWxlUmVzb2x2ZXIiLCJyZXNvbHZlZFRpbGVzIiwiZ2V0QnlJbmRleE9yaWdpbmFsIiwiY2FsbCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwicmVjdCIsInN0cm9rZSIsImNsb3NlUGF0aCIsImNyZWF0ZUNvbGxpc2lvbkxheWVyIiwiZHJhd1RpbGVDYW5kaWRhdGVzIiwiZHJhd0JvdW5kaW5nQm94ZXMiLCJjcmVhdGVEYXNoYm9hcmRMYXllciIsImZvbnQiLCJwbGF5ZXJDb250cm9sbGVyIiwiTElORTEiLCJMSU5FMiIsIm1heCIsInNjb3JlIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInRvRml4ZWQiLCJjcmVhdGVTcHJpdGVMYXllciIsInNwcml0ZUN0eCIsImxvYWRJbWFnZSIsInBhdGgiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwic3JjIiwibG9hZEpTT04iLCJmZXRjaCIsInJlcyIsImpzb24iLCJzaGVldFNwZWMiLCJpbWFnZVVSTCIsInRpbGVXIiwidGlsZUgiLCJ0aWxlU3BlYyIsImxvYWRBdWRpbyIsImNyZWF0ZUF1ZGlvTG9hZGVyIiwiYXVkaW9TaGVldCIsImpvYnMiLCJmeCIsInVybCIsInJlc3BvbnNlIiwiYXJyYXlCdWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJMRVRURVJTIiwiRm9udFNoZWV0Iiwic2hlZXQiLCJ0ZXh0Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJsb2FkRm9udCIsImkiLCJzZXR1cEJhY2tncm91bmRzIiwibGV2ZWxTcGVjIiwicGF0dGVybnMiLCJNYXRyaXgiLCJ3YWxrVGlsZXMiLCJleHBhbmRSYW5nZXMiLCJyYW5nZXMiLCJkZXJpdmVkWCIsImRlcml2ZWRZIiwicGF0dGVybiIsImV4cGFuZFRpbGVzIiwiY3JlYXRlR3JpZCIsImJhY2tncm91bmRMYXllciIsImNyZWF0ZUxldmVsTG9hZGVyIiwic3ByaXRlU2hlZXQiLCJjcmVhdGVFbnRpdHkiLCJzcHJpdGVMYXllciIsInNldHVwRW50aXRpZXMiLCJleHBhbmRTcGFuIiwieFN0YXJ0IiwieExlbiIsInlTdGFydCIsInlMZW4iLCJ4RW5kIiwieUVuZCIsImV4cGFuZFJhbmdlIiwiZGVsZXRlIiwidmFsdWUiLCJjb2x1bW5zIiwiY3JlYXRlUGxheWVyRW52IiwiZW52IiwiY29udHJvbGxlciIsImNoZWNrcG9pbnQiLCJzZXRQbGF5ZXIiLCJFbWl0dGVyIiwiY29vbGRvd24iLCJHbyIsImFjY2VsZXJhdGlvbiIsImRlY2VsZXJhdGlvbiIsImZyaWN0aW9uIiwiYWJzWCIsImRlY2VsIiwibWluIiwiR3Jhdml0eSIsIkp1bXAiLCJkdXJhdGlvbiIsImVuZ2FnZVRpbWUiLCJyZWFkeSIsImdyYWNlVGltZSIsImdyYWNlRHVyYXRpb24iLCJLaWxsYWJsZSIsImRlYWRUaW1lIiwicmV2aXZlIiwiUGVuZHVsdW1XYWxrIiwiUGh5c2ljcyIsIlBsYXllciIsImxpdmVzIiwiUGxheWVyQ29udHJvbGxlciIsIlNvbGlkIiwiU3RvbXBlciIsImJvdW5kU3BlZWQiLCJib3VuY2UiLCJWZWxvY2l0eSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJBdWRpb0NvbnRleHQiLCJsb2FkTGV2ZWwiLCJwbGF5ZXJFbnYiLCJ0aW1lciIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9