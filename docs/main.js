/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/AudioBoard.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.buffers=new Map}add(t,e){this.buffers.set(t,e)}play(t,e){const s=this.buffers.get(t);if(!s)return;const i=e.createBufferSource();i.connect(e.destination),i.buffer=s,i.start(0)}}},"./src/BoundingBox.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.pos=t,this.size=e,this.offset=s}overlaps(t){return this.bottom>t.top&&this.top<t.bottom&&this.left<t.right&&this.right>t.left}get bottom(){return this.pos.y+this.size.y+this.offset.y}get top(){return this.pos.y+this.offset.y}get left(){return this.pos.x+this.offset.x}get right(){return this.pos.x+this.size.x+this.offset.x}set bottom(t){this.pos.y=t-(this.size.y+this.offset.y)}set top(t){this.pos.y=t-this.offset.y}set left(t){this.pos.x=t-this.offset.x}set right(t){this.pos.x=t-(this.size.x+this.offset.x)}}},"./src/Camera.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/math.ts");class r{constructor(){this.pos=new i.Vector(0,0),this.size=new i.Vector(256,224)}}},"./src/Compositor.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.layers=[]}add(t){this.layers.push(t)}draw(t,e){this.layers.forEach((s=>s(t,e)))}}},"./src/Entity.ts":(t,e,s)=>{s.r(e),s.d(e,{Sides:()=>i,Trait:()=>o,default:()=>c});var i,r=s("./src/BoundingBox.ts"),n=s("./src/EventBuffer.ts"),a=s("./src/math.ts");!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(i||(i={}));class o{constructor(){this.listeners=[]}collides(t,e){}finalize(t){this.listeners=this.listeners.filter((e=>(t.events.process(e.name,e.callback),--e.count)))}listen(t,e,s=1/0){this.listeners.push({name:t,callback:e,count:s})}obstruct(t,e,s){}queue(t){this.listen(o.TASK,t,1)}update(t,e){}}o.TASK=Symbol("task");class c{constructor(t){this.sounds=new Set,this.events=new n.default,this.pos=new a.Vector,this.size=new a.Vector,this.offset=new a.Vector,this.vel=new a.Vector,this.lifetime=0,this.traits=new Map,this.draw=(t,e)=>{},this.audioBoard=t,this.bounds=new r.default(this.pos,this.size,this.offset)}addTrait(t,e){this.traits.set(t,e)}collides(t){this.traits.forEach((e=>{e.collides(this,t)}))}finalize(){this.events.emit(o.TASK),this.traits.forEach((t=>{t.finalize(this)})),this.events.clear()}getTrait(t){return this.traits.get(t)}obstruct(t,e){this.traits.forEach((s=>{s.obstruct(this,t,e)}))}playSounds(t,e){this.sounds.forEach((s=>{t.play(s,e)})),this.sounds.clear()}update(t){this.traits.forEach((e=>{e.update(this,t)})),this.playSounds(this.audioBoard,t.audioContext),this.lifetime+=t.dt}}},"./src/EntityCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t){this.entities=t}check(t){this.entities.forEach((e=>{t!==e&&t.bounds.overlaps(e.bounds)&&t.collides(e)}))}}},"./src/EventBuffer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.events=[]}clear(){this.events.length=0}emit(t,...e){const s={name:t,args:e};this.events.push(s)}process(t,e){this.events.forEach((s=>{s.name===t&&e(...s.args)}))}}},"./src/EventEmitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.listeners=new Map}listen(t,e){const s=this.listeners.get(t)||[];s.push(e),this.listeners.set(t,s)}emit(t,...e){const s=this.listeners.get(t);s&&s.forEach((t=>{t(...e)}))}}},"./src/KeyboardState.ts":(t,e,s)=>{var i;s.r(e),s.d(e,{KeyState:()=>i,default:()=>r}),function(t){t[t.RELEASED=0]="RELEASED",t[t.PRESSED=1]="PRESSED"}(i||(i={}));class r{constructor(){this.keyStates=new Map,this.keyMap=new Map}addMapping(t,e){this.keyMap.set(t,e)}handleEvent(t){const{code:e,type:s}=t;if(!this.keyMap.has(e))return;t.preventDefault();const r="keydown"===s?i.PRESSED:i.RELEASED;this.keyStates.get(e)!==r&&(this.keyStates.set(e,r),this.keyMap.get(e)(r))}listenTo(t){["keydown","keyup"].forEach((e=>{t.addEventListener(e,(t=>{this.handleEvent(t)}))}))}}},"./src/Level.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var i=s("./src/Compositor.ts"),r=s("./src/EntityCollider.ts"),n=s("./src/EventEmitter.ts"),a=s("./src/MusicController.ts"),o=s("./src/TileCollider.ts");class c{constructor(){this.events=new n.default,this.music=new a.default,this.comp=new i.default,this.entities=new Set,this.tileCollider=new o.default,this.entityCollider=new r.default(this.entities),this.time=0}update(t,e,s){this.entities.forEach((i=>{i.update({dt:t,level:this,audioContext:e,entityFactory:s})})),this.entities.forEach((t=>{this.entityCollider.check(t)})),this.entities.forEach((t=>{t.finalize()})),this.time+=t}}},"./src/MusicController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.musicPlayer=null}setPlayer(t){this.musicPlayer=t}playTheme(t=1){this.musicPlayer.play("main").playbackRate=t}playHurryTheme(){const t=this.musicPlayer.play("hurry");t.loop=!1,t.onended=()=>this.playTheme(1.3)}}},"./src/MusicPlayer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.tracks=new Map}addTrack(t,e){const s=new Audio(e);s.loop=!0,this.tracks.set(t,s)}play(t){for(const t of this.tracks.values())t.pause();const e=this.tracks.get(t);return e&&e.play(),e}}},"./src/SpriteSheet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.image=t,this.width=e,this.height=s,this.frames=new Map,this.animations=new Map}getAnimation(t){return this.animations.get(t)}defineAnim(t,e){this.animations.set(t,e)}define(t,e,s,i,r){const n=[!1,!0].map((t=>{const n=document.createElement("canvas").getContext("2d");return n.canvas.setAttribute("width",`${this.width}px`),n.canvas.setAttribute("height",`${this.height}px`),t&&(n.scale(-1,1),n.translate(-i,0)),n.drawImage(this.image,e,s,i,r,0,0,i,r),n.canvas}));this.frames.set(t,n)}defineTile(t,e,s){this.define(t,e*this.width,s*this.height,this.width,this.height)}draw(t,e,s,i,r=!1){const n=this.frames.get(t);n||console.warn(`Frame ${t} is not defined!`),e.drawImage(n[r?1:0],s,i)}drawAnim(t,e,s,i,r){const n=this.animations.get(t);if(!n)return this.drawTile(t,e,s,i);this.drawTile(n(r),e,s,i)}drawTile(t,e,s,i,r=!1){this.draw(t,e,s*this.width,i*this.height,r)}}},"./src/TileCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{TileResolver:()=>a,default:()=>o});var i=s("./src/tiles/brick.ts"),r=s("./src/tiles/ground.ts");const n={brick:i.brick,ground:r.ground};class a{constructor(t,e=16){this.matrix=t,this.tileSize=e}toIndex(t){return Math.floor(t/this.tileSize)}toIndexRange(t,e){const s=Math.ceil(e/this.tileSize)*this.tileSize,i=[];let r=t;do{i.push(this.toIndex(r)),r+=this.tileSize}while(r<s);return i}getByIndex(t,e){const s=this.matrix.get(t,e);return s?{tile:s,x1:t*this.tileSize,x2:(t+1)*this.tileSize,y1:e*this.tileSize,y2:(e+1)*this.tileSize,indexX:t,indexY:e}:null}searchByPosition(t,e){return this.getByIndex(this.toIndex(t),this.toIndex(e))}searchByRange(t,e,s,i){const r=[];return this.toIndexRange(t,e).forEach((t=>{this.toIndexRange(s,i).forEach((e=>{const s=this.getByIndex(t,e);s&&r.push(s)}))})),r}}class o{constructor(){this.resolvers=[]}addGrid(t){this.resolvers.push(new a(t))}checkX(t,e){if(0===t.vel.x)return;let s=t.bounds.left+(t.vel.x>0?t.size.x:0);for(const i of this.resolvers){i.searchByRange(s,s,t.bounds.top,t.bounds.bottom).forEach((s=>{this.handle(0,{entity:t,match:s,resolver:i,gameContext:e})}))}}checkY(t,e){if(0===t.vel.y)return;let s=t.bounds.top+(t.vel.y>0?t.size.y:0);for(const i of this.resolvers){i.searchByRange(t.bounds.left,t.bounds.right,s,s).forEach((s=>{this.handle(1,{entity:t,match:s,resolver:i,gameContext:e})}))}}handle(t,e){const s=n[e.match.tile.type];s&&s[t]&&s[t](e)}}},"./src/Timer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t=1/60){this.running=!1;let e=0,s=0;this.updateProxy=(i=0)=>{for(e+=(i-s)/1e3,e>1&&(e=1);e>t;)this.update(t),e-=t;s=i,this.enqueue()}}enqueue(){requestAnimationFrame(this.updateProxy)}start(){this.running||(this.running=!0,this.enqueue())}}},"./src/anim.ts":(t,e,s)=>{function i(t,e){return function(s){return t[Math.floor(s/e)%t.length]}}s.r(e),s.d(e,{createAnim:()=>i})},"./src/entities.ts":(t,e,s)=>{s.r(e),s.d(e,{loadEntities:()=>c});var i=s("./src/entities/Mario.ts"),r=s("./src/entities/Goomba.ts"),n=s("./src/entities/Koopa.ts"),a=s("./src/entities/Bullet.ts"),o=s("./src/entities/Cannon.ts");function c(t){const e={};function s(t){return s=>e[t]=s}return Promise.all([(0,i.loadMario)(t).then(s("mario")),(0,r.loadGoomba)(t).then(s("goomba")),(0,n.loadKoopa)(t).then(s("koopa")),(0,a.loadBullet)(t).then(s("bullet")),(0,o.loadCannon)(t,e).then(s("cannon"))]).then((()=>e))}},"./src/entities/Bullet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>h,loadBullet:()=>u});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Gravity.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/Stomper.ts"),c=s("./src/traits/Velocity.ts"),l=s("./src/entities/Mario.ts");class d extends i.Trait{constructor(){super(...arguments),this.gravity=new n.default}collides(t,e){const s=e.getTrait("stomper");t instanceof h&&!t.killable.dead&&s instanceof o.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.vel.set(100,-200)):e instanceof l.default&&e.killable.kill())}update(t,e){t instanceof h&&t.killable.dead&&this.gravity.update(t,e)}}class h extends i.default{constructor(){super(),this.addTrait("velocity",this.velocity=new c.default),this.addTrait("bullet",this.behavior=new d),this.addTrait("killable",this.killable=new a.default)}}function u(t){return(0,r.loadSpriteSheet)("bullet").then(f)}function f(t){function e(e){t.draw("bullet",e,0,0,this.vel.x<0)}return function(){const t=new h;return t.size.set(16,16),t.draw=e,t}}},"./src/entities/Cannon.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o,loadCannon:()=>c});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/player.ts"),a=s("./src/traits/Emitter.ts");class o extends i.default{constructor(t){super(t),this.addTrait("emitter",this.emitter=new a.default),this.size.set(16,14)}}function c(t,e){return(0,r.loadAudioBoard)("cannon",t).then((t=>function(t,e){function s(t,s){if(!(t instanceof o))return;let i;for(const e of(0,n.findPlayers)(s))if(i=e.pos.x-t.pos.x,Math.abs(e.pos.x-t.pos.x)<=30)return;const r=e.bullet();r.pos.copy(t.pos),r.vel.x=80*Math.sign(i),t.sounds.add("shoot"),s.entities.add(r)}return function(){const e=new o(t);return e.emitter.interval=4,e.emitter.emitters.push(s),e}}(t,e)))}},"./src/entities/Goomba.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>u,loadGoomba:()=>f});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Killable.ts"),a=s("./src/traits/PendulumMove.ts"),o=s("./src/traits/Physics.ts"),c=s("./src/traits/Solid.ts"),l=s("./src/traits/Stomper.ts"),d=s("./src/entities/Mario.ts");class h extends i.Trait{collides(t,e){const s=e.getTrait("stomper");t instanceof u&&!t.killable.dead&&s instanceof l.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.pendulumMove.speed=0):e instanceof d.default&&e.killable.kill())}}class u extends i.default{constructor(){super(),this.addTrait("physics",this.physics=new o.default),this.addTrait("solid",this.solid=new c.default),this.addTrait("pendulumMove",this.pendulumMove=new a.default),this.addTrait("goomba",this.behavior=new h),this.addTrait("killable",this.killable=new n.default)}}function f(t){return(0,r.loadSpriteSheet)("goomba").then(p)}function p(t){const e=t.getAnimation("walk");function s(s){var i;t.draw((i=this).killable.dead?"flat":e(i.lifetime),s,0,0)}return function(){const t=new u;return t.size.set(16,16),t.draw=s,t}}},"./src/entities/Koopa.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadKoopa:()=>p});var i,r=s("./src/Entity.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/PendulumMove.ts"),c=s("./src/traits/Physics.ts"),l=s("./src/traits/Solid.ts"),d=s("./src/traits/Stomper.ts"),h=s("./src/entities/Mario.ts");!function(t){t[t.WALKING=0]="WALKING",t[t.HIDING=1]="HIDING",t[t.PANIC=2]="PANIC"}(i||(i={}));class u extends r.Trait{constructor(){super(...arguments),this.state=i.WALKING,this.hideTime=0,this.hideDuration=5,this.panicSpeed=300,this.walkSpeed=null}collides(t,e){const s=e.getTrait("stomper");t instanceof f&&!t.killable.dead&&s instanceof d.default&&(e.vel.y>t.vel.y?this.handleStomp(t,e):e instanceof h.default&&this.handleNudge(t,e))}handleNudge(t,e){switch(this.state){case i.WALKING:e.killable.kill();break;case i.HIDING:this.panic(t,e);break;case i.PANIC:{const s=Math.sign(t.vel.x),i=Math.sign(t.pos.x-e.pos.x);0!==s&&s!==i&&e.killable.kill()}}}handleStomp(t,e){switch(this.state){case i.WALKING:this.hide(t);break;case i.HIDING:t.killable.kill(),t.vel.set(100,-200),t.solid.obstructs=!1;break;case i.PANIC:this.hide(t)}}hide(t){t.vel.x=0,t.pendulumMove.enabled=!1,this.walkSpeed||(this.walkSpeed=t.pendulumMove.speed),this.state=i.HIDING,this.hideTime=0}panic(t,e){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.panicSpeed*Math.sign(e.vel.x),this.state=i.PANIC}unhide(t){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.walkSpeed,this.state=i.WALKING}update(t,e){const{dt:s}=e;t instanceof f&&this.state===i.HIDING&&(this.hideTime+=s,this.hideTime>this.hideDuration&&this.unhide(t))}}class f extends r.default{constructor(){super(),this.addTrait("physics",this.physics=new c.default),this.addTrait("solid",this.solid=new l.default),this.addTrait("pendulumMove",this.pendulumMove=new o.default),this.addTrait("goomba",this.behavior=new u),this.addTrait("killable",this.killable=new a.default)}}function p(t){return(0,n.loadSpriteSheet)("koopa").then(y)}function y(t){const e=t.getAnimation("walk"),s=t.getAnimation("wake");function r(r){t.draw(function(t){switch(t.behavior.state){case i.HIDING:if(t.behavior.hideTime>3)return s(t.lifetime);case i.PANIC:return"hiding";default:return e(t.lifetime)}}(this),r,0,0,this.vel.x<0)}return function(){const t=new f;return t.size.set(16,16),t.offset.y=8,t.draw=r,t}}},"./src/entities/Mario.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadMario:()=>p});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Go.ts"),o=s("./src/traits/Jump.ts"),c=s("./src/traits/Killable.ts"),l=s("./src/traits/Physics.ts"),d=s("./src/traits/Player.ts"),h=s("./src/traits/Solid.ts"),u=s("./src/traits/Stomper.ts");class f extends i.default{constructor(t){super(t),this.size.set(14,16),this.addTrait("player",this.player=new d.default),this.addTrait("physics",this.physics=new l.default),this.addTrait("solid",this.solid=new h.default),this.addTrait("go",this.go=new a.default),this.addTrait("jump",this.jump=new o.default),this.addTrait("stomper",this.stomper=new u.default),this.addTrait("killable",this.killable=new c.default),this.go.drag=.001}turbo(t){this.go.drag=t?2e-4:.001}}function p(t){return Promise.all([(0,n.loadSpriteSheet)("mario"),(0,r.loadAudioBoard)("mario",t)]).then((([t,e])=>function(t,e){const s=t.getAnimation("run");function i(t){return t.jump.falling?"jump":t.go.distance>0?t.vel.x>0&&t.go.dir<0||t.vel.x<0&&t.go.dir>0?"break":s(t.go.distance):"idle"}function r(e){t.draw(i(this),e,0,0,this.go.heading<0)}return function(){const t=new f(e);return t.draw=r,t.killable.removeAfter=0,t}}(t,e)))}},"./src/input.ts":(t,e,s)=>{s.r(e),s.d(e,{setupKeyboard:()=>r});var i=s("./src/KeyboardState.ts");function r(t){const e=new i.default;return e.addMapping("KeyP",(e=>{e?t.jump.start():t.jump.cancel()})),e.addMapping("KeyO",(e=>{t.turbo(1===e)})),e.addMapping("KeyA",(e=>{t.go.dir+=e?-1:1})),e.addMapping("KeyD",(e=>{t.go.dir+=e?1:-1})),e}},"./src/layers/background.ts":(t,e,s)=>{s.r(e),s.d(e,{createBackgroundLayer:()=>r});var i=s("./src/TileCollider.ts");function r(t,e,s){const r=new i.TileResolver(e),n=document.createElement("canvas").getContext("2d");return n.imageSmoothingEnabled=!1,n.canvas.width=272,n.canvas.height=240,function(i,a){const o=r.toIndex(a.size.x),c=r.toIndex(a.pos.x);!function(i,r){n.clearRect(0,0,n.canvas.width,n.canvas.height);for(let a=i;a<=r;a++){const r=e.grid[a];r&&r.forEach(((e,r)=>{s.drawAnim(e.name,n,a-i,r,t.time)}))}}(c,c+o),i.drawImage(n.canvas,-a.pos.x%16,-a.pos.y)}}},"./src/layers/collision.ts":(t,e,s)=>{function i(t){const e=[],s=t.tileSize,i=t.getByIndex;return t.getByIndex=function(s,r){return e.push({x:s,y:r}),i.call(t,s,r)},function(t,i){t.strokeStyle="blue",e.forEach((({x:e,y:r})=>{t.beginPath(),t.rect(e*s-i.pos.x,r*s-i.pos.y,s,s),t.stroke(),t.closePath()})),e.length=0}}function r(t){const e=t.tileCollider.resolvers.map(i),s=(r=t.entities,function(t,e){t.strokeStyle="red",r.forEach((s=>{t.beginPath(),t.rect(s.bounds.left-e.pos.x,s.bounds.top-e.pos.y,s.size.x,s.size.y),t.stroke(),t.closePath()}))});var r;return function(t,i){e.forEach((e=>e(t,i))),s(t,i)}}s.r(e),s.d(e,{createCollisionLayer:()=>r})},"./src/layers/dashboard.ts":(t,e,s)=>{s.r(e),s.d(e,{createDashboardLayer:()=>n});var i=s("./src/player.ts"),r=s("./src/traits/LevelTimer.ts");function n(t,e){const s=t.size,n=2*t.size,a=function(t){for(const e of(0,i.findPlayers)(t))return e.getTrait("player")}(e),o=function(t){for(const e of t.entities){const t=e.getTrait("levelTimer");if(t&&t instanceof r.default)return t}}(e);return function(e){t.draw(a.name,e,16,s),t.draw(a.score.toString().padStart(6,"0"),e,16,n),t.draw(`@x${a.coins.toString().padStart(2,"0")}`,e,96,n),t.draw("WORLD",e,152,s),t.draw("1-1",e,160,n),t.draw("TIME",e,208,s),t.draw(Math.max(0,o.currentTime).toFixed(0).padStart(3,"0"),e,216,n)}}},"./src/layers/sprite.ts":(t,e,s)=>{function i(t,e=64,s=64){const i=document.createElement("canvas").getContext("2d");return i.imageSmoothingEnabled=!1,i.canvas.width=e,i.canvas.height=s,function(r,n){t.forEach((t=>{i.clearRect(0,0,e,s),t.draw(i),r.drawImage(i.canvas,t.pos.x-n.pos.x,t.pos.y-n.pos.y)}))}}s.r(e),s.d(e,{createSpriteLayer:()=>i})},"./src/loaders.ts":(t,e,s)=>{s.r(e),s.d(e,{loadImage:()=>r,loadJSON:()=>n});var i=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function r(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,s)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s,i.src=t}))}))}function n(t){return fetch(t).then((t=>t.json()))}},"./src/loaders/audio.ts":(t,e,s)=>{s.r(e),s.d(e,{loadAudioBoard:()=>a,createAudioLoader:()=>o});var i=s("./src/AudioBoard.ts"),r=s("./src/loaders.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t,e){return n(this,void 0,void 0,(function*(){const s=o(e),n=yield(0,r.loadJSON)(`./sounds/${t}.json`),a=new i.default,c=[];return n.fx.forEach((({name:t,url:e})=>{c.push(s(e).then((e=>{a.add(t,e)})))})),yield Promise.all(c),a}))}function o(t){return function(e){return fetch(e).then((t=>t.arrayBuffer())).then((e=>t.decodeAudioData(e)))}}},"./src/loaders/font.ts":(t,e,s)=>{s.r(e),s.d(e,{FontSheet:()=>o,loadFont:()=>c});var i=s("./src/loaders.ts"),r=s("./src/SpriteSheet.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const a=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";class o{constructor(t,e){this.sheet=t,this.size=e}draw(t,e,s,i){for(let r=0;r<t.length;r++)this.sheet.draw(t[r],e,s+r*this.size,i)}}function c(){return n(this,void 0,void 0,(function*(){const t=yield(0,i.loadImage)("./sheets/font.png"),e=new r.default(t);for(let t=0;t<a.length;t++){const s=8*(15&t),i=8*(t>>4);e.define(a[t],s,i,8,8)}return new o(e,8)}))}},"./src/loaders/level.ts":(t,e,s)=>{s.r(e),s.d(e,{createLevelLoader:()=>p});var i=s("./src/Entity.ts"),r=s("./src/layers/background.ts"),n=s("./src/layers/sprite.ts"),a=s("./src/Level.ts"),o=s("./src/loaders.ts"),c=s("./src/math.ts"),l=s("./src/traits/LevelTimer.ts"),d=s("./src/loaders/music.ts"),h=s("./src/loaders/sprite.ts");function u(t){const e=function(){const t=new i.default;return t.addTrait("levelTimer",new l.default),t}();t.entities.add(e),t.events.listen(l.default.TIMER_OKAY,(()=>t.music.playTheme())),t.events.listen(l.default.TIMER_HURRY,(()=>t.music.playHurryTheme()))}function f(t,e,s){t.layers.forEach(((i,n)=>{const a=function(t,e){const s=new c.Matrix;for(const{tile:i,x:r,y:n}of function*(t,e){function*s(t,i,r){for(const n of t)for(const{x:t,y:a}of v(n.ranges)){const o=t+i,c=a+r;if(n.pattern){const t=e[n.pattern].tiles;yield*s(t,o,c)}else yield{tile:n,x:o,y:c}}}yield*s(t,0,0)}(t,e))s.set(r,n,i);return s}(i.tiles,t.patterns),o=(0,r.createBackgroundLayer)(e,a,s);e.comp.add(o),e.tileCollider.addGrid(a)}))}function p(t){return function(e){return(0,o.loadJSON)(`./levels/${e}.json`).then((t=>Promise.all([t,(0,h.loadSpriteSheet)(t.spriteSheet),(0,d.loadMusicSheet)(t.musicSheet)]))).then((([e,s,i])=>{const r=new a.default;return r.music.setPlayer(i),f(e,r,s),function(t,e,s){t.entities.forEach((({name:t,pos:[i,r]})=>{const n=(0,s[t])();n.pos.set(i,r),e.entities.add(n)}));const i=(0,n.createSpriteLayer)(e.entities);e.comp.add(i)}(e,r,t),u(r),r}))}}function*y(t,e,s,i){const r=t+e,n=s+i;for(let e=t;e<r;e++)for(let t=s;t<n;t++)yield{x:e,y:t}}function m(t){switch(t.length){case 4:return y(...t);case 3:return y(t[0],t[1],t[2],1);case 2:return y(t[0],1,t[1],1)}}function*v(t){for(const e of t)yield*m(e)}},"./src/loaders/music.ts":(t,e,s)=>{s.r(e),s.d(e,{loadMusicSheet:()=>a});var i=s("./src/loaders.ts"),r=s("./src/MusicPlayer.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t){return n(this,void 0,void 0,(function*(){const e=yield(0,i.loadJSON)(`./music/${t}.json`),s=new r.default;for(const[t,i]of Object.entries(e))s.addTrack(t,i.url);return s}))}},"./src/loaders/sprite.ts":(t,e,s)=>{s.r(e),s.d(e,{loadSpriteSheet:()=>a});var i=s("./src/anim.ts"),r=s("./src/loaders.ts"),n=s("./src/SpriteSheet.ts");function a(t){return(0,r.loadJSON)(`./sprites/${t}.json`).then((t=>Promise.all([t,(0,r.loadImage)(t.imageURL)]))).then((([t,e])=>{const s=new n.default(e,t.tileW,t.tileH);return t.tiles&&t.tiles.forEach((t=>{s.defineTile(t.name,...t.index)})),t.frames&&t.frames.forEach((({name:t,rect:e})=>{s.define(t,...e)})),t.animations&&t.animations.forEach((({name:t,frameLen:e,frames:r})=>{const n=(0,i.createAnim)(r,e);s.defineAnim(t,n)})),s}))}},"./src/math.ts":(t,e,s)=>{s.r(e),s.d(e,{Matrix:()=>i,Vector:()=>r});class i{constructor(){this.grid=[]}delete(t,e){const s=this.grid[t];s&&delete s[e]}get(t,e){const s=this.grid[t];if(s)return s[e]}set(t,e,s){this.grid[t]||(this.grid[t]=[]),this.grid[t][e]=s}forEach(t){this.grid.forEach(((e,s)=>{e.forEach(((e,i)=>{t(s,i,e)}))}))}}class r{constructor(t=0,e=0){this.set(t,e)}copy(t){this.set(t.x,t.y)}set(t,e){this.x=t,this.y=e}}},"./src/player.ts":(t,e,s)=>{s.r(e),s.d(e,{createPlayerEnv:()=>a,findPlayers:()=>o});var i=s("./src/Entity.ts"),r=s("./src/traits/Player.ts"),n=s("./src/traits/PlayerController.ts");function a(t){const e=new i.default,s=new n.default;return s.checkpoint.set(64,64),s.setPlayer(t),e.addTrait("controller",s),e}function*o(t){for(const e of t.entities)e.getTrait("player")instanceof r.default&&(yield e)}},"./src/tiles/brick.ts":(t,e,s)=>{s.r(e),s.d(e,{brick:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s,resolver:r,gameContext:n}=t;if(e.vel.y>0)e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s);else if(e.vel.y<0){if(e.getTrait("player")){r.matrix.delete(s.indexX,s.indexY);const t=n.entityFactory.goomba();t.pos.set(e.pos.x,s.y1),t.vel.set(50,-400),n.level.entities.add(t)}e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}}]},"./src/tiles/ground.ts":(t,e,s)=>{s.r(e),s.d(e,{ground:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s}=t;e.vel.y>0?e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s):e.vel.y<0&&e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}]},"./src/traits/Emitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.cooldown=2,this.interval=2,this.emitters=[]}emit(t,e){for(const s of this.emitters)s(t,e)}update(t,e){const{dt:s,level:i}=e;this.cooldown-=s,this.cooldown<0&&(this.emit(t,i),this.cooldown=this.interval)}}},"./src/traits/Go.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Jump.ts");class n extends i.Trait{constructor(){super(),this.dir=0,this.acceleration=400,this.deceleration=300,this.friction=2e-4,this.distance=0,this.heading=1}set drag(t){this.friction=t}update(t,e){const{dt:s}=e,i=Math.abs(t.vel.x);if(0!==this.dir){t.vel.x+=this.acceleration*s*this.dir;const e=t.getTrait("jump");e?e instanceof r.default&&!e.falling&&(this.heading=this.dir):this.heading=this.dir}else if(0!==t.vel.x){const e=Math.min(i,this.deceleration*s);t.vel.x+=e*(t.vel.x>0?-1:1)}else this.distance=0;const n=this.friction*t.vel.x*i;t.vel.x-=n,this.distance+=i*s}}},"./src/traits/Gravity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{dt:s}=e;t.vel.y+=this.gravity*s}}},"./src/traits/Jump.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(),this.duration=.3,this.velocity=200,this.engageTime=0,this.ready=0,this.graceTime=0,this.graceDuration=.1}get falling(){return this.ready<0}start(){this.graceTime=this.graceDuration}cancel(){this.engageTime=0,this.graceTime=0}obstruct(t,e){e===i.Sides.BOTTOM&&(this.ready=1),e===i.Sides.TOP&&this.cancel()}update(t,e){const{dt:s}=e;this.graceTime>0&&(this.ready>0&&(t.sounds.add("jump"),this.engageTime=this.duration,this.graceTime=0),this.graceTime-=s),this.engageTime>0&&(t.vel.y=-(this.velocity+.3*Math.abs(t.vel.x)),this.engageTime-=s),this.ready--}}},"./src/traits/Killable.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.dead=!1,this.removeAfter=2,this.deadTime=0}kill(){this.queue((()=>this.dead=!0))}revive(){this.dead=!1,this.deadTime=0}update(t,e){const{dt:s,level:i}=e;this.dead&&(this.deadTime+=s,this.deadTime>this.removeAfter&&this.queue((()=>i.entities.delete(t))))}}},"./src/traits/LevelTimer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.totalTime=300,this.currentTime=this.totalTime,this.hurryTime=100,this.hurryEmitted=null}update(t,e){const{dt:s,level:i}=e;this.currentTime-=2*s,!0!==this.hurryEmitted&&this.currentTime<this.hurryTime&&(i.events.emit(r.TIMER_HURRY),this.hurryEmitted=!0),!1!==this.hurryEmitted&&this.currentTime>this.hurryTime&&(i.events.emit(r.TIMER_OKAY),this.hurryEmitted=!1)}}r.TIMER_HURRY=Symbol("timer.hurry"),r.TIMER_OKAY=Symbol("timer.okay")},"./src/traits/PendulumMove.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.enabled=!0,this.speed=-30}obstruct(t,e){e!==i.Sides.LEFT&&e!==i.Sides.RIGHT||(this.speed*=-1)}update(t,e){this.enabled&&(t.vel.x=this.speed)}}},"./src/traits/Physics.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{level:s,dt:i}=e;t.pos.x+=t.vel.x*i,s.tileCollider.checkX(t,e),t.pos.y+=t.vel.y*i,s.tileCollider.checkY(t,e),t.vel.y+=this.gravity*i}}},"./src/traits/Player.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Stomper.ts");class n extends i.Trait{constructor(){super(),this.name="N/A",this.coins=0,this.lives=3,this.score=0,this.listen(r.default.STOMP,(()=>{this.score+=100}))}}},"./src/traits/PlayerController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/math.ts");class n extends i.Trait{constructor(){super(...arguments),this.checkpoint=new r.Vector,this.player=null}setPlayer(t){this.player=t}update(t,e){const{level:s}=e;this.player&&!s.entities.has(this.player)&&(this.player.killable.revive(),this.player.pos.set(this.checkpoint.x,this.checkpoint.y),s.entities.add(this.player))}}},"./src/traits/Solid.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.obstructs=!0}obstruct(t,e,s){if(this.obstructs)switch(e){case i.Sides.RIGHT:t.bounds.left=s.x1-t.size.x,t.vel.x=0;break;case i.Sides.LEFT:t.bounds.left=s.x2,t.vel.x=0;break;case i.Sides.BOTTOM:t.bounds.top=s.y1-t.size.y,t.vel.y=0;break;case i.Sides.TOP:t.bounds.top=s.y2,t.vel.y=0}}}},"./src/traits/Stomper.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Killable.ts");class n extends i.Trait{constructor(){super(...arguments),this.boundSpeed=400}bounce(t,e){t.bounds.bottom=e.bounds.top,t.vel.y=-this.boundSpeed}collides(t,e){const s=e.getTrait("killable");s&&s instanceof r.default&&!s.dead&&t.vel.y>e.vel.y&&(this.queue((()=>this.bounce(t,e))),t.sounds.add("stomp"),t.events.emit(n.STOMP,t,e))}}n.STOMP=Symbol("stomp")},"./src/traits/Velocity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{update(t,e){const{dt:s}=e;t.pos.x+=t.vel.x*s,t.pos.y+=t.vel.y*s}}}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{s.r(i);var t=s("./src/Timer.ts"),e=s("./src/input.ts"),r=s("./src/Camera.ts"),n=s("./src/loaders/level.ts"),a=s("./src/entities.ts"),o=s("./src/layers/collision.ts"),c=s("./src/loaders/font.ts"),l=s("./src/layers/dashboard.ts"),d=s("./src/player.ts"),h=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const u=document.querySelector("canvas#screen"),f=()=>{window.removeEventListener("click",f),function(s){h(this,void 0,void 0,(function*(){const i=s.getContext("2d");i.imageSmoothingEnabled=!1;const h=new AudioContext,[u,f]=yield Promise.all([(0,a.loadEntities)(h),(0,c.loadFont)()]),p=yield(0,n.createLevelLoader)(u),y=yield p("1-1"),m=new r.default,v=u.mario();v.player.name="MARIO",y.entities.add(v);const g=(0,d.createPlayerEnv)(v);y.entities.add(g),y.comp.add((0,o.createCollisionLayer)(y)),y.comp.add((0,l.createDashboardLayer)(f,y)),(0,e.setupKeyboard)(v).listenTo(window);const b=new t.default;b.update=t=>{y.update(t,h,u),m.pos.x=Math.max(0,v.pos.x-100),y.comp.draw(i,m)},b.start()}))}(u)};window.addEventListener("click",f)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBRW5EbGMsRUFBUSxLQUNaMEYsT0FBT3lXLG9CQUFvQixRQUFTbmMsR0E1Q3RDLFNBQW9Cc0kscUNBQ2xCLE1BQU1qSCxFQUFnQ2lILEVBQU9ELFdBQVcsTUFDeERoSCxFQUFJcVEsdUJBQXdCLEVBQzVCLE1BQU0xTixFQUFlLElBQUlvWSxjQUVsQmpXLEVBQWU4TSxTQUFjN0csUUFBUUMsSUFBSSxFQUM5QyxJQUFBSixjQUFhakksSUFDYixJQUFBNFIsY0FHSXlHLFFBQWtCLElBQUF4RixtQkFBa0IxUSxHQUNwQ0MsUUFBY2lXLEVBQVUsT0FFeEIvYSxFQUFTLElBQUksVUFFYnlQLEVBQVE1SyxFQUFjNEssUUFDNUJBLEVBQU12SyxPQUFPbkgsS0FBTyxRQUNwQitHLEVBQU1qQyxTQUFTL0UsSUFBSTJSLEdBRW5CLE1BQU11TCxHQUFZLElBQUFoRSxpQkFBZ0J2SCxHQUNsQzNLLEVBQU1qQyxTQUFTL0UsSUFBSWtkLEdBRW5CbFcsRUFBTUwsS0FBSzNHLEtBQUksSUFBQXlULHNCQUFxQnpNLElBQ3BDQSxFQUFNTCxLQUFLM0csS0FBSSxJQUFBNFQsc0JBQXFCQyxFQUFNN00sS0FFNUIsSUFBQWlMLGVBQWNOLEdBQ3RCdEwsU0FBU0MsUUFFZixNQUFNMk4sRUFBUSxJQUFJLFVBRWxCQSxFQUFNdlEsT0FBVW1CLElBQ2RtQyxFQUFNdEQsT0FBT21CLEVBQUlELEVBQWNtQyxHQUUvQjdFLEVBQU9uQixJQUFJVSxFQUFJNEksS0FBS2tLLElBQUksRUFBRzVDLEVBQU01USxJQUFJVSxFQUFJLEtBRXpDdUYsRUFBTUwsS0FBSzNFLEtBQUtDLEVBQUtDLElBR3ZCK1IsRUFBTXJULFdBT051YyxDQUFLalUsSUFFUDVDLE9BQU9FLGlCQUFpQixRQUFTNUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9BdWRpb0JvYXJkLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0JvdW5kaW5nQm94LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0NhbWVyYS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9Db21wb3NpdG9yLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0VudGl0eS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9FbnRpdHlDb2xsaWRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9FdmVudEJ1ZmZlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9FdmVudEVtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvS2V5Ym9hcmRTdGF0ZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9MZXZlbC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9NdXNpY0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvTXVzaWNQbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvU3ByaXRlU2hlZXQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvVGlsZUNvbGxpZGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL1RpbWVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2FuaW0udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMvQnVsbGV0LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0Nhbm5vbi50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9Hb29tYmEudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMvS29vcGEudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMvTWFyaW8udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbGF5ZXJzL2JhY2tncm91bmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbGF5ZXJzL2NvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sYXllcnMvZGFzaGJvYXJkLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9zcHJpdGUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL2F1ZGlvLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMvZm9udC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL2xldmVsLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMvbXVzaWMudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9zcHJpdGUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbWF0aC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9wbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdGlsZXMvYnJpY2sudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdGlsZXMvZ3JvdW5kLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9FbWl0dGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9Hby50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvR3Jhdml0eS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvSnVtcC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvS2lsbGFibGUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0xldmVsVGltZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1BlbmR1bHVtTW92ZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvUGh5c2ljcy50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvUGxheWVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9QbGF5ZXJDb250cm9sbGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9Tb2xpZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvU3RvbXBlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvVmVsb2NpdHkudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3N1cGVyLW1hcmlvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1ZGlvQm9hcmQge1xuICBwcml2YXRlIGJ1ZmZlcnM6IE1hcDxzdHJpbmcsIEF1ZGlvQnVmZmVyPiA9IG5ldyBNYXAoKTtcblxuICBhZGQobmFtZTogc3RyaW5nLCBidWZmZXI6IEF1ZGlvQnVmZmVyKXtcbiAgICB0aGlzLmJ1ZmZlcnMuc2V0KG5hbWUsIGJ1ZmZlcik7XG4gIH1cblxuICBwbGF5KG5hbWU6IHN0cmluZywgY29udGV4dDogQXVkaW9Db250ZXh0KXtcbiAgICBjb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlcnMuZ2V0KG5hbWUpO1xuICAgIGlmKCFidWZmZXIpIHJldHVybjtcbiAgICBjb25zdCBzb3VyY2UgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgIHNvdXJjZS5jb25uZWN0KGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgIHNvdXJjZS5idWZmZXIgPSBidWZmZXI7XG4gICAgc291cmNlLnN0YXJ0KDApO1xuICB9XG59IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vbWF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb3VuZGluZ0JveCB7XG4gIHByaXZhdGUgcG9zOiBWZWN0b3I7XG4gIHByaXZhdGUgc2l6ZTogVmVjdG9yO1xuICBwcml2YXRlIG9mZnNldDogVmVjdG9yO1xuXG4gIGNvbnN0cnVjdG9yKHBvczogVmVjdG9yLCBzaXplOiBWZWN0b3IsIG9mZnNldDogVmVjdG9yKXtcbiAgICB0aGlzLnBvcyA9IHBvcztcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICB9XG5cbiAgb3ZlcmxhcHMoYm94OiBCb3VuZGluZ0JveCkgOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ib3R0b20gPiBib3gudG9wIFxuICAgICAgICAmJiB0aGlzLnRvcCA8IGJveC5ib3R0b20gXG4gICAgICAgICYmIHRoaXMubGVmdCA8IGJveC5yaWdodCBcbiAgICAgICAgJiYgdGhpcy5yaWdodCA+IGJveC5sZWZ0O1xuICB9XG5cbiAgZ2V0IGJvdHRvbSgpeyByZXR1cm4gdGhpcy5wb3MueSArIHRoaXMuc2l6ZS55ICsgdGhpcy5vZmZzZXQueTsgfVxuICBnZXQgdG9wKCl7IHJldHVybiB0aGlzLnBvcy55ICsgdGhpcy5vZmZzZXQueTsgfVxuICBnZXQgbGVmdCgpeyByZXR1cm4gdGhpcy5wb3MueCArIHRoaXMub2Zmc2V0Lng7IH1cbiAgZ2V0IHJpZ2h0KCl7IHJldHVybiB0aGlzLnBvcy54ICsgdGhpcy5zaXplLnggKyB0aGlzLm9mZnNldC54OyB9XG5cbiAgc2V0IGJvdHRvbSh5KXsgdGhpcy5wb3MueSA9IHkgLSAodGhpcy5zaXplLnkgKyB0aGlzLm9mZnNldC55KTsgfVxuICBzZXQgdG9wKHkpeyB0aGlzLnBvcy55ID0geSAtIHRoaXMub2Zmc2V0Lnk7IH1cbiAgc2V0IGxlZnQoeCl7IHRoaXMucG9zLnggPSB4IC0gdGhpcy5vZmZzZXQueDsgfVxuICBzZXQgcmlnaHQoeCl7IHRoaXMucG9zLnggPSB4IC0gKHRoaXMuc2l6ZS54ICsgdGhpcy5vZmZzZXQueCk7IH1cbn0iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9tYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XG4gIHB1YmxpYyBwb3M6IFZlY3RvcjtcbiAgcHVibGljIHNpemU6IFZlY3RvcjtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IoMCwgMCk7XG4gICAgdGhpcy5zaXplID0gbmV3IFZlY3RvcigyNTYsIDIyNCk7XG4gIH1cbn0iLCJpbXBvcnQgQ2FtZXJhIGZyb20gXCIuL0NhbWVyYVwiO1xuXG5leHBvcnQgdHlwZSBMYXllclJlbmRlcmVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW1lcmE/OiBDYW1lcmEpID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvc2l0b3Ige1xuICBwcml2YXRlIGxheWVyczogTGF5ZXJSZW5kZXJlcltdO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMubGF5ZXJzID0gW107XG4gIH1cbiAgYWRkKGxheWVyOiBMYXllclJlbmRlcmVyKXtcbiAgICB0aGlzLmxheWVycy5wdXNoKGxheWVyKTtcbiAgfVxuICBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW1lcmE6IENhbWVyYSl7XG4gICAgdGhpcy5sYXllcnMuZm9yRWFjaChsYXllciA9PiBsYXllcihjdHgsIGNhbWVyYSkpXG4gIH1cbn0iLCJpbXBvcnQgQXVkaW9Cb2FyZCBmcm9tIFwiLi9BdWRpb0JvYXJkXCI7XG5pbXBvcnQgQm91bmRpbmdCb3ggZnJvbSBcIi4vQm91bmRpbmdCb3hcIjtcbmltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgRXZlbnRCdWZmZXIgZnJvbSBcIi4vRXZlbnRCdWZmZXJcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4vTGV2ZWxcIjtcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuL21hdGhcIjtcbmltcG9ydCB7IFJlc29sdmVkVGlsZSB9IGZyb20gXCIuL1RpbGVDb2xsaWRlclwiO1xuXG5leHBvcnQgZW51bSBTaWRlcyB7XG4gIFRPUCwgQk9UVE9NLCBMRUZULCBSSUdIVCxcbn1cblxuZXhwb3J0IHR5cGUgVGFzayA9ICgpID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBMaXN0ZW5lciA9IHtcbiAgbmFtZTogU3ltYm9sLFxuICBjYWxsYmFjazogVGFzayxcbiAgY291bnQ6IG51bWJlcixcbn07XG5cbmV4cG9ydCBjbGFzcyBUcmFpdCB7XG4gIHN0YXRpYyBUQVNLID0gU3ltYm9sKCd0YXNrJyk7XG4gIHB1YmxpYyBsaXN0ZW5lcnM6IExpc3RlbmVyW10gPSBbXTtcblxuICBjb2xsaWRlcyh1czogRW50aXR5LCB0aGVtOiBFbnRpdHkpe31cbiAgZmluYWxpemUoZW50aXR5OiBFbnRpdHkpe1xuICAgIHRoaXMubGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZmlsdGVyKGxpc3RlbmVyID0+IHtcbiAgICAgIGVudGl0eS5ldmVudHMucHJvY2VzcyhsaXN0ZW5lci5uYW1lLCBsaXN0ZW5lci5jYWxsYmFjayk7XG4gICAgICByZXR1cm4gLS1saXN0ZW5lci5jb3VudDtcbiAgICB9KTtcbiAgfVxuICBsaXN0ZW4obmFtZTogU3ltYm9sLCBjYWxsYmFjazogVGFzaywgY291bnQ6IG51bWJlciA9IEluZmluaXR5KXtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKHsgbmFtZSwgY2FsbGJhY2ssIGNvdW50IH0pO1xuICB9XG4gIG9ic3RydWN0KGVudGl0eTogRW50aXR5LCBzaWRlOiBTaWRlcywgbWF0Y2g/OiBSZXNvbHZlZFRpbGUpe31cbiAgcXVldWUodGFzazogVGFzayl7XG4gICAgdGhpcy5saXN0ZW4oVHJhaXQuVEFTSywgdGFzaywgMSk7XG4gIH1cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dD86IEdhbWVDb250ZXh0KXt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSB7XG4gIHB1YmxpYyBhdWRpb0JvYXJkOiBBdWRpb0JvYXJkO1xuICBwdWJsaWMgc291bmRzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICBwdWJsaWMgZXZlbnRzOiBFdmVudEJ1ZmZlciA9IG5ldyBFdmVudEJ1ZmZlcigpO1xuICBcbiAgcHVibGljIHBvczogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgc2l6ZTogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgb2Zmc2V0OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyBib3VuZHM6IEJvdW5kaW5nQm94O1xuICBwdWJsaWMgdmVsOiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyBsaWZldGltZTogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIHRyYWl0czogTWFwPHN0cmluZywgVHJhaXQ+ID0gbmV3IE1hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKGF1ZGlvQm9hcmQ/OiBBdWRpb0JvYXJkKXtcbiAgICB0aGlzLmF1ZGlvQm9hcmQgPSBhdWRpb0JvYXJkO1xuICAgIHRoaXMuYm91bmRzID0gbmV3IEJvdW5kaW5nQm94KHRoaXMucG9zLCB0aGlzLnNpemUsIHRoaXMub2Zmc2V0KTtcbiAgfVxuXG4gIGFkZFRyYWl0KG5hbWU6IHN0cmluZywgdHJhaXQ6IFRyYWl0KXtcbiAgICB0aGlzLnRyYWl0cy5zZXQobmFtZSwgdHJhaXQpO1xuICB9XG5cbiAgY29sbGlkZXMoY2FuZGlkYXRlOiBFbnRpdHkpe1xuICAgIHRoaXMudHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgdHJhaXQuY29sbGlkZXModGhpcywgY2FuZGlkYXRlKTtcbiAgICB9KVxuICB9XG5cbiAgZmluYWxpemUoKXtcbiAgICB0aGlzLmV2ZW50cy5lbWl0KFRyYWl0LlRBU0spO1xuXG4gICAgdGhpcy50cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICB0cmFpdC5maW5hbGl6ZSh0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZXZlbnRzLmNsZWFyKCk7XG4gIH1cblxuICBnZXRUcmFpdChuYW1lOiBzdHJpbmcpIDogVHJhaXQge1xuICAgIGNvbnN0IHRyYWl0ID0gdGhpcy50cmFpdHMuZ2V0KG5hbWUpO1xuICAgIHJldHVybiB0cmFpdDtcbiAgfVxuXG4gIG9ic3RydWN0KHNpZGU6IFNpZGVzLCBtYXRjaD86IFJlc29sdmVkVGlsZSl7XG4gICAgdGhpcy50cmFpdHMuZm9yRWFjaCh0cmFpdCA9PiB7XG4gICAgICB0cmFpdC5vYnN0cnVjdCh0aGlzLCBzaWRlLCBtYXRjaCk7XG4gICAgfSk7XG4gIH1cblxuICBwbGF5U291bmRzKGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQsIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KXtcbiAgICB0aGlzLnNvdW5kcy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgYXVkaW9Cb2FyZC5wbGF5KG5hbWUsIGF1ZGlvQ29udGV4dCk7XG4gICAgfSk7XG4gICAgdGhpcy5zb3VuZHMuY2xlYXIoKTtcbiAgfVxuXG4gIHVwZGF0ZShnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpe1xuICAgIHRoaXMudHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgdHJhaXQudXBkYXRlKHRoaXMsIGdhbWVDb250ZXh0KTtcbiAgICB9KTtcbiAgICB0aGlzLnBsYXlTb3VuZHModGhpcy5hdWRpb0JvYXJkLCBnYW1lQ29udGV4dC5hdWRpb0NvbnRleHQpO1xuICAgIHRoaXMubGlmZXRpbWUgKz0gZ2FtZUNvbnRleHQuZHQ7XG4gIH1cblxuICBwdWJsaWMgZHJhdzogTGF5ZXJSZW5kZXJlciA9IChjdHgsIGNhbWVyYSkgPT4ge307XG59IiwiaW1wb3J0IEVudGl0eSBmcm9tIFwiLi9FbnRpdHlcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5Q29sbGlkZXIge1xuICBlbnRpdGllczogU2V0PEVudGl0eT47XG4gIGNvbnN0cnVjdG9yKGVudGl0aWVzOiBTZXQ8RW50aXR5Pil7XG4gICAgdGhpcy5lbnRpdGllcyA9IGVudGl0aWVzO1xuICB9XG4gIGNoZWNrKHN1YmplY3Q6IEVudGl0eSl7XG4gICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGNhbmRpZGF0ZSA9PiB7XG4gICAgICBpZihzdWJqZWN0ID09PSBjYW5kaWRhdGUpIHJldHVybjtcblxuICAgICAgaWYoc3ViamVjdC5ib3VuZHMub3ZlcmxhcHMoY2FuZGlkYXRlLmJvdW5kcykpe1xuICAgICAgICBzdWJqZWN0LmNvbGxpZGVzKGNhbmRpZGF0ZSk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufSIsInR5cGUgRXZlbnQgPSB7XG4gIG5hbWU6IFN5bWJvbCxcbiAgYXJnczogYW55W10sXG59XG50eXBlIEV2ZW50Q2FsbGJhY2sgPSAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50QnVmZmVyIHtcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50W10gPSBbXTtcbiAgXG4gIGNsZWFyKCl7XG4gICAgdGhpcy5ldmVudHMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIGVtaXQobmFtZTogU3ltYm9sLCAuLi5hcmdzOiBhbnlbXSl7XG4gICAgY29uc3QgZXZlbnQgPSB7IG5hbWUsIGFyZ3MgfTtcbiAgICB0aGlzLmV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgfVxuXG4gIHByb2Nlc3MobmFtZTogU3ltYm9sLCBjYWxsYmFjazogRXZlbnRDYWxsYmFjayl7XG4gICAgdGhpcy5ldmVudHMuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZihldmVudC5uYW1lID09PSBuYW1lKXtcbiAgICAgICAgY2FsbGJhY2soLi4uZXZlbnQuYXJncyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0iLCJ0eXBlIEV2ZW50Q2FsbGJhY2sgPSAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50RW1pdHRlciB7XG4gIHByaXZhdGUgbGlzdGVuZXJzOiBNYXA8U3ltYm9sLCBFdmVudENhbGxiYWNrW10+ID0gbmV3IE1hcCgpO1xuXG4gIGxpc3RlbihuYW1lOiBTeW1ib2wsIGNhbGxiYWNrOiBFdmVudENhbGxiYWNrKXtcbiAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmxpc3RlbmVycy5nZXQobmFtZSkgfHwgW107XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRoaXMubGlzdGVuZXJzLnNldChuYW1lLCBjYWxsYmFja3MpO1xuICB9XG5cbiAgZW1pdChuYW1lOiBTeW1ib2wsIC4uLmFyZ3M6IGFueVtdKXtcbiAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmxpc3RlbmVycy5nZXQobmFtZSk7XG4gICAgaWYoIWNhbGxiYWNrcykgcmV0dXJuO1xuICAgIGNhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IHtcbiAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0pO1xuICB9XG59IiwiZXhwb3J0IGVudW0gS2V5U3RhdGUgeyBSRUxFQVNFRCwgUFJFU1NFRCB9O1xuXG50eXBlIEtleU1hcCA9IChzdGF0ZTogS2V5U3RhdGUpID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkU3RhdGUge1xuICBwcml2YXRlIGtleVN0YXRlczogTWFwPHN0cmluZyxLZXlTdGF0ZT47XG4gIHByaXZhdGUga2V5TWFwOiBNYXA8c3RyaW5nLEtleU1hcD47XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5rZXlTdGF0ZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5rZXlNYXAgPSBuZXcgTWFwKCk7XG4gIH1cbiAgYWRkTWFwcGluZyhjb2RlOiBzdHJpbmcsIGNhbGxiYWNrOiBLZXlNYXApe1xuICAgIHRoaXMua2V5TWFwLnNldChjb2RlLCBjYWxsYmFjayk7XG4gIH1cbiAgaGFuZGxlRXZlbnQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpe1xuICAgIGNvbnN0IHsgY29kZSwgdHlwZSB9ID0gZXZlbnQ7XG5cbiAgICBpZighdGhpcy5rZXlNYXAuaGFzKGNvZGUpKSByZXR1cm47XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3Qga2V5U3RhdGUgPSB0eXBlID09PSAna2V5ZG93bicgPyBLZXlTdGF0ZS5QUkVTU0VEIDogS2V5U3RhdGUuUkVMRUFTRUQ7XG5cbiAgICBpZih0aGlzLmtleVN0YXRlcy5nZXQoY29kZSkgPT09IGtleVN0YXRlKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmtleVN0YXRlcy5zZXQoY29kZSwga2V5U3RhdGUpO1xuXG4gICAgdGhpcy5rZXlNYXAuZ2V0KGNvZGUpKGtleVN0YXRlKTtcbiAgfVxuICBsaXN0ZW5Ubyh3aW5kb3c6IGFueSl7XG4gICAgWydrZXlkb3duJywgJ2tleXVwJ10uZm9yRWFjaChldmVudE5hbWU9PntcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgQ29tcG9zaXRvciBmcm9tIFwiLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgeyBFbnRpdHlGYWN0b3J5IH0gZnJvbSBcIi4vZW50aXRpZXNcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgRW50aXR5Q29sbGlkZXIgZnJvbSBcIi4vRW50aXR5Q29sbGlkZXJcIjtcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcIi4vRXZlbnRFbWl0dGVyXCI7XG5pbXBvcnQgTXVzaWNDb250cm9sbGVyIGZyb20gXCIuL011c2ljQ29udHJvbGxlclwiO1xuaW1wb3J0IFRpbGVDb2xsaWRlciBmcm9tIFwiLi9UaWxlQ29sbGlkZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBHYW1lQ29udGV4dCB7XG4gIGR0OiBudW1iZXIsXG4gIGxldmVsOiBMZXZlbCxcbiAgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQsXG4gIGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3RvcnksXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsIHtcbiAgcHVibGljIGV2ZW50czogRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBwdWJsaWMgbXVzaWM6IE11c2ljQ29udHJvbGxlciA9IG5ldyBNdXNpY0NvbnRyb2xsZXIoKTtcbiAgcHVibGljIGNvbXA6IENvbXBvc2l0b3IgPSBuZXcgQ29tcG9zaXRvcigpO1xuICBwdWJsaWMgZW50aXRpZXM6IFNldDxFbnRpdHk+ID0gbmV3IFNldCgpO1xuICBwdWJsaWMgdGlsZUNvbGxpZGVyOiBUaWxlQ29sbGlkZXIgPSBuZXcgVGlsZUNvbGxpZGVyKCk7XG4gIHB1YmxpYyBlbnRpdHlDb2xsaWRlcjogRW50aXR5Q29sbGlkZXIgPSBuZXcgRW50aXR5Q29sbGlkZXIodGhpcy5lbnRpdGllcyk7XG4gIHB1YmxpYyB0aW1lOiBudW1iZXIgPSAwO1xuICBcbiAgdXBkYXRlKGR0OiBudW1iZXIsIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KXtcbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIGVudGl0eS51cGRhdGUoeyBkdCwgbGV2ZWw6IHRoaXMsIGF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeSB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgdGhpcy5lbnRpdHlDb2xsaWRlci5jaGVjayhlbnRpdHkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBlbnRpdHkuZmluYWxpemUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMudGltZSArPSBkdDtcbiAgfVxufSIsImltcG9ydCBNdXNpY1BsYXllciBmcm9tIFwiLi9NdXNpY1BsYXllclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdXNpY0NvbnRyb2xsZXIge1xuICBwcml2YXRlIG11c2ljUGxheWVyOiBNdXNpY1BsYXllciA9IG51bGw7XG5cbiAgc2V0UGxheWVyKHBsYXllcjogTXVzaWNQbGF5ZXIpe1xuICAgIHRoaXMubXVzaWNQbGF5ZXIgPSBwbGF5ZXI7XG4gIH1cblxuICBwbGF5VGhlbWUoc3BlZWQ6IG51bWJlciA9IDEpe1xuICAgIGNvbnN0IGF1ZGlvID0gdGhpcy5tdXNpY1BsYXllci5wbGF5KCdtYWluJyk7XG4gICAgYXVkaW8ucGxheWJhY2tSYXRlID0gc3BlZWQ7XG4gIH1cblxuICBwbGF5SHVycnlUaGVtZSgpe1xuICAgIGNvbnN0IGF1ZGlvID0gdGhpcy5tdXNpY1BsYXllci5wbGF5KCdodXJyeScpO1xuICAgIGF1ZGlvLmxvb3AgPSBmYWxzZTtcbiAgICBhdWRpby5vbmVuZGVkID0gKCkgPT4gdGhpcy5wbGF5VGhlbWUoMS4zKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE11c2ljUGxheWVyIHtcbiAgcHJpdmF0ZSB0cmFja3M6IE1hcDxzdHJpbmcsIEhUTUxBdWRpb0VsZW1lbnQ+ID0gbmV3IE1hcCgpO1xuXG4gIGFkZFRyYWNrKG5hbWU6IHN0cmluZywgdHJhY2s6IHN0cmluZyl7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8odHJhY2spO1xuICAgIGF1ZGlvLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMudHJhY2tzLnNldChuYW1lLCBhdWRpbyk7XG4gIH1cblxuICBwbGF5KG5hbWU6IHN0cmluZykgOiBIVE1MQXVkaW9FbGVtZW50IHtcbiAgICBmb3IoY29uc3QgYXVkaW8gb2YgdGhpcy50cmFja3MudmFsdWVzKCkpe1xuICAgICAgYXVkaW8ucGF1c2UoKTtcbiAgICB9XG5cbiAgICBjb25zdCB0cmFjayA9IHRoaXMudHJhY2tzLmdldChuYW1lKTtcbiAgICBpZih0cmFjaykgdHJhY2sucGxheSgpO1xuICAgIHJldHVybiB0cmFjaztcbiAgfVxufSIsInR5cGUgQW5pbWF0aW9uUmVuZGVyZXIgPSAoZGlzdGFuY2U6IG51bWJlcikgPT4gc3RyaW5nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGVTaGVldCB7XG4gIHByaXZhdGUgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gIHByaXZhdGUgd2lkdGg6IG51bWJlcjsgXG4gIHByaXZhdGUgaGVpZ2h0OiBudW1iZXI7XG4gIHByaXZhdGUgZnJhbWVzOiBNYXA8c3RyaW5nLCBIVE1MQ2FudmFzRWxlbWVudFtdPjtcbiAgcHJpdmF0ZSBhbmltYXRpb25zOiBNYXA8c3RyaW5nLCBBbmltYXRpb25SZW5kZXJlcj47XG4gIGNvbnN0cnVjdG9yKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKXtcbiAgICB0aGlzLmltYWdlID0gaW1hZ2U7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZnJhbWVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuYW5pbWF0aW9ucyA9IG5ldyBNYXAoKTtcbiAgfVxuICBnZXRBbmltYXRpb24obmFtZTogc3RyaW5nKXtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmdldChuYW1lKTtcbiAgfVxuICBkZWZpbmVBbmltKG5hbWU6IHN0cmluZywgYW5pbWF0aW9uOiBBbmltYXRpb25SZW5kZXJlcil7XG4gICAgdGhpcy5hbmltYXRpb25zLnNldChuYW1lLCBhbmltYXRpb24pO1xuICB9ICBcbiAgZGVmaW5lKG5hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKXtcbiAgICBjb25zdCBidWZmZXJzID0gW2ZhbHNlLCB0cnVlXS5tYXAoZmxpcCA9PiB7XG4gICAgICBjb25zdCBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY3R4LmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgYCR7dGhpcy53aWR0aH1weGApO1xuICAgICAgY3R4LmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAke3RoaXMuaGVpZ2h0fXB4YCk7XG5cbiAgICAgIGlmKGZsaXApe1xuICAgICAgICBjdHguc2NhbGUoLTEsIDEpO1xuICAgICAgICBjdHgudHJhbnNsYXRlKC13aWR0aCwgMCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgIHRoaXMuaW1hZ2UsIFxuICAgICAgICB4LCB5LCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAwLCAwLCB3aWR0aCwgaGVpZ2h0XG4gICAgICApO1xuICAgICAgXG4gICAgICByZXR1cm4gY3R4LmNhbnZhcztcbiAgICB9KVxuXG4gICAgdGhpcy5mcmFtZXMuc2V0KG5hbWUsIGJ1ZmZlcnMpO1xuICB9XG4gIGRlZmluZVRpbGUobmFtZTogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgdGhpcy5kZWZpbmUobmFtZSwgeCp0aGlzLndpZHRoLCB5KnRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cbiAgZHJhdyhuYW1lOiBzdHJpbmcsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgZmxpcDogYm9vbGVhbiA9IGZhbHNlKXtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuZnJhbWVzLmdldChuYW1lKTtcbiAgICBpZighZnJhbWUpe1xuICAgICAgY29uc29sZS53YXJuKGBGcmFtZSAke25hbWV9IGlzIG5vdCBkZWZpbmVkIWApO1xuICAgIH1cbiAgICBjdHguZHJhd0ltYWdlKGZyYW1lW2ZsaXA/MTowXSwgeCwgeSk7XG4gIH1cbiAgZHJhd0FuaW0obmFtZTogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGRpc3RhbmNlOiBudW1iZXIpe1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9ucy5nZXQobmFtZSk7XG4gICAgaWYoIWFuaW1hdGlvbikgcmV0dXJuIHRoaXMuZHJhd1RpbGUobmFtZSwgY3R4LCB4LCB5KTtcbiAgICB0aGlzLmRyYXdUaWxlKGFuaW1hdGlvbihkaXN0YW5jZSksIGN0eCwgeCwgeSk7XG4gIH1cbiAgZHJhd1RpbGUobmFtZTogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGZsaXA6IGJvb2xlYW4gPSBmYWxzZSl7XG4gICAgdGhpcy5kcmF3KG5hbWUsIGN0eCwgeCp0aGlzLndpZHRoLCB5KnRoaXMuaGVpZ2h0LCBmbGlwKTtcbiAgfVxufSIsImltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuL0xldmVsXCI7XG5pbXBvcnQgeyBMZXZlbFRpbGVTcGVjIH0gZnJvbSBcIi4vbG9hZGVycy9sZXZlbFwiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4vbWF0aFwiO1xuaW1wb3J0IHsgYnJpY2sgfSBmcm9tIFwiLi90aWxlcy9icmlja1wiO1xuaW1wb3J0IHsgZ3JvdW5kIH0gZnJvbSBcIi4vdGlsZXMvZ3JvdW5kXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb2x2ZWRUaWxlIHtcbiAgdGlsZTogTGV2ZWxUaWxlU3BlYyxcbiAgeDE6IG51bWJlciwgeDI6IG51bWJlcixcbiAgeTE6IG51bWJlciwgeTI6IG51bWJlcixcbiAgaW5kZXhYOiBudW1iZXIsIGluZGV4WTogbnVtYmVyLFxufVxuXG5leHBvcnQgdHlwZSBUaWxlQ29sbGlzaW9uQ29udGV4dCA9IHtcbiAgZW50aXR5OiBFbnRpdHksIFxuICBtYXRjaDogUmVzb2x2ZWRUaWxlLCBcbiAgcmVzb2x2ZXI6IFRpbGVSZXNvbHZlciwgXG4gIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dFxufVxuXG50eXBlIEhhbmRsZXJDYWxsYmFjayA9ICh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpID0+IHZvaWQ7XG5cbmludGVyZmFjZSBIYW5kbGVycyB7XG4gIFtrZXk6IHN0cmluZ106IEhhbmRsZXJDYWxsYmFja1tdLFxufVxuXG5jb25zdCBoYW5kbGVyczogSGFuZGxlcnMgPSB7XG4gIGJyaWNrLFxuICBncm91bmQsXG59O1xuXG5leHBvcnQgY2xhc3MgVGlsZVJlc29sdmVyIHtcbiAgcHVibGljIG1hdHJpeDogTWF0cml4PExldmVsVGlsZVNwZWM+O1xuICBwdWJsaWMgdGlsZVNpemU6IG51bWJlcjtcbiAgY29uc3RydWN0b3IobWF0cml4OiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz4sIHRpbGVTaXplOiBudW1iZXIgPSAxNil7XG4gICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG4gICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xuICB9XG4gIHRvSW5kZXgocG9zOiBudW1iZXIpIDogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihwb3MgLyB0aGlzLnRpbGVTaXplKTtcbiAgfVxuICB0b0luZGV4UmFuZ2UocG9zMTogbnVtYmVyLCBwb3MyOiBudW1iZXIpOiBudW1iZXJbXXtcbiAgICBjb25zdCBwTWF4ID0gTWF0aC5jZWlsKHBvczIgLyB0aGlzLnRpbGVTaXplKSAqIHRoaXMudGlsZVNpemU7XG4gICAgY29uc3QgcmFuZ2UgPSBbXTtcbiAgICBsZXQgcG9zID0gcG9zMTtcbiAgICBkbyB7XG4gICAgICByYW5nZS5wdXNoKHRoaXMudG9JbmRleChwb3MpKTtcbiAgICAgIHBvcyArPSB0aGlzLnRpbGVTaXplO1xuICAgIH13aGlsZShwb3MgPCBwTWF4KTtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cbiAgZ2V0QnlJbmRleCh4OiBudW1iZXIsIHk6IG51bWJlcikgOiBSZXNvbHZlZFRpbGUge1xuICAgIGNvbnN0IHRpbGUgPSB0aGlzLm1hdHJpeC5nZXQoeCwgeSk7XG4gICAgaWYodGlsZSkgcmV0dXJuIHtcbiAgICAgIHRpbGUsXG4gICAgICB4MTogeCAqIHRoaXMudGlsZVNpemUsXG4gICAgICB4MjogKHgrMSkgKiB0aGlzLnRpbGVTaXplLFxuICAgICAgeTE6IHkgKiB0aGlzLnRpbGVTaXplLFxuICAgICAgeTI6ICh5KzEpICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIGluZGV4WDogeCwgaW5kZXhZOiB5LFxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBzZWFyY2hCeVBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSA6IFJlc29sdmVkVGlsZSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QnlJbmRleCh0aGlzLnRvSW5kZXgoeCksIHRoaXMudG9JbmRleCh5KSk7XG4gIH1cbiAgc2VhcmNoQnlSYW5nZSh4MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MTogbnVtYmVyLCB5MjogbnVtYmVyKSA6IFJlc29sdmVkVGlsZVtdIHtcbiAgICBjb25zdCBtYXRjaGVzOiBSZXNvbHZlZFRpbGVbXSA9IFtdO1xuICAgIHRoaXMudG9JbmRleFJhbmdlKHgxLCB4MikuZm9yRWFjaCh4ID0+IHtcbiAgICAgIHRoaXMudG9JbmRleFJhbmdlKHkxLCB5MikuZm9yRWFjaCh5ID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLmdldEJ5SW5kZXgoeCwgeSk7XG4gICAgICAgIGlmKCFtYXRjaCkgcmV0dXJuO1xuICAgICAgICBtYXRjaGVzLnB1c2gobWF0Y2gpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGNoZXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZUNvbGxpZGVyIHtcbiAgcHVibGljIHJlc29sdmVyczogVGlsZVJlc29sdmVyW10gPSBbXTtcblxuICBhZGRHcmlkKHRpbGVNYXRyaXg6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPil7XG4gICAgdGhpcy5yZXNvbHZlcnMucHVzaChuZXcgVGlsZVJlc29sdmVyKHRpbGVNYXRyaXgpKTtcbiAgfVxuXG4gIGNoZWNrWChlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBpZihlbnRpdHkudmVsLnggPT09IDApIHJldHVybjtcbiAgICBsZXQgeCA9IGVudGl0eS5ib3VuZHMubGVmdCArIChlbnRpdHkudmVsLnggPiAwID8gZW50aXR5LnNpemUueCA6IDApO1xuXG4gICAgZm9yKGNvbnN0IHJlc29sdmVyIG9mIHRoaXMucmVzb2x2ZXJzKXtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSByZXNvbHZlci5zZWFyY2hCeVJhbmdlKFxuICAgICAgICB4LCB4LFxuICAgICAgICBlbnRpdHkuYm91bmRzLnRvcCwgZW50aXR5LmJvdW5kcy5ib3R0b21cbiAgICAgICk7XG5cbiAgICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PntcbiAgICAgICAgdGhpcy5oYW5kbGUoMCwgeyBlbnRpdHksIG1hdGNoLCByZXNvbHZlciwgZ2FtZUNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjaGVja1koZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgaWYoZW50aXR5LnZlbC55ID09PSAwKSByZXR1cm47XG4gICAgbGV0IHkgPSBlbnRpdHkuYm91bmRzLnRvcCArIChlbnRpdHkudmVsLnkgPiAwID8gZW50aXR5LnNpemUueSA6IDApO1xuICBcbiAgICBmb3IoY29uc3QgcmVzb2x2ZXIgb2YgdGhpcy5yZXNvbHZlcnMpe1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IHJlc29sdmVyLnNlYXJjaEJ5UmFuZ2UoXG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCwgZW50aXR5LmJvdW5kcy5yaWdodCwgXG4gICAgICAgIHksIHlcbiAgICAgICk7XG5cbiAgICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PntcbiAgICAgICAgdGhpcy5oYW5kbGUoMSwgeyBlbnRpdHksIG1hdGNoLCByZXNvbHZlciwgZ2FtZUNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZShpbmRleDogbnVtYmVyLCB0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1t0aWxlQ29sbGlzaW9uQ29udGV4dC5tYXRjaC50aWxlLnR5cGVdO1xuICAgIGlmKCFoYW5kbGVyIHx8ICFoYW5kbGVyW2luZGV4XSkgcmV0dXJuO1xuICAgIGhhbmRsZXJbaW5kZXhdKHRpbGVDb2xsaXNpb25Db250ZXh0KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVyIHtcbiAgcHVibGljIHVwZGF0ZTogKGR0OiBudW1iZXIpID0+IHZvaWQ7XG4gIHByaXZhdGUgdXBkYXRlUHJveHk6IChkdDogbnVtYmVyKSA9PiB2b2lkO1xuICBwcml2YXRlIHJ1bm5pbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29uc3RydWN0b3IoZGVsdGFUaW1lOiBudW1iZXIgPSAxLzYwKXtcbiAgICBsZXQgYWNjdW11bGF0ZWRUaW1lID0gMCwgbGFzdFRpbWUgPSAwO1xuXG4gICAgdGhpcy51cGRhdGVQcm94eSA9ICh0aW1lOiBudW1iZXIgPSAwKSA9PiB7XG4gICAgICBhY2N1bXVsYXRlZFRpbWUgKz0gKHRpbWUgLSBsYXN0VGltZSkgLyAxMDAwO1xuXG4gICAgICBpZihhY2N1bXVsYXRlZFRpbWUgPiAxKSBhY2N1bXVsYXRlZFRpbWUgPSAxO1xuICBcbiAgICAgIHdoaWxlKGFjY3VtdWxhdGVkVGltZSA+IGRlbHRhVGltZSl7XG4gICAgICAgIHRoaXMudXBkYXRlKGRlbHRhVGltZSlcbiAgICAgICAgYWNjdW11bGF0ZWRUaW1lIC09IGRlbHRhVGltZTtcbiAgICAgIH1cblxuICAgICAgbGFzdFRpbWUgPSB0aW1lO1xuXG4gICAgICB0aGlzLmVucXVldWUoKTtcbiAgICB9XG4gIH1cbiAgZW5xdWV1ZSgpe1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZVByb3h5KTtcbiAgfVxuICBzdGFydCgpe1xuICAgIGlmKHRoaXMucnVubmluZykgcmV0dXJuO1xuICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgdGhpcy5lbnF1ZXVlKCk7XG4gIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlQW5pbShmcmFtZXM6IHN0cmluZ1tdLCBmcmFtZUxlbjogbnVtYmVyKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlc29sdmVGcmFtZShkaXN0YW5jZTogbnVtYmVyKXtcbiAgICByZXR1cm4gZnJhbWVzW01hdGguZmxvb3IoZGlzdGFuY2UgLyBmcmFtZUxlbikgJSBmcmFtZXMubGVuZ3RoXTtcbiAgfVxufSIsImltcG9ydCBNYXJpbywgeyBsb2FkTWFyaW8gfSBmcm9tICcuL2VudGl0aWVzL01hcmlvJztcbmltcG9ydCBHb29tYmEsIHsgbG9hZEdvb21iYSB9IGZyb20gJy4vZW50aXRpZXMvR29vbWJhJztcbmltcG9ydCBLb29wYSwgeyBsb2FkS29vcGEgfSBmcm9tICcuL2VudGl0aWVzL0tvb3BhJztcbmltcG9ydCBFbnRpdHkgZnJvbSAnLi9FbnRpdHknO1xuaW1wb3J0IEJ1bGxldCwgeyBsb2FkQnVsbGV0IH0gZnJvbSAnLi9lbnRpdGllcy9CdWxsZXQnO1xuaW1wb3J0IENhbm5vbiwgeyBsb2FkQ2Fubm9uIH0gZnJvbSAnLi9lbnRpdGllcy9DYW5ub24nO1xuXG5leHBvcnQgdHlwZSBFbnRpdHlDcmVhdG9yPFQgZXh0ZW5kcyBFbnRpdHk+ID0gKCkgPT4gVDtcblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlGYWN0b3J5IHtcbiAgW2tleTogc3RyaW5nXTogRW50aXR5Q3JlYXRvcjxFbnRpdHk+O1xuICBtYXJpbz86IEVudGl0eUNyZWF0b3I8TWFyaW8+LFxuICBnb29tYmE/OiBFbnRpdHlDcmVhdG9yPEdvb21iYT4sXG4gIGtvb3BhPzogRW50aXR5Q3JlYXRvcjxLb29wYT4sXG4gIGJ1bGxldD86IEVudGl0eUNyZWF0b3I8QnVsbGV0PixcbiAgY2Fubm9uPzogRW50aXR5Q3JlYXRvcjxDYW5ub24+LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVudGl0aWVzKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8RW50aXR5RmFjdG9yeT4ge1xuICBjb25zdCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5ID0ge307XG5cbiAgZnVuY3Rpb24gYWRkQXMobmFtZTogc3RyaW5nKXtcbiAgICByZXR1cm4gKGZhY3Rvcnk6IEVudGl0eUNyZWF0b3I8RW50aXR5PikgPT4gZW50aXR5RmFjdG9yeVtuYW1lXSA9IGZhY3Rvcnk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgIGxvYWRNYXJpbyhhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ21hcmlvJykpLFxuICAgIGxvYWRHb29tYmEoYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdnb29tYmEnKSksXG4gICAgbG9hZEtvb3BhKGF1ZGlvQ29udGV4dCkudGhlbihhZGRBcygna29vcGEnKSksXG4gICAgbG9hZEJ1bGxldChhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ2J1bGxldCcpKSxcbiAgICBsb2FkQ2Fubm9uKGF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeSkudGhlbihhZGRBcygnY2Fubm9uJykpLFxuICBdKVxuICAudGhlbigoKSA9PiBlbnRpdHlGYWN0b3J5KTtcbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IGxvYWRTcHJpdGVTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL3Nwcml0ZVwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IEdyYXZpdHkgZnJvbSBcIi4uL3RyYWl0cy9HcmF2aXR5XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4uL3RyYWl0cy9LaWxsYWJsZVwiO1xuaW1wb3J0IFBoeXNpY3MgZnJvbSBcIi4uL3RyYWl0cy9QaHlzaWNzXCI7XG5pbXBvcnQgU29saWQgZnJvbSBcIi4uL3RyYWl0cy9Tb2xpZFwiO1xuaW1wb3J0IFN0b21wZXIgZnJvbSBcIi4uL3RyYWl0cy9TdG9tcGVyXCI7XG5pbXBvcnQgVmVsb2NpdHkgZnJvbSBcIi4uL3RyYWl0cy9WZWxvY2l0eVwiO1xuaW1wb3J0IE1hcmlvIGZyb20gXCIuL01hcmlvXCI7XG5cbmNsYXNzIEJlaGF2aW9yIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGdyYXZpdHk6IEdyYXZpdHkgPSBuZXcgR3Jhdml0eSgpO1xuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IHN0b21wZXIgPSB0aGVtLmdldFRyYWl0KCdzdG9tcGVyJyk7XG4gICAgaWYodXMgaW5zdGFuY2VvZiBCdWxsZXQgJiYgIXVzLmtpbGxhYmxlLmRlYWQgJiYgc3RvbXBlciBpbnN0YW5jZW9mIFN0b21wZXIpe1xuICAgICAgaWYodGhlbS52ZWwueSA+IHVzLnZlbC55KXtcbiAgICAgICAgdXMua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB1cy52ZWwuc2V0KDEwMCwgLTIwMCk7XG4gICAgICB9ZWxzZSBpZih0aGVtIGluc3RhbmNlb2YgTWFyaW8pe1xuICAgICAgICB0aGVtLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGlmKCEoZW50aXR5IGluc3RhbmNlb2YgQnVsbGV0KSkgcmV0dXJuO1xuICAgIGlmKGVudGl0eS5raWxsYWJsZS5kZWFkKXtcbiAgICAgIHRoaXMuZ3Jhdml0eS51cGRhdGUoZW50aXR5LCBnYW1lQ29udGV4dCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldCBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyB2ZWxvY2l0eTogVmVsb2NpdHk7XG4gIHB1YmxpYyBiZWhhdmlvcjogQmVoYXZpb3I7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3ZlbG9jaXR5JywgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWxvY2l0eSgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdidWxsZXQnLCB0aGlzLmJlaGF2aW9yID0gbmV3IEJlaGF2aW9yKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2tpbGxhYmxlJywgdGhpcy5raWxsYWJsZSA9IG5ldyBLaWxsYWJsZSgpKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBCdWxsZXRGYWN0b3J5ID0gKCkgPT4gQnVsbGV0O1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEJ1bGxldChhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEJ1bGxldEZhY3Rvcnk+IHtcbiAgcmV0dXJuIGxvYWRTcHJpdGVTaGVldCgnYnVsbGV0JylcbiAgLnRoZW4oY3JlYXRlQnVsbGV0RmFjdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1bGxldEZhY3Rvcnkoc3ByaXRlczogU3ByaXRlU2hlZXQpIDogQnVsbGV0RmFjdG9yeSB7XG4gIGZ1bmN0aW9uIGRyYXdCdWxsZXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdygnYnVsbGV0JywgY3R4LCAwLCAwLCB0aGlzLnZlbC54IDwgMCk7XG4gIH1cbiAgXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVCdWxsZXQoKXtcbiAgICBjb25zdCBidWxsZXQgPSBuZXcgQnVsbGV0KCk7XG4gICAgYnVsbGV0LnNpemUuc2V0KDE2LCAxNik7XG5cbiAgICBidWxsZXQuZHJhdyA9IGRyYXdCdWxsZXQ7XG5cbiAgICByZXR1cm4gYnVsbGV0O1xuICB9XG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4uL0F1ZGlvQm9hcmRcIjtcbmltcG9ydCB7IEVudGl0eUZhY3RvcnkgfSBmcm9tIFwiLi4vZW50aXRpZXNcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZEF1ZGlvQm9hcmQgfSBmcm9tIFwiLi4vbG9hZGVycy9hdWRpb1wiO1xuaW1wb3J0IHsgZmluZFBsYXllcnMgfSBmcm9tIFwiLi4vcGxheWVyXCI7XG5pbXBvcnQgRW1pdHRlciBmcm9tIFwiLi4vdHJhaXRzL0VtaXR0ZXJcIjtcblxuY29uc3QgSE9MRF9GSVJFX1RIUkVTSE9MRCA9IDMwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW5ub24gZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgZW1pdHRlcjogRW1pdHRlcjtcblxuICBjb25zdHJ1Y3RvcihhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKXtcbiAgICBzdXBlcihhdWRpb0JvYXJkKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdlbWl0dGVyJywgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKSk7XG4gICAgdGhpcy5zaXplLnNldCgxNiwgMTQpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIENhbm5vbkZhY3RvcnkgPSAoKSA9PiBDYW5ub247XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQ2Fubm9uKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KSA6IFByb21pc2U8Q2Fubm9uRmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZEF1ZGlvQm9hcmQoJ2Nhbm5vbicsIGF1ZGlvQ29udGV4dClcbiAgLnRoZW4oYXVkaW8gPT4ge1xuICAgIHJldHVybiBjcmVhdGVDYW5ub25GYWN0b3J5KGF1ZGlvLCBlbnRpdHlGYWN0b3J5KTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlQ2Fubm9uRmFjdG9yeShhdWRpb0JvYXJkOiBBdWRpb0JvYXJkLCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KSA6IENhbm5vbkZhY3Rvcnkge1xuICBmdW5jdGlvbiBlbWl0QnVsbGV0KGVudGl0eTogRW50aXR5LCBsZXZlbDogTGV2ZWwpe1xuICAgIGlmKCEoZW50aXR5IGluc3RhbmNlb2YgQ2Fubm9uKSkgcmV0dXJuO1xuXG4gICAgbGV0IGRpcjtcbiAgICBmb3IoY29uc3QgcGxheWVyIG9mIGZpbmRQbGF5ZXJzKGxldmVsKSl7XG4gICAgICBkaXIgPSBwbGF5ZXIucG9zLnggLSBlbnRpdHkucG9zLng7XG4gICAgICBpZihNYXRoLmFicyhwbGF5ZXIucG9zLnggLSBlbnRpdHkucG9zLngpIDw9IEhPTERfRklSRV9USFJFU0hPTEQpe1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYnVsbGV0ID0gZW50aXR5RmFjdG9yeS5idWxsZXQoKTtcbiAgICBidWxsZXQucG9zLmNvcHkoZW50aXR5LnBvcyk7XG4gICAgYnVsbGV0LnZlbC54ID0gODAgKiBNYXRoLnNpZ24oZGlyKTtcblxuICAgIGVudGl0eS5zb3VuZHMuYWRkKCdzaG9vdCcpO1xuICAgIGxldmVsLmVudGl0aWVzLmFkZChidWxsZXQpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUNhbm5vbigpe1xuICAgIGNvbnN0IGNhbm5vbiA9IG5ldyBDYW5ub24oYXVkaW9Cb2FyZCk7XG5cbiAgICBjYW5ub24uZW1pdHRlci5pbnRlcnZhbCA9IDQ7XG4gICAgY2Fubm9uLmVtaXR0ZXIuZW1pdHRlcnMucHVzaChlbWl0QnVsbGV0KTtcblxuICAgIHJldHVybiBjYW5ub247XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnMvc3ByaXRlXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4uL3RyYWl0cy9LaWxsYWJsZVwiO1xuaW1wb3J0IFBlbmR1bHVtTW92ZSBmcm9tIFwiLi4vdHJhaXRzL1BlbmR1bHVtTW92ZVwiO1xuaW1wb3J0IFBoeXNpY3MgZnJvbSBcIi4uL3RyYWl0cy9QaHlzaWNzXCI7XG5pbXBvcnQgU29saWQgZnJvbSBcIi4uL3RyYWl0cy9Tb2xpZFwiO1xuaW1wb3J0IFN0b21wZXIgZnJvbSBcIi4uL3RyYWl0cy9TdG9tcGVyXCI7XG5pbXBvcnQgTWFyaW8gZnJvbSBcIi4vTWFyaW9cIjtcblxuY2xhc3MgQmVoYXZpb3IgZXh0ZW5kcyBUcmFpdCB7XG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IHN0b21wZXIgPSB0aGVtLmdldFRyYWl0KCdzdG9tcGVyJyk7XG4gICAgaWYodXMgaW5zdGFuY2VvZiBHb29tYmEgJiYgIXVzLmtpbGxhYmxlLmRlYWQgJiYgc3RvbXBlciBpbnN0YW5jZW9mIFN0b21wZXIpe1xuICAgICAgaWYodGhlbS52ZWwueSA+IHVzLnZlbC55KXtcbiAgICAgICAgdXMua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB1cy5wZW5kdWx1bU1vdmUuc3BlZWQgPSAwO1xuICAgICAgfWVsc2UgaWYodGhlbSBpbnN0YW5jZW9mIE1hcmlvKXtcbiAgICAgICAgdGhlbS5raWxsYWJsZS5raWxsKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdvb21iYSBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyBwaHlzaWNzOiBQaHlzaWNzO1xuICBwdWJsaWMgc29saWQ6IFNvbGlkO1xuICBwdWJsaWMgcGVuZHVsdW1Nb3ZlOiBQZW5kdWx1bU1vdmU7XG4gIHB1YmxpYyBiZWhhdmlvcjogQmVoYXZpb3I7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BoeXNpY3MnLCB0aGlzLnBoeXNpY3MgPSBuZXcgUGh5c2ljcygpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdzb2xpZCcsIHRoaXMuc29saWQgPSBuZXcgU29saWQoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGVuZHVsdW1Nb3ZlJywgdGhpcy5wZW5kdWx1bU1vdmUgPSBuZXcgUGVuZHVsdW1Nb3ZlKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2dvb21iYScsIHRoaXMuYmVoYXZpb3IgPSBuZXcgQmVoYXZpb3IoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgna2lsbGFibGUnLCB0aGlzLmtpbGxhYmxlID0gbmV3IEtpbGxhYmxlKCkpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEdvb21iYUZhY3RvcnkgPSAoKSA9PiBHb29tYmE7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkR29vbWJhKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8R29vbWJhRmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZFNwcml0ZVNoZWV0KCdnb29tYmEnKVxuICAudGhlbihjcmVhdGVHb29tYmFGYWN0b3J5KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlR29vbWJhRmFjdG9yeShzcHJpdGVzOiBTcHJpdGVTaGVldCkgOiBHb29tYmFGYWN0b3J5IHtcbiAgY29uc3Qgd2Fsa0FuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbignd2FsaycpO1xuXG4gIGZ1bmN0aW9uIHJvdXRlQW5pbShnb29tYmE6IEdvb21iYSkgOiBzdHJpbmcge1xuICAgIGlmKGdvb21iYS5raWxsYWJsZS5kZWFkKXtcbiAgICAgIHJldHVybiAnZmxhdCc7XG4gICAgfVxuICAgIHJldHVybiB3YWxrQW5pbShnb29tYmEubGlmZXRpbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJhd0dvb21iYShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgc3ByaXRlcy5kcmF3KHJvdXRlQW5pbSh0aGlzKSwgY3R4LCAwLCAwKTtcbiAgfVxuICBcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUdvb21iYSgpe1xuICAgIGNvbnN0IGdvb21iYSA9IG5ldyBHb29tYmEoKTtcbiAgICBnb29tYmEuc2l6ZS5zZXQoMTYsIDE2KTtcblxuICAgIGdvb21iYS5kcmF3ID0gZHJhd0dvb21iYTtcblxuICAgIHJldHVybiBnb29tYmE7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IGxvYWRTcHJpdGVTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL3Nwcml0ZVwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IEtpbGxhYmxlIGZyb20gXCIuLi90cmFpdHMvS2lsbGFibGVcIjtcbmltcG9ydCBQZW5kdWx1bU1vdmUgZnJvbSBcIi4uL3RyYWl0cy9QZW5kdWx1bU1vdmVcIjtcbmltcG9ydCBQaHlzaWNzIGZyb20gXCIuLi90cmFpdHMvUGh5c2ljc1wiO1xuaW1wb3J0IFNvbGlkIGZyb20gXCIuLi90cmFpdHMvU29saWRcIjtcbmltcG9ydCBTdG9tcGVyIGZyb20gXCIuLi90cmFpdHMvU3RvbXBlclwiO1xuaW1wb3J0IE1hcmlvIGZyb20gXCIuL01hcmlvXCI7XG5cbmVudW0gS29vcGFTdGF0ZSB7XG4gIFdBTEtJTkcsIEhJRElORywgUEFOSUMsXG59XG5cbmNsYXNzIEJlaGF2aW9yIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgc3RhdGU6IEtvb3BhU3RhdGUgPSBLb29wYVN0YXRlLldBTEtJTkc7XG4gIHB1YmxpYyBoaWRlVGltZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBoaWRlRHVyYXRpb246IG51bWJlciA9IDU7XG4gIHByaXZhdGUgcGFuaWNTcGVlZDogbnVtYmVyID0gMzAwO1xuICBwcml2YXRlIHdhbGtTcGVlZDogbnVtYmVyID0gbnVsbDtcblxuICBjb2xsaWRlcyh1czogRW50aXR5LCB0aGVtOiBFbnRpdHkpOiB2b2lkIHtcbiAgICBjb25zdCBzdG9tcGVyID0gdGhlbS5nZXRUcmFpdCgnc3RvbXBlcicpO1xuICAgIGlmKHVzIGluc3RhbmNlb2YgS29vcGEgJiYgIXVzLmtpbGxhYmxlLmRlYWQgJiYgc3RvbXBlciBpbnN0YW5jZW9mIFN0b21wZXIpe1xuICAgICAgaWYodGhlbS52ZWwueSA+IHVzLnZlbC55KXtcbiAgICAgICAgdGhpcy5oYW5kbGVTdG9tcCh1cywgdGhlbSk7XG4gICAgICB9ZWxzZSBpZih0aGVtIGluc3RhbmNlb2YgTWFyaW8pe1xuICAgICAgICB0aGlzLmhhbmRsZU51ZGdlKHVzLCB0aGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVOdWRnZSh1czogS29vcGEsIHRoZW06IE1hcmlvKXtcbiAgICBzd2l0Y2godGhpcy5zdGF0ZSl7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuV0FMS0lORzogdGhlbS5raWxsYWJsZS5raWxsKCk7IGJyZWFrO1xuICAgICAgY2FzZSBLb29wYVN0YXRlLkhJRElORzogdGhpcy5wYW5pYyh1cywgdGhlbSk7IGJyZWFrO1xuICAgICAgY2FzZSBLb29wYVN0YXRlLlBBTklDOiB7XG4gICAgICAgIGNvbnN0IHRyYXZlbERpciA9IE1hdGguc2lnbih1cy52ZWwueCk7XG4gICAgICAgIGNvbnN0IGltcGFjdERpciA9IE1hdGguc2lnbih1cy5wb3MueCAtIHRoZW0ucG9zLngpO1xuICAgICAgICBpZih0cmF2ZWxEaXIgIT09IDAgJiYgdHJhdmVsRGlyICE9PSBpbXBhY3REaXIpe1xuICAgICAgICAgIHRoZW0ua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB9XG4gICAgICB9IGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVN0b21wKHVzOiBLb29wYSwgdGhlbTogRW50aXR5KXtcbiAgICBzd2l0Y2godGhpcy5zdGF0ZSl7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuV0FMS0lORzogdGhpcy5oaWRlKHVzKTsgYnJlYWs7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuSElESU5HOiB7XG4gICAgICAgIHVzLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgICAgdXMudmVsLnNldCgxMDAsIC0yMDApO1xuICAgICAgICB1cy5zb2xpZC5vYnN0cnVjdHMgPSBmYWxzZTtcbiAgICAgIH0gYnJlYWs7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuUEFOSUM6IHRoaXMuaGlkZSh1cyk7IGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGhpZGUodXM6IEtvb3BhKXtcbiAgICB1cy52ZWwueCA9IDA7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBpZighdGhpcy53YWxrU3BlZWQpIHRoaXMud2Fsa1NwZWVkID0gdXMucGVuZHVsdW1Nb3ZlLnNwZWVkO1xuICAgIHRoaXMuc3RhdGUgPSBLb29wYVN0YXRlLkhJRElORztcbiAgICB0aGlzLmhpZGVUaW1lID0gMDtcbiAgfVxuXG4gIHBhbmljKHVzOiBLb29wYSwgdGhlbTogRW50aXR5KXtcbiAgICB1cy5wZW5kdWx1bU1vdmUuZW5hYmxlZCA9IHRydWU7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLnNwZWVkID0gdGhpcy5wYW5pY1NwZWVkICogTWF0aC5zaWduKHRoZW0udmVsLngpO1xuICAgIHRoaXMuc3RhdGUgPSBLb29wYVN0YXRlLlBBTklDO1xuICB9XG5cbiAgdW5oaWRlKHVzOiBLb29wYSl7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLmVuYWJsZWQgPSB0cnVlO1xuICAgIHVzLnBlbmR1bHVtTW92ZS5zcGVlZCA9IHRoaXMud2Fsa1NwZWVkO1xuICAgIHRoaXMuc3RhdGUgPSBLb29wYVN0YXRlLldBTEtJTkc7XG4gIH1cblxuICB1cGRhdGUodXM6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBpZighKHVzIGluc3RhbmNlb2YgS29vcGEpKSByZXR1cm47XG4gICAgaWYodGhpcy5zdGF0ZSA9PT0gS29vcGFTdGF0ZS5ISURJTkcpe1xuICAgICAgdGhpcy5oaWRlVGltZSArPSBkdDtcbiAgICAgIGlmKHRoaXMuaGlkZVRpbWUgPiB0aGlzLmhpZGVEdXJhdGlvbil7XG4gICAgICAgIHRoaXMudW5oaWRlKHVzIGFzIEtvb3BhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS29vcGEgZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgcGh5c2ljczogUGh5c2ljcztcbiAgcHVibGljIHNvbGlkOiBTb2xpZDtcbiAgcHVibGljIHBlbmR1bHVtTW92ZTogUGVuZHVsdW1Nb3ZlO1xuICBwdWJsaWMgYmVoYXZpb3I6IEJlaGF2aW9yO1xuICBwdWJsaWMga2lsbGFibGU6IEtpbGxhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwaHlzaWNzJywgdGhpcy5waHlzaWNzID0gbmV3IFBoeXNpY3MoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnc29saWQnLCB0aGlzLnNvbGlkID0gbmV3IFNvbGlkKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BlbmR1bHVtTW92ZScsIHRoaXMucGVuZHVsdW1Nb3ZlID0gbmV3IFBlbmR1bHVtTW92ZSgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdnb29tYmEnLCB0aGlzLmJlaGF2aW9yID0gbmV3IEJlaGF2aW9yKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2tpbGxhYmxlJywgdGhpcy5raWxsYWJsZSA9IG5ldyBLaWxsYWJsZSgpKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBLb29wYUZhY3RvcnkgPSAoKSA9PiBLb29wYTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRLb29wYShhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPEtvb3BhRmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZFNwcml0ZVNoZWV0KCdrb29wYScpXG4gIC50aGVuKGNyZWF0ZUtvb3BhRmFjdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtvb3BhRmFjdG9yeShzcHJpdGVzOiBTcHJpdGVTaGVldCkgOiBLb29wYUZhY3Rvcnkge1xuICBjb25zdCB3YWxrQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCd3YWxrJyk7XG4gIGNvbnN0IHdha2VBbmltID0gc3ByaXRlcy5nZXRBbmltYXRpb24oJ3dha2UnKTtcblxuICBmdW5jdGlvbiByb3V0ZUFuaW0oa29vcGE6IEtvb3BhKXtcbiAgICBzd2l0Y2goa29vcGEuYmVoYXZpb3Iuc3RhdGUpe1xuICAgICAgY2FzZSBLb29wYVN0YXRlLkhJRElORzoge1xuICAgICAgICBpZihrb29wYS5iZWhhdmlvci5oaWRlVGltZSA+IDMpIHJldHVybiB3YWtlQW5pbShrb29wYS5saWZldGltZSk7XG4gICAgICB9XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuUEFOSUM6IHJldHVybiAnaGlkaW5nJztcbiAgICAgIGRlZmF1bHQ6IHJldHVybiB3YWxrQW5pbShrb29wYS5saWZldGltZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZHJhd0tvb3BhKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBzcHJpdGVzLmRyYXcocm91dGVBbmltKHRoaXMpLCBjdHgsIDAsIDAsIHRoaXMudmVsLnggPCAwKTtcbiAgfVxuICBcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUtvb3BhKCl7XG4gICAgY29uc3Qga29vcGEgPSBuZXcgS29vcGEoKTtcbiAgICBrb29wYS5zaXplLnNldCgxNiwgMTYpO1xuICAgIGtvb3BhLm9mZnNldC55ID0gODtcblxuICAgIGtvb3BhLmRyYXcgPSBkcmF3S29vcGE7XG5cbiAgICByZXR1cm4ga29vcGE7XG4gIH1cbn0iLCJpbXBvcnQgQXVkaW9Cb2FyZCBmcm9tIFwiLi4vQXVkaW9Cb2FyZFwiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBsb2FkQXVkaW9Cb2FyZCB9IGZyb20gXCIuLi9sb2FkZXJzL2F1ZGlvXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVycy9zcHJpdGVcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBHbyBmcm9tIFwiLi4vdHJhaXRzL0dvXCI7XG5pbXBvcnQgSnVtcCBmcm9tIFwiLi4vdHJhaXRzL0p1bXBcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL3RyYWl0cy9QbGF5ZXJcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcblxuY29uc3QgZW51bSBEcmFnIHtcbiAgU0xPVyA9IDEvMTAwMCxcbiAgRkFTVCA9IDEvNTAwMCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmlvIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHBsYXllcjogUGxheWVyO1xuICBwdWJsaWMgcGh5c2ljczogUGh5c2ljcztcbiAgcHVibGljIHNvbGlkOiBTb2xpZDtcbiAgcHVibGljIGdvOiBHbztcbiAgcHVibGljIGp1bXA6IEp1bXA7XG4gIHB1YmxpYyBzdG9tcGVyOiBTdG9tcGVyO1xuICBwdWJsaWMga2lsbGFibGU6IEtpbGxhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQpe1xuICAgIHN1cGVyKGF1ZGlvQm9hcmQpO1xuICAgIHRoaXMuc2l6ZS5zZXQoMTQsIDE2KTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwbGF5ZXInLCB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGh5c2ljcycsIHRoaXMucGh5c2ljcyA9IG5ldyBQaHlzaWNzKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3NvbGlkJywgdGhpcy5zb2xpZCA9IG5ldyBTb2xpZCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdnbycsIHRoaXMuZ28gPSBuZXcgR28oKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnanVtcCcsIHRoaXMuanVtcCA9IG5ldyBKdW1wKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3N0b21wZXInLCB0aGlzLnN0b21wZXIgPSBuZXcgU3RvbXBlcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gICAgdGhpcy5nby5kcmFnID0gRHJhZy5TTE9XO1xuICB9XG5cbiAgdHVyYm8oZW5hYmxlZDogYm9vbGVhbil7XG4gICAgdGhpcy5nby5kcmFnID0gZW5hYmxlZCA/IERyYWcuRkFTVCA6IERyYWcuU0xPVztcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBNYXJpb0ZhY3RvcnkgPSAoKSA9PiBNYXJpbztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRNYXJpbyhhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBQcm9taXNlPE1hcmlvRmFjdG9yeT4ge1xuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgIGxvYWRTcHJpdGVTaGVldCgnbWFyaW8nKSxcbiAgICBsb2FkQXVkaW9Cb2FyZCgnbWFyaW8nLCBhdWRpb0NvbnRleHQpLFxuICBdKVxuICAudGhlbigoW3Nwcml0ZXMsIGF1ZGlvXSkgPT4ge1xuICAgIHJldHVybiBjcmVhdGVNYXJpb0ZhY3Rvcnkoc3ByaXRlcywgYXVkaW8pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFyaW9GYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0LCBhdWRpb0JvYXJkOiBBdWRpb0JvYXJkKSA6IE1hcmlvRmFjdG9yeSB7XG4gIGNvbnN0IHJ1bkFuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbigncnVuJyk7XG5cbiAgZnVuY3Rpb24gcm91dGVGcmFtZShtYXJpbzogTWFyaW8pe1xuICAgIGlmKG1hcmlvLmp1bXAuZmFsbGluZyl7XG4gICAgICByZXR1cm4gJ2p1bXAnO1xuICAgIH1cbiAgICBpZihtYXJpby5nby5kaXN0YW5jZSA+IDApe1xuICAgICAgaWYoKG1hcmlvLnZlbC54ID4gMCAmJiBtYXJpby5nby5kaXIgPCAwKSB8fCAobWFyaW8udmVsLnggPCAwICYmIG1hcmlvLmdvLmRpciA+IDApKVxuICAgICAgICByZXR1cm4gJ2JyZWFrJztcbiAgXG4gICAgICByZXR1cm4gcnVuQW5pbShtYXJpby5nby5kaXN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiAnaWRsZSc7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3TWFyaW8oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdyhyb3V0ZUZyYW1lKHRoaXMpLCBjdHgsIDAsIDAsIHRoaXMuZ28uaGVhZGluZyA8IDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFyaW8oKXtcbiAgICBjb25zdCBtYXJpbyA9IG5ldyBNYXJpbyhhdWRpb0JvYXJkKTtcblxuICAgIG1hcmlvLmRyYXcgPSBkcmF3TWFyaW87XG4gICAgbWFyaW8ua2lsbGFibGUucmVtb3ZlQWZ0ZXIgPSAwO1xuXG4gICAgcmV0dXJuIG1hcmlvO1xuICB9XG59IiwiaW1wb3J0IE1hcmlvIGZyb20gJy4vZW50aXRpZXMvTWFyaW8nO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4vS2V5Ym9hcmRTdGF0ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEtleWJvYXJkKG1hcmlvOiBNYXJpbykgOiBLZXlib2FyZCB7XG4gIGNvbnN0IGlucHV0ID0gbmV3IEtleWJvYXJkKCk7XG4gIFxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlQJywga2V5U3RhdGUgPT4ge1xuICAgIGlmKGtleVN0YXRlKXtcbiAgICAgIG1hcmlvLmp1bXAuc3RhcnQoKTtcbiAgICB9ZWxzZXtcbiAgICAgIG1hcmlvLmp1bXAuY2FuY2VsKCk7XG4gICAgfVxuICB9KTtcbiAgXG4gIGlucHV0LmFkZE1hcHBpbmcoJ0tleU8nLCBrZXlTdGF0ZSA9PiB7XG4gICAgbWFyaW8udHVyYm8oa2V5U3RhdGUgPT09IDEpO1xuICB9KTtcblxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlBJywga2V5U3RhdGUgPT4ge1xuICAgIG1hcmlvLmdvLmRpciArPSBrZXlTdGF0ZSA/IC0xIDogMTtcbiAgfSk7XG4gIFxuICBpbnB1dC5hZGRNYXBwaW5nKCdLZXlEJywga2V5U3RhdGUgPT4ge1xuICAgIG1hcmlvLmdvLmRpciArPSBrZXlTdGF0ZSA/IDEgOiAtMTtcbiAgfSk7XG4gIFxuICByZXR1cm4gaW5wdXQ7XG59IiwiaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBMZXZlbFRpbGVTcGVjIH0gZnJvbSBcIi4uL2xvYWRlcnMvbGV2ZWxcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRoXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgeyBUaWxlUmVzb2x2ZXIgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCYWNrZ3JvdW5kTGF5ZXIobGV2ZWw6IExldmVsLCB0aWxlczogTWF0cml4PExldmVsVGlsZVNwZWM+LCBzcHJpdGVzOiBTcHJpdGVTaGVldCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3QgcmVzb2x2ZXIgPSBuZXcgVGlsZVJlc29sdmVyKHRpbGVzKTtcblxuICBjb25zdCBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIGN0eC5jYW52YXMud2lkdGggPSAyNTYgKyAxNjtcbiAgY3R4LmNhbnZhcy5oZWlnaHQgPSAyNDA7XG5cbiAgZnVuY3Rpb24gcmVkcmF3KGRyYXdGcm9tOiBudW1iZXIsIGRyYXdUbzogbnVtYmVyKXtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcblxuICAgIGZvcihsZXQgeD1kcmF3RnJvbTsgeDw9ZHJhd1RvOyB4Kyspe1xuICAgICAgY29uc3QgY29sID0gdGlsZXMuZ3JpZFt4XTtcbiAgICAgIGlmKCFjb2wpIGNvbnRpbnVlO1xuICAgICAgY29sLmZvckVhY2goKHRpbGUsIHkpPT57XG4gICAgICAgIHNwcml0ZXMuZHJhd0FuaW0odGlsZS5uYW1lLCBjdHgsIHgtZHJhd0Zyb20sIHksIGxldmVsLnRpbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdCYWNrZ3JvdW5kTGF5ZXIoc2NyZWVuLCBjYW1lcmEpeyBcbiAgICBjb25zdCBkcmF3V2lkdGggPSByZXNvbHZlci50b0luZGV4KGNhbWVyYS5zaXplLngpO1xuICAgIGNvbnN0IGRyYXdGcm9tID0gcmVzb2x2ZXIudG9JbmRleChjYW1lcmEucG9zLngpO1xuICAgIGNvbnN0IGRyYXdUbyA9IGRyYXdGcm9tICsgZHJhd1dpZHRoO1xuICAgIHJlZHJhdyhkcmF3RnJvbSwgZHJhd1RvKTtcbiAgICBzY3JlZW4uZHJhd0ltYWdlKFxuICAgICAgY3R4LmNhbnZhcywgXG4gICAgICAtY2FtZXJhLnBvcy54ICUgMTYsIFxuICAgICAgLWNhbWVyYS5wb3MueVxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgQ2FtZXJhIGZyb20gXCIuLi9DYW1lcmFcIjtcbmltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBUaWxlUmVzb2x2ZXIgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmludGVyZmFjZSBWZWMyIHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfTtcblxuZnVuY3Rpb24gY3JlYXRlRW50aXR5TGF5ZXIoZW50aXRpZXM6IFNldDxFbnRpdHk+KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdCb3VuZGluZ0JveChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhOiBDYW1lcmEpe1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgIGVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5yZWN0KFxuICAgICAgICBlbnRpdHkuYm91bmRzLmxlZnQgLSBjYW1lcmEucG9zLngsIFxuICAgICAgICBlbnRpdHkuYm91bmRzLnRvcCAtIGNhbWVyYS5wb3MueSwgXG4gICAgICAgIGVudGl0eS5zaXplLngsIGVudGl0eS5zaXplLnlcbiAgICAgICk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRpbGVDYW5kaWRhdGVMYXllcih0aWxlUmVzb2x2ZXI6IFRpbGVSZXNvbHZlcil7XG4gIGNvbnN0IHJlc29sdmVkVGlsZXM6IFZlYzJbXSA9IFtdO1xuXG4gIGNvbnN0IHRpbGVTaXplID0gdGlsZVJlc29sdmVyLnRpbGVTaXplO1xuXG4gIGNvbnN0IGdldEJ5SW5kZXhPcmlnaW5hbCA9IHRpbGVSZXNvbHZlci5nZXRCeUluZGV4O1xuICB0aWxlUmVzb2x2ZXIuZ2V0QnlJbmRleCA9IGZ1bmN0aW9uIGdldEJ5SW5kZXhGYWtlKHg6IG51bWJlciwgeTogbnVtYmVyKXtcbiAgICByZXNvbHZlZFRpbGVzLnB1c2goe3gsIHl9KTtcbiAgICByZXR1cm4gZ2V0QnlJbmRleE9yaWdpbmFsLmNhbGwodGlsZVJlc29sdmVyLCB4LCB5KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3VGlsZUNhbmRpZGF0ZXMoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmx1ZSc7XG4gICAgcmVzb2x2ZWRUaWxlcy5mb3JFYWNoKCh7eCx5fSkgPT4ge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LnJlY3QoXG4gICAgICAgIHgqdGlsZVNpemUgLSBjYW1lcmEucG9zLngsIFxuICAgICAgICB5KnRpbGVTaXplIC0gY2FtZXJhLnBvcy55LCBcbiAgICAgICAgdGlsZVNpemUsIHRpbGVTaXplXG4gICAgICApO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0pO1xuXG4gICAgcmVzb2x2ZWRUaWxlcy5sZW5ndGggPSAwO1xuICB9O1xufVxuIFxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbGxpc2lvbkxheWVyKGxldmVsOiBMZXZlbCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3QgZHJhd1RpbGVDYW5kaWRhdGVzID0gbGV2ZWwudGlsZUNvbGxpZGVyLnJlc29sdmVycy5tYXAoY3JlYXRlVGlsZUNhbmRpZGF0ZUxheWVyKTtcbiAgY29uc3QgZHJhd0JvdW5kaW5nQm94ZXMgPSBjcmVhdGVFbnRpdHlMYXllcihsZXZlbC5lbnRpdGllcyk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdDb2xsaXNpb24oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbWVyYTogQ2FtZXJhKXtcbiAgICBkcmF3VGlsZUNhbmRpZGF0ZXMuZm9yRWFjaChkcmF3ID0+IGRyYXcoY3R4LCBjYW1lcmEpKTtcbiAgICBkcmF3Qm91bmRpbmdCb3hlcyhjdHgsIGNhbWVyYSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IEZvbnRTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL2ZvbnRcIjtcbmltcG9ydCB7IGZpbmRQbGF5ZXJzIH0gZnJvbSBcIi4uL3BsYXllclwiO1xuaW1wb3J0IExldmVsVGltZXIgZnJvbSBcIi4uL3RyYWl0cy9MZXZlbFRpbWVyXCI7XG5pbXBvcnQgUGxheWVyIGZyb20gXCIuLi90cmFpdHMvUGxheWVyXCI7XG5cbmZ1bmN0aW9uIGdldFBsYXllclRyYWl0KGxldmVsOiBMZXZlbCkgOiBQbGF5ZXIge1xuICBmb3IoY29uc3QgZW50aXR5IG9mIGZpbmRQbGF5ZXJzKGxldmVsKSl7XG4gICAgcmV0dXJuIGVudGl0eS5nZXRUcmFpdCgncGxheWVyJykgYXMgUGxheWVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVyVHJhaXQobGV2ZWw6IExldmVsKSA6IExldmVsVGltZXIge1xuICBmb3IoY29uc3QgZW50aXR5IG9mIGxldmVsLmVudGl0aWVzKXtcbiAgICBjb25zdCB0cmFpdCA9IGVudGl0eS5nZXRUcmFpdCgnbGV2ZWxUaW1lcicpO1xuICAgIGlmKHRyYWl0ICYmIHRyYWl0IGluc3RhbmNlb2YgTGV2ZWxUaW1lcikgcmV0dXJuIHRyYWl0O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEYXNoYm9hcmRMYXllcihmb250OiBGb250U2hlZXQsIGxldmVsOiBMZXZlbCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3QgTElORTEgPSBmb250LnNpemU7XG4gIGNvbnN0IExJTkUyID0gZm9udC5zaXplICogMjtcblxuICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXJUcmFpdChsZXZlbCk7XG4gIGNvbnN0IHRpbWVyID0gZ2V0VGltZXJUcmFpdChsZXZlbCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdEYXNoYm9hcmQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIGZvbnQuZHJhdyhwbGF5ZXIubmFtZSwgY3R4LCAxNiwgTElORTEpO1xuICAgIGZvbnQuZHJhdyhwbGF5ZXIuc2NvcmUudG9TdHJpbmcoKS5wYWRTdGFydCg2LCAnMCcpLCBjdHgsIDE2LCBMSU5FMik7XG5cbiAgICBmb250LmRyYXcoYEB4JHtwbGF5ZXIuY29pbnMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWAsIGN0eCwgOTYsIExJTkUyKTtcblxuICAgIGZvbnQuZHJhdygnV09STEQnLCBjdHgsIDE1MiwgTElORTEpO1xuICAgIGZvbnQuZHJhdygnMS0xJywgY3R4LCAxNjAsIExJTkUyKTtcblxuICAgIGZvbnQuZHJhdygnVElNRScsIGN0eCwgMjA4LCBMSU5FMSk7XG4gICAgZm9udC5kcmF3KE1hdGgubWF4KDAsIHRpbWVyLmN1cnJlbnRUaW1lKS50b0ZpeGVkKDApLnBhZFN0YXJ0KDMsICcwJyksIGN0eCwgMjE2LCBMSU5FMik7XG4gIH1cbn0iLCJpbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ByaXRlTGF5ZXIoZW50aXRpZXM6IFNldDxFbnRpdHk+LCB3aWR0aDogbnVtYmVyID0gNjQsIGhlaWdodDogbnVtYmVyID0gNjQpIDogTGF5ZXJSZW5kZXJlciB7XG4gIGNvbnN0IHNwcml0ZUN0eCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XG4gIHNwcml0ZUN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgc3ByaXRlQ3R4LmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICBzcHJpdGVDdHguY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd1Nwcml0ZUxheWVyKGN0eCwgY2FtZXJhKXtcbiAgICBlbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBzcHJpdGVDdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgZW50aXR5LmRyYXcoc3ByaXRlQ3R4KTtcblxuICAgICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgc3ByaXRlQ3R4LmNhbnZhcywgXG4gICAgICAgIGVudGl0eS5wb3MueCAtIGNhbWVyYS5wb3MueCxcbiAgICAgICAgZW50aXR5LnBvcy55IC0gY2FtZXJhLnBvcy55XG4gICAgICApO1xuICAgIH0pXG4gIH1cbn0iLCJleHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlKHBhdGg6IHN0cmluZykgOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+e1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gKCk9PnJlc29sdmUoaW1nKTtcbiAgICBpbWcub25lcnJvciA9IHJlamVjdDtcbiAgICBpbWcuc3JjID0gcGF0aDtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkSlNPTihwYXRoOiBzdHJpbmcpIDogUHJvbWlzZTxvYmplY3Q+IHtcbiAgcmV0dXJuIGZldGNoKHBhdGgpLnRoZW4ocmVzPT5yZXMuanNvbigpKTtcbn0iLCJpbXBvcnQgQXVkaW9Cb2FyZCBmcm9tIFwiLi4vQXVkaW9Cb2FyZFwiO1xuaW1wb3J0IHsgbG9hZEpTT04gfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuXG50eXBlIEF1ZGlvTG9hZGVyID0gKHVybDogc3RyaW5nKSA9PiBQcm9taXNlPEF1ZGlvQnVmZmVyPjtcblxuaW50ZXJmYWNlIEF1ZGlvU3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgdXJsOiBzdHJpbmcsXG59XG5pbnRlcmZhY2UgQXVkaW9TaGVldFNwZWMge1xuICBmeDogQXVkaW9TcGVjW10sXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQXVkaW9Cb2FyZChuYW1lOiBzdHJpbmcsIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8QXVkaW9Cb2FyZD4ge1xuICBjb25zdCBsb2FkQXVkaW8gPSBjcmVhdGVBdWRpb0xvYWRlcihhdWRpb0NvbnRleHQpO1xuICBjb25zdCBhdWRpb1NoZWV0ID0gYXdhaXQgbG9hZEpTT04oYC4vc291bmRzLyR7bmFtZX0uanNvbmApIGFzIEF1ZGlvU2hlZXRTcGVjO1xuICBjb25zdCBhdWRpb0JvYXJkID0gbmV3IEF1ZGlvQm9hcmQoKTtcbiAgY29uc3Qgam9iczogYW55W10gPSBbXTtcbiAgYXVkaW9TaGVldC5meC5mb3JFYWNoKCh7IG5hbWUsIHVybCB9KSA9PiB7XG4gICAgam9icy5wdXNoKFxuICAgICAgbG9hZEF1ZGlvKHVybClcbiAgICAgIC50aGVuKGJ1ZmZlciA9PiB7XG4gICAgICAgIGF1ZGlvQm9hcmQuYWRkKG5hbWUsIGJ1ZmZlcik7XG4gICAgICB9KVxuICAgICk7XG4gIH0pO1xuICBhd2FpdCBQcm9taXNlLmFsbChqb2JzKTtcbiAgcmV0dXJuIGF1ZGlvQm9hcmQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBdWRpb0xvYWRlcihjb250ZXh0OiBBdWRpb0NvbnRleHQpIDogQXVkaW9Mb2FkZXIge1xuICByZXR1cm4gZnVuY3Rpb24gbG9hZEF1ZGlvKHVybDogc3RyaW5nKSA6IFByb21pc2U8QXVkaW9CdWZmZXI+IHtcbiAgICByZXR1cm4gZmV0Y2godXJsKVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xuICAgICAgcmV0dXJuIGNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGFycmF5QnVmZmVyKTtcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCB7IGxvYWRJbWFnZSB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5cbmNvbnN0IExFVFRFUlMgPSBgICFcIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xcXFxdXl9cXGBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5gXG5cbmV4cG9ydCBjbGFzcyBGb250U2hlZXQge1xuICBwcml2YXRlIHNoZWV0OiBTcHJpdGVTaGVldDtcbiAgcHVibGljIHNpemU6IG51bWJlcjtcbiAgY29uc3RydWN0b3Ioc2hlZXQ6IFNwcml0ZVNoZWV0LCBzaXplOiBudW1iZXIpe1xuICAgIHRoaXMuc2hlZXQgPSBzaGVldDtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICB9XG4gIGRyYXcodGV4dDogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgb2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpe1xuICAgIGZvcihsZXQgeD0wOyB4PHRleHQubGVuZ3RoOyB4Kyspe1xuICAgICAgdGhpcy5zaGVldC5kcmF3KHRleHRbeF0sIGN0eCwgb2Zmc2V0WCArIHggKiB0aGlzLnNpemUsIG9mZnNldFkpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEZvbnQoKSA6IFByb21pc2U8Rm9udFNoZWV0PiB7XG4gIGNvbnN0IGltYWdlID0gYXdhaXQgbG9hZEltYWdlKCcuL3NoZWV0cy9mb250LnBuZycpXG4gIGNvbnN0IHNwcml0ZXMgPSBuZXcgU3ByaXRlU2hlZXQoaW1hZ2UpO1xuXG4gIGNvbnN0IHNpemUgPSA4O1xuICBmb3IobGV0IGk9MDsgaTxMRVRURVJTLmxlbmd0aDsgaSsrKXtcbiAgICBjb25zdCB4ID0gKGkgJiAxNSkgKiBzaXplO1xuICAgIGNvbnN0IHkgPSAoaSA+PiA0KSAqIHNpemU7XG4gICAgc3ByaXRlcy5kZWZpbmUoTEVUVEVSU1tpXSwgeCwgeSwgc2l6ZSwgc2l6ZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IEZvbnRTaGVldChzcHJpdGVzLCBzaXplKTtcbn0iLCJpbXBvcnQgeyBFbnRpdHlGYWN0b3J5IH0gZnJvbSBcIi4uL2VudGl0aWVzXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IGNyZWF0ZUJhY2tncm91bmRMYXllciB9IGZyb20gXCIuLi9sYXllcnMvYmFja2dyb3VuZFwiO1xuaW1wb3J0IHsgY3JlYXRlU3ByaXRlTGF5ZXIgfSBmcm9tIFwiLi4vbGF5ZXJzL3Nwcml0ZVwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZEpTT04gfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdGhcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBMZXZlbFRpbWVyIGZyb20gXCIuLi90cmFpdHMvTGV2ZWxUaW1lclwiO1xuaW1wb3J0IHsgbG9hZE11c2ljU2hlZXQgfSBmcm9tIFwiLi9tdXNpY1wiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4vc3ByaXRlXCI7XG5cbnR5cGUgUmFuZ2UgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlcj8sIG51bWJlcj9dO1xuZXhwb3J0IGludGVyZmFjZSBMZXZlbFRpbGVTcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICBwYXR0ZXJuPzogc3RyaW5nLFxuICB0eXBlPzogc3RyaW5nLFxuICByYW5nZXM6IFJhbmdlW10sXG59XG5pbnRlcmZhY2UgUGF0dGVyblNwZWMge1xuICB0aWxlczogTGV2ZWxUaWxlU3BlY1tdLFxufVxuaW50ZXJmYWNlIFBhdHRlcm5zU3BlYyB7XG4gIFtrZXk6IHN0cmluZ106IFBhdHRlcm5TcGVjLFxufTtcbmludGVyZmFjZSBMYXllclNwZWMge1xuICB0aWxlczogTGV2ZWxUaWxlU3BlY1tdLFxufVxuaW50ZXJmYWNlIEVudGl0eVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHBvczogW251bWJlciwgbnVtYmVyXSxcbn1cbmludGVyZmFjZSBMZXZlbFNwZWMge1xuICBzcHJpdGVTaGVldDogc3RyaW5nLFxuICBtdXNpY1NoZWV0OiBzdHJpbmcsXG4gIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMsXG4gIGxheWVyczogTGF5ZXJTcGVjW10sXG4gIGVudGl0aWVzOiBFbnRpdHlTcGVjW10sXG59XG5pbnRlcmZhY2UgRXhwYW5kZWRUaWxlIHtcbiAgdGlsZTogTGV2ZWxUaWxlU3BlYyxcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXIsXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRpbWVyKCkgOiBFbnRpdHkge1xuICBjb25zdCB0aW1lciA9IG5ldyBFbnRpdHkoKTtcbiAgdGltZXIuYWRkVHJhaXQoJ2xldmVsVGltZXInLCBuZXcgTGV2ZWxUaW1lcigpKTtcbiAgcmV0dXJuIHRpbWVyO1xufVxuXG5mdW5jdGlvbiBzZXR1cEJlaGF2aW9yKGxldmVsOiBMZXZlbCl7XG4gIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTtcbiAgbGV2ZWwuZW50aXRpZXMuYWRkKHRpbWVyKTtcblxuICBsZXZlbC5ldmVudHMubGlzdGVuKExldmVsVGltZXIuVElNRVJfT0tBWSwgKCkgPT4gbGV2ZWwubXVzaWMucGxheVRoZW1lKCkpO1xuICBsZXZlbC5ldmVudHMubGlzdGVuKExldmVsVGltZXIuVElNRVJfSFVSUlksICgpID0+IGxldmVsLm11c2ljLnBsYXlIdXJyeVRoZW1lKCkpO1xufVxuXG5mdW5jdGlvbiBzZXR1cEJhY2tncm91bmRzKGxldmVsU3BlYzogTGV2ZWxTcGVjLCBsZXZlbDogTGV2ZWwsIHNwcml0ZXM6IFNwcml0ZVNoZWV0KXtcbiAgbGV2ZWxTcGVjLmxheWVycy5mb3JFYWNoKChsYXllciwgaSkgPT4ge1xuICAgIGNvbnN0IGdyaWQgPSBjcmVhdGVHcmlkKGxheWVyLnRpbGVzLCBsZXZlbFNwZWMucGF0dGVybnMpO1xuICAgIGNvbnN0IGJhY2tncm91bmRMYXllciA9IGNyZWF0ZUJhY2tncm91bmRMYXllcihsZXZlbCwgZ3JpZCwgc3ByaXRlcyk7XG4gICAgbGV2ZWwuY29tcC5hZGQoYmFja2dyb3VuZExheWVyKTtcbiAgICBsZXZlbC50aWxlQ29sbGlkZXIuYWRkR3JpZChncmlkKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwRW50aXRpZXMobGV2ZWxTcGVjOiBMZXZlbFNwZWMsIGxldmVsOiBMZXZlbCwgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSl7XG4gIGxldmVsU3BlYy5lbnRpdGllcy5mb3JFYWNoKCh7bmFtZSwgcG9zOiBbeCwgeV19KSA9PiB7XG4gICAgY29uc3QgY3JlYXRlRW50aXR5ID0gZW50aXR5RmFjdG9yeVtuYW1lXTtcbiAgICBjb25zdCBlbnRpdHkgPSBjcmVhdGVFbnRpdHkoKTtcbiAgICBlbnRpdHkucG9zLnNldCh4LCB5KTtcbiAgICBsZXZlbC5lbnRpdGllcy5hZGQoZW50aXR5KTtcbiAgfSlcblxuICBjb25zdCBzcHJpdGVMYXllciA9IGNyZWF0ZVNwcml0ZUxheWVyKGxldmVsLmVudGl0aWVzKTtcbiAgbGV2ZWwuY29tcC5hZGQoc3ByaXRlTGF5ZXIpO1xufVxuXG50eXBlIExldmVsTG9hZGVyID0gKG5hbWU6IHN0cmluZykgPT4gUHJvbWlzZTxMZXZlbD47XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTGV2ZWxMb2FkZXIoZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSkgOiBMZXZlbExvYWRlciB7XG4gIHJldHVybiBmdW5jdGlvbiBsb2FkTGV2ZWwobmFtZTogc3RyaW5nKSA6IFByb21pc2U8TGV2ZWw+IHtcbiAgICByZXR1cm4gKGxvYWRKU09OKGAuL2xldmVscy8ke25hbWV9Lmpzb25gKSBhcyBQcm9taXNlPExldmVsU3BlYz4pXG4gICAgLnRoZW4obGV2ZWxTcGVjID0+IFByb21pc2UuYWxsKFtcbiAgICAgIGxldmVsU3BlYyxcbiAgICAgIGxvYWRTcHJpdGVTaGVldChsZXZlbFNwZWMuc3ByaXRlU2hlZXQpLFxuICAgICAgbG9hZE11c2ljU2hlZXQobGV2ZWxTcGVjLm11c2ljU2hlZXQpLFxuICAgIF0pKVxuICAgIC50aGVuKChbbGV2ZWxTcGVjLCBzcHJpdGVzLCBtdXNpY1BsYXllcl0pID0+IHtcbiAgICAgIGNvbnN0IGxldmVsID0gbmV3IExldmVsKCk7XG4gICAgICBsZXZlbC5tdXNpYy5zZXRQbGF5ZXIobXVzaWNQbGF5ZXIpO1xuXG4gICAgICBzZXR1cEJhY2tncm91bmRzKGxldmVsU3BlYywgbGV2ZWwsIHNwcml0ZXMpO1xuICAgICAgc2V0dXBFbnRpdGllcyhsZXZlbFNwZWMsIGxldmVsLCBlbnRpdHlGYWN0b3J5KTtcbiAgICAgIHNldHVwQmVoYXZpb3IobGV2ZWwpO1xuICAgICAgXG4gICAgICByZXR1cm4gbGV2ZWw7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlR3JpZCh0aWxlczogTGV2ZWxUaWxlU3BlY1tdLCBwYXR0ZXJuczogUGF0dGVybnNTcGVjKSA6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPiB7XG4gIGNvbnN0IGdyaWQ6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPiA9IG5ldyBNYXRyaXgoKTtcblxuICBmb3IoY29uc3QgeyB0aWxlLCB4LCB5IH0gb2YgZXhwYW5kVGlsZXModGlsZXMsIHBhdHRlcm5zKSl7XG4gICAgZ3JpZC5zZXQoeCwgeSwgdGlsZSk7XG4gIH1cblxuICByZXR1cm4gZ3JpZDtcbn1cblxudHlwZSBDb29yZCA9IHsgeDogbnVtYmVyLCB5Om51bWJlciB9O1xuZnVuY3Rpb24qIGV4cGFuZFNwYW4oeFN0YXJ0OiBudW1iZXIsIHhMZW46IG51bWJlciwgeVN0YXJ0OiBudW1iZXIsIHlMZW46IG51bWJlcikgOiBHZW5lcmF0b3I8Q29vcmQ+IHtcbiAgY29uc3QgeEVuZCA9IHhTdGFydCArIHhMZW4sIHlFbmQgPSB5U3RhcnQgKyB5TGVuO1xuICBmb3IobGV0IHg9eFN0YXJ0OyB4PHhFbmQ7IHgrKyl7XG4gICAgZm9yKGxldCB5PXlTdGFydDsgeTx5RW5kOyB5Kyspe1xuICAgICAgeWllbGQgeyB4LCB5IH07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFJhbmdlKHJhbmdlOiBSYW5nZSkgOiBHZW5lcmF0b3I8Q29vcmQ+IHtcbiAgc3dpdGNoKHJhbmdlLmxlbmd0aCl7XG4gICAgY2FzZSA0OiByZXR1cm4gZXhwYW5kU3BhbiguLi5yYW5nZSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZXhwYW5kU3BhbihyYW5nZVswXSwgcmFuZ2VbMV0sIHJhbmdlWzJdLCAxKTtcbiAgICBjYXNlIDI6IHJldHVybiBleHBhbmRTcGFuKHJhbmdlWzBdLCAxLCByYW5nZVsxXSwgMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24qIGV4cGFuZFJhbmdlcyhyYW5nZXM6IFJhbmdlW10pIDogR2VuZXJhdG9yPGFueT4ge1xuICBmb3IoY29uc3QgcmFuZ2Ugb2YgcmFuZ2VzKXtcbiAgICB5aWVsZCogZXhwYW5kUmFuZ2UocmFuZ2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uKiBleHBhbmRUaWxlcyh0aWxlczogTGV2ZWxUaWxlU3BlY1tdLCBwYXR0ZXJuczogUGF0dGVybnNTcGVjKSA6IEdlbmVyYXRvcjxFeHBhbmRlZFRpbGU+IHtcbiAgZnVuY3Rpb24qIHdhbGtUaWxlcyh0aWxlczogTGV2ZWxUaWxlU3BlY1tdLCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcikgOiBHZW5lcmF0b3I8RXhwYW5kZWRUaWxlPiB7XG4gICAgZm9yKGNvbnN0IHRpbGUgb2YgdGlsZXMpe1xuICAgICAgZm9yKGNvbnN0IHsgeCwgeSB9IG9mIGV4cGFuZFJhbmdlcyh0aWxlLnJhbmdlcykpe1xuICAgICAgICBjb25zdCBkZXJpdmVkWCA9IHggKyBvZmZzZXRYLCBkZXJpdmVkWSA9IHkgKyBvZmZzZXRZO1xuICAgICAgICBpZih0aWxlLnBhdHRlcm4pe1xuICAgICAgICAgIGNvbnN0IHRpbGVzID0gcGF0dGVybnNbdGlsZS5wYXR0ZXJuXS50aWxlcztcbiAgICAgICAgICB5aWVsZCogd2Fsa1RpbGVzKHRpbGVzLCBkZXJpdmVkWCwgZGVyaXZlZFkpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgeDogZGVyaXZlZFgsXG4gICAgICAgICAgICB5OiBkZXJpdmVkWSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgeWllbGQqIHdhbGtUaWxlcyh0aWxlcywgMCwgMCk7XG59IiwiaW1wb3J0IHsgbG9hZEpTT04gfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuaW1wb3J0IE11c2ljUGxheWVyIGZyb20gXCIuLi9NdXNpY1BsYXllclwiO1xuXG5pbnRlcmZhY2UgTXVzaWNTcGVjIHtcbiAgdXJsOiBzdHJpbmcsXG59XG5pbnRlcmZhY2UgTXVzaWNTaGVldFNwZWMge1xuICBbbmFtZTogc3RyaW5nXTogTXVzaWNTcGVjLFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZE11c2ljU2hlZXQobmFtZTogc3RyaW5nKSA6IFByb21pc2U8TXVzaWNQbGF5ZXI+IHtcbiAgY29uc3QgbXVzaWNTaGVldCA9IGF3YWl0IGxvYWRKU09OKGAuL211c2ljLyR7bmFtZX0uanNvbmApIGFzIE11c2ljU2hlZXRTcGVjO1xuICBjb25zdCBtdXNpY1BsYXllciA9IG5ldyBNdXNpY1BsYXllcigpO1xuICBmb3IoY29uc3QgW25hbWUsIHRyYWNrXSBvZiBPYmplY3QuZW50cmllcyhtdXNpY1NoZWV0KSl7XG4gICAgbXVzaWNQbGF5ZXIuYWRkVHJhY2sobmFtZSwgdHJhY2sudXJsKTtcbiAgfVxuICByZXR1cm4gbXVzaWNQbGF5ZXI7XG59IiwiaW1wb3J0IHsgY3JlYXRlQW5pbSB9IGZyb20gXCIuLi9hbmltXCI7XG5pbXBvcnQgeyBsb2FkSW1hZ2UsIGxvYWRKU09OIH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUaWxlU3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgaW5kZXg6IFtudW1iZXIsIG51bWJlcl0sXG59XG5pbnRlcmZhY2UgRnJhbWVTcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICByZWN0OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbn1cbmludGVyZmFjZSBBbmltYXRpb25TcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICBmcmFtZUxlbjogbnVtYmVyLFxuICBmcmFtZXM6IHN0cmluZ1tdLFxufVxuaW50ZXJmYWNlIFNoZWV0U3BlYyB7XG4gIGltYWdlVVJMOiBzdHJpbmcsXG4gIHRpbGVXOiBudW1iZXIsIHRpbGVIOiBudW1iZXIsXG4gIHRpbGVzPzogVGlsZVNwZWNbXSxcbiAgZnJhbWVzPzogRnJhbWVTcGVjW10sXG4gIGFuaW1hdGlvbnM/OiBBbmltYXRpb25TcGVjW10sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkU3ByaXRlU2hlZXQobmFtZTogc3RyaW5nKXtcbiAgcmV0dXJuIChsb2FkSlNPTihgLi9zcHJpdGVzLyR7bmFtZX0uanNvbmApIGFzIFByb21pc2U8U2hlZXRTcGVjPilcbiAgLnRoZW4oc2hlZXRTcGVjID0+IFByb21pc2UuYWxsKFtcbiAgICBzaGVldFNwZWMsXG4gICAgbG9hZEltYWdlKHNoZWV0U3BlYy5pbWFnZVVSTCksXG4gIF0pKVxuICAudGhlbigoW3NoZWV0U3BlYywgaW1hZ2VdKT0+e1xuICAgIGNvbnN0IHNwcml0ZXMgPSBuZXcgU3ByaXRlU2hlZXQoaW1hZ2UsIHNoZWV0U3BlYy50aWxlVywgc2hlZXRTcGVjLnRpbGVIKTtcblxuICAgIGlmKHNoZWV0U3BlYy50aWxlcyl7XG4gICAgICBzaGVldFNwZWMudGlsZXMuZm9yRWFjaCh0aWxlU3BlYyA9PiB7XG4gICAgICAgIHNwcml0ZXMuZGVmaW5lVGlsZSh0aWxlU3BlYy5uYW1lLCAuLi50aWxlU3BlYy5pbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihzaGVldFNwZWMuZnJhbWVzKXtcbiAgICAgIHNoZWV0U3BlYy5mcmFtZXMuZm9yRWFjaCgoe25hbWUsIHJlY3R9KSA9PiB7XG4gICAgICAgIHNwcml0ZXMuZGVmaW5lKG5hbWUsIC4uLnJlY3QpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoc2hlZXRTcGVjLmFuaW1hdGlvbnMpe1xuICAgICAgc2hlZXRTcGVjLmFuaW1hdGlvbnMuZm9yRWFjaCgoe25hbWUsIGZyYW1lTGVuLCBmcmFtZXN9KSA9PiB7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IGNyZWF0ZUFuaW0oZnJhbWVzLCBmcmFtZUxlbik7XG4gICAgICAgIHNwcml0ZXMuZGVmaW5lQW5pbShuYW1lLCBhbmltYXRpb24pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwcml0ZXM7XG4gIH0pXG59IiwidHlwZSBNYXRyaXhDYWxsYmFjazxUPiA9ICh4OiBudW1iZXIsIHk6IG51bWJlciwgdGlsZTogVCkgPT4gdm9pZDtcblxuZXhwb3J0IGNsYXNzIE1hdHJpeDxUPiB7XG4gIHB1YmxpYyBncmlkOiBUW11bXTtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLmdyaWQgPSBbXTtcbiAgfVxuICBkZWxldGUoeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgIGNvbnN0IGNvbCA9IHRoaXMuZ3JpZFt4XTtcbiAgICBpZihjb2wpIGRlbGV0ZSBjb2xbeV07XG4gIH1cbiAgZ2V0KHg6IG51bWJlciwgeTogbnVtYmVyKSA6IFQge1xuICAgIGNvbnN0IGNvbCA9IHRoaXMuZ3JpZFt4XTtcbiAgICBpZihjb2wpIHJldHVybiBjb2xbeV07XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHZhbHVlOiBUKXtcbiAgICBpZighdGhpcy5ncmlkW3hdKSB0aGlzLmdyaWRbeF0gPSBbXTtcbiAgICB0aGlzLmdyaWRbeF1beV0gPSB2YWx1ZTtcbiAgfVxuICBmb3JFYWNoKGNhbGxiYWNrOiBNYXRyaXhDYWxsYmFjazxUPil7XG4gICAgdGhpcy5ncmlkLmZvckVhY2goKGNvbHVtbnMsIHgpID0+IHtcbiAgICAgIGNvbHVtbnMuZm9yRWFjaCgodGlsZSwgeSkgPT4ge1xuICAgICAgICBjYWxsYmFjayh4LCB5LCB0aWxlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3Ige1xuICBwdWJsaWMgeDogbnVtYmVyO1xuICBwdWJsaWMgeTogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIgPSAwLCB5OiBudW1iZXIgPSAwKXtcbiAgICB0aGlzLnNldCh4LCB5KTtcbiAgfVxuICBjb3B5KHNvdXJjZTogVmVjdG9yKXtcbiAgICB0aGlzLnNldChzb3VyY2UueCwgc291cmNlLnkpO1xuICB9XG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG59IiwiaW1wb3J0IE1hcmlvIGZyb20gXCIuL2VudGl0aWVzL01hcmlvXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuL0xldmVsXCI7XG5pbXBvcnQgUGxheWVyIGZyb20gXCIuL3RyYWl0cy9QbGF5ZXJcIjtcbmltcG9ydCBQbGF5ZXJDb250cm9sbGVyIGZyb20gXCIuL3RyYWl0cy9QbGF5ZXJDb250cm9sbGVyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQbGF5ZXJFbnYocGxheWVyOiBNYXJpbykgOiBFbnRpdHkge1xuICBjb25zdCBlbnYgPSBuZXcgRW50aXR5KCk7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgUGxheWVyQ29udHJvbGxlcigpO1xuICBjb250cm9sbGVyLmNoZWNrcG9pbnQuc2V0KDY0LCA2NCk7XG4gIGNvbnRyb2xsZXIuc2V0UGxheWVyKHBsYXllcik7XG4gIGVudi5hZGRUcmFpdCgnY29udHJvbGxlcicsIGNvbnRyb2xsZXIpO1xuICByZXR1cm4gZW52O1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIGZpbmRQbGF5ZXJzKGxldmVsOiBMZXZlbCkgOiBHZW5lcmF0b3I8RW50aXR5PiB7XG4gIGZvcihjb25zdCBlbnRpdHkgb2YgbGV2ZWwuZW50aXRpZXMpe1xuICAgIGlmKGVudGl0eS5nZXRUcmFpdCgncGxheWVyJykgaW5zdGFuY2VvZiBQbGF5ZXIpIHlpZWxkIGVudGl0eTtcbiAgfVxufSIsImltcG9ydCB7IFNpZGVzIH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgVGlsZUNvbGxpc2lvbkNvbnRleHQgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmZ1bmN0aW9uIGhhbmRsZVgodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIG1hdGNoIH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDtcbiAgaWYoZW50aXR5LnZlbC54ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5yaWdodCA+IG1hdGNoLngxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5SSUdIVCwgbWF0Y2gpO1xuICAgIH1cbiAgfWVsc2UgaWYoZW50aXR5LnZlbC54IDwgMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5sZWZ0IDwgbWF0Y2gueDIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLkxFRlQsIG1hdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlWSh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2gsIHJlc29sdmVyLCBnYW1lQ29udGV4dCB9ID0gdGlsZUNvbGxpc2lvbkNvbnRleHQ7IFxuXG4gIGlmKGVudGl0eS52ZWwueSA+IDApe1xuICAgIGlmKGVudGl0eS5ib3VuZHMuYm90dG9tID4gbWF0Y2gueTEpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLkJPVFRPTSwgbWF0Y2gpO1xuICAgIH1cbiAgfWVsc2UgaWYoZW50aXR5LnZlbC55IDwgMCl7XG4gICAgaWYoZW50aXR5LmdldFRyYWl0KCdwbGF5ZXInKSl7XG4gICAgICBjb25zdCBncmlkID0gcmVzb2x2ZXIubWF0cml4O1xuICAgICAgZ3JpZC5kZWxldGUobWF0Y2guaW5kZXhYLCBtYXRjaC5pbmRleFkpO1xuICAgICAgY29uc3QgZ29vbWJhID0gZ2FtZUNvbnRleHQuZW50aXR5RmFjdG9yeS5nb29tYmEoKTtcbiAgICAgIGdvb21iYS5wb3Muc2V0KGVudGl0eS5wb3MueCwgbWF0Y2gueTEpO1xuICAgICAgZ29vbWJhLnZlbC5zZXQoNTAsIC00MDApO1xuICAgICAgZ2FtZUNvbnRleHQubGV2ZWwuZW50aXRpZXMuYWRkKGdvb21iYSk7XG4gICAgfVxuICAgIGlmKGVudGl0eS5ib3VuZHMudG9wIDwgbWF0Y2gueTIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlRPUCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYnJpY2sgPSBbIGhhbmRsZVgsIGhhbmRsZVkgXTsiLCJpbXBvcnQgeyBTaWRlcyB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IFRpbGVDb2xsaXNpb25Db250ZXh0IH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5mdW5jdGlvbiBoYW5kbGVYKHRpbGVDb2xsaXNpb25Db250ZXh0OiBUaWxlQ29sbGlzaW9uQ29udGV4dCl7XG4gIGNvbnN0IHsgZW50aXR5LCBtYXRjaCB9ID0gdGlsZUNvbGxpc2lvbkNvbnRleHQ7XG4gIGlmKGVudGl0eS52ZWwueCA+IDApe1xuICAgIGlmKGVudGl0eS5ib3VuZHMucmlnaHQgPiBtYXRjaC54MSl7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuUklHSFQsIG1hdGNoKTtcbiAgICB9XG4gIH1lbHNlIGlmKGVudGl0eS52ZWwueCA8IDApe1xuICAgIGlmKGVudGl0eS5ib3VuZHMubGVmdCA8IG1hdGNoLngyKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5MRUZULCBtYXRjaCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVkodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIG1hdGNoIH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDtcbiAgaWYoZW50aXR5LnZlbC55ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5ib3R0b20gPiBtYXRjaC55MSl7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuQk9UVE9NLCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnkgPCAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLnRvcCA8IG1hdGNoLnkyKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5UT1AsIG1hdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdyb3VuZCA9IFsgaGFuZGxlWCwgaGFuZGxlWSBdOyIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwsIHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxudHlwZSBFbWl0dGVyQ2FsbGJhY2sgPSAoZW50aXR5OiBFbnRpdHksIGxldmVsOiBMZXZlbCkgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW1pdHRlciBleHRlbmRzIFRyYWl0IHtcbiAgcHJpdmF0ZSBjb29sZG93bjogbnVtYmVyID0gMjtcbiAgcHVibGljIGludGVydmFsOiBudW1iZXIgPSAyO1xuICBwdWJsaWMgZW1pdHRlcnM6IEVtaXR0ZXJDYWxsYmFja1tdID0gW107XG5cbiAgZW1pdChlbnRpdHk6IEVudGl0eSwgbGV2ZWw6IExldmVsKXtcbiAgICBmb3IoY29uc3QgZW1pdHRlciBvZiB0aGlzLmVtaXR0ZXJzKXtcbiAgICAgIGVtaXR0ZXIoZW50aXR5LCBsZXZlbCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0LCBsZXZlbCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgdGhpcy5jb29sZG93biAtPSBkdDtcbiAgICBpZih0aGlzLmNvb2xkb3duIDwgMCl7XG4gICAgICB0aGlzLmVtaXQoZW50aXR5LCBsZXZlbCk7XG4gICAgICB0aGlzLmNvb2xkb3duID0gdGhpcy5pbnRlcnZhbDtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCBKdW1wIGZyb20gXCIuL0p1bXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR28gZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBkaXI6IG51bWJlcjtcbiAgcHJpdmF0ZSBhY2NlbGVyYXRpb246IG51bWJlcjtcbiAgcHJpdmF0ZSBkZWNlbGVyYXRpb246IG51bWJlcjtcbiAgcHJpdmF0ZSBmcmljdGlvbjogbnVtYmVyO1xuICBwdWJsaWMgZGlzdGFuY2U6IG51bWJlcjtcbiAgcHVibGljIGhlYWRpbmc6IG51bWJlcjtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZGlyID0gMDtcbiAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IDQwMDtcbiAgICB0aGlzLmRlY2VsZXJhdGlvbiA9IDMwMDtcbiAgICB0aGlzLmZyaWN0aW9uID0gMS81MDAwO1xuICAgIHRoaXMuZGlzdGFuY2UgPSAwO1xuICAgIHRoaXMuaGVhZGluZyA9IDE7XG4gIH1cblxuICBzZXQgZHJhZyhmcmljdGlvbjogbnVtYmVyKXsgdGhpcy5mcmljdGlvbiA9IGZyaWN0aW9uOyB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpe1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuICAgIGNvbnN0IGFic1ggPSBNYXRoLmFicyhlbnRpdHkudmVsLngpO1xuXG4gICAgaWYodGhpcy5kaXIgIT09IDApe1xuICAgICAgZW50aXR5LnZlbC54ICs9IHRoaXMuYWNjZWxlcmF0aW9uICogZHQgKiB0aGlzLmRpcjtcblxuICAgICAgY29uc3QganVtcCA9IGVudGl0eS5nZXRUcmFpdCgnanVtcCcpO1xuICAgICAgaWYoanVtcCl7XG4gICAgICAgIGlmKGp1bXAgaW5zdGFuY2VvZiBKdW1wICYmICFqdW1wLmZhbGxpbmcpe1xuICAgICAgICAgIHRoaXMuaGVhZGluZyA9IHRoaXMuZGlyO1xuICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gdGhpcy5kaXI7XG4gICAgICB9XG4gICAgfWVsc2UgaWYoZW50aXR5LnZlbC54ICE9PSAwKXtcbiAgICAgIGNvbnN0IGRlY2VsID0gTWF0aC5taW4oYWJzWCwgdGhpcy5kZWNlbGVyYXRpb24gKiBkdCk7XG4gICAgICBlbnRpdHkudmVsLnggKz0gZGVjZWwgKiAoZW50aXR5LnZlbC54ID4gMCA/IC0xIDogMSk7XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLmRpc3RhbmNlID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCBkcmFnID0gdGhpcy5mcmljdGlvbiAqIGVudGl0eS52ZWwueCAqIGFic1g7XG4gICAgZW50aXR5LnZlbC54IC09IGRyYWc7XG4gICAgXG4gICAgdGhpcy5kaXN0YW5jZSArPSBhYnNYICogZHQ7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3Jhdml0eSBleHRlbmRzIFRyYWl0IHtcbiAgcHJpdmF0ZSBncmF2aXR5OiBudW1iZXIgPSAxNTAwO1xuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuXG4gICAgZW50aXR5LnZlbC55ICs9IHRoaXMuZ3Jhdml0eSAqIGR0O1xuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBTaWRlcywgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5jb25zdCBTUEVFRF9CT09TVCA9IDAuMztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSnVtcCBleHRlbmRzIFRyYWl0IHtcbiAgcHJpdmF0ZSBkdXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIHZlbG9jaXR5OiBudW1iZXI7XG4gIHByaXZhdGUgZW5nYWdlVGltZTogbnVtYmVyO1xuICBwcml2YXRlIHJlYWR5OiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBncmFjZVRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBncmFjZUR1cmF0aW9uOiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmR1cmF0aW9uID0gMC4zO1xuICAgIHRoaXMudmVsb2NpdHkgPSAyMDA7XG4gICAgdGhpcy5lbmdhZ2VUaW1lID0gMDtcbiAgICB0aGlzLnJlYWR5ID0gMDtcblxuICAgIHRoaXMuZ3JhY2VUaW1lID0gMDtcbiAgICB0aGlzLmdyYWNlRHVyYXRpb24gPSAwLjE7XG4gIH1cbiAgcHVibGljIGdldCBmYWxsaW5nKCkgOiBib29sZWFuIHsgcmV0dXJuIHRoaXMucmVhZHkgPCAwOyB9XG4gIHN0YXJ0KCl7XG4gICAgdGhpcy5ncmFjZVRpbWUgPSB0aGlzLmdyYWNlRHVyYXRpb247XG4gIH1cbiAgY2FuY2VsKCl7XG4gICAgdGhpcy5lbmdhZ2VUaW1lID0gMDtcbiAgICB0aGlzLmdyYWNlVGltZSA9IDA7XG4gIH1cbiAgb2JzdHJ1Y3QoZW50aXR5OiBFbnRpdHksIHNpZGU6IFNpZGVzKXtcbiAgICBpZihzaWRlID09PSBTaWRlcy5CT1RUT00pIHRoaXMucmVhZHkgPSAxO1xuICAgIGlmKHNpZGUgPT09IFNpZGVzLlRPUCkgdGhpcy5jYW5jZWwoKTtcbiAgfVxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgXG4gICAgaWYodGhpcy5ncmFjZVRpbWUgPiAwKXtcbiAgICAgIGlmKHRoaXMucmVhZHkgPiAwKXtcbiAgICAgICAgZW50aXR5LnNvdW5kcy5hZGQoJ2p1bXAnKTtcbiAgICAgICAgdGhpcy5lbmdhZ2VUaW1lID0gdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgdGhpcy5ncmFjZVRpbWUgPSAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdyYWNlVGltZSAtPSBkdDtcbiAgICB9XG5cbiAgICBpZih0aGlzLmVuZ2FnZVRpbWUgPiAwKXtcbiAgICAgIGVudGl0eS52ZWwueSA9IC0odGhpcy52ZWxvY2l0eSArIE1hdGguYWJzKGVudGl0eS52ZWwueCkgKiBTUEVFRF9CT09TVCk7XG4gICAgICB0aGlzLmVuZ2FnZVRpbWUgLT0gZHQ7XG4gICAgfVxuXG4gICAgdGhpcy5yZWFkeS0tO1xuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtpbGxhYmxlIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgZGVhZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgcmVtb3ZlQWZ0ZXI6IG51bWJlciA9IDI7XG4gIHByaXZhdGUgZGVhZFRpbWU6IG51bWJlciA9IDA7XG5cbiAga2lsbCgpe1xuICAgIHRoaXMucXVldWUoKCkgPT4gdGhpcy5kZWFkID0gdHJ1ZSk7XG4gIH1cblxuICByZXZpdmUoKXtcbiAgICB0aGlzLmRlYWQgPSBmYWxzZTtcbiAgICB0aGlzLmRlYWRUaW1lID0gMDtcbiAgfVxuXG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCwgbGV2ZWwgfSA9IGdhbWVDb250ZXh0O1xuXG4gICAgaWYodGhpcy5kZWFkKXtcbiAgICAgIHRoaXMuZGVhZFRpbWUgKz0gZHQ7XG4gICAgICBpZih0aGlzLmRlYWRUaW1lID4gdGhpcy5yZW1vdmVBZnRlcil7XG4gICAgICAgIHRoaXMucXVldWUoKCkgPT4gbGV2ZWwuZW50aXRpZXMuZGVsZXRlKGVudGl0eSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbFRpbWVyIGV4dGVuZHMgVHJhaXQge1xuICBzdGF0aWMgVElNRVJfSFVSUlkgPSBTeW1ib2woJ3RpbWVyLmh1cnJ5Jyk7XG4gIHN0YXRpYyBUSU1FUl9PS0FZID0gU3ltYm9sKCd0aW1lci5va2F5Jyk7XG5cbiAgcHJpdmF0ZSB0b3RhbFRpbWU6IG51bWJlciA9IDMwMDtcbiAgcHVibGljIGN1cnJlbnRUaW1lOiBudW1iZXIgPSB0aGlzLnRvdGFsVGltZTtcbiAgcHJpdmF0ZSBodXJyeVRpbWU6IG51bWJlciA9IDEwMDtcbiAgcHJpdmF0ZSBodXJyeUVtaXR0ZWQ6IGJvb2xlYW4gPSBudWxsO1xuXG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCwgbGV2ZWwgfSA9IGdhbWVDb250ZXh0O1xuICAgIHRoaXMuY3VycmVudFRpbWUgLT0gZHQgKiAyO1xuICAgIGlmKHRoaXMuaHVycnlFbWl0dGVkICE9PSB0cnVlICYmIHRoaXMuY3VycmVudFRpbWUgPCB0aGlzLmh1cnJ5VGltZSl7XG4gICAgICBsZXZlbC5ldmVudHMuZW1pdChMZXZlbFRpbWVyLlRJTUVSX0hVUlJZKTtcbiAgICAgIHRoaXMuaHVycnlFbWl0dGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYodGhpcy5odXJyeUVtaXR0ZWQgIT09IGZhbHNlICYmIHRoaXMuY3VycmVudFRpbWUgPiB0aGlzLmh1cnJ5VGltZSl7XG4gICAgICBsZXZlbC5ldmVudHMuZW1pdChMZXZlbFRpbWVyLlRJTUVSX09LQVkpO1xuICAgICAgdGhpcy5odXJyeUVtaXR0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFNpZGVzLCBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlbmR1bHVtV2FsayBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICBwdWJsaWMgc3BlZWQ6IG51bWJlciA9IC0zMDtcbiAgb2JzdHJ1Y3QoZW50aXR5OiBFbnRpdHksIHNpZGU6IFNpZGVzKTogdm9pZCB7XG4gICAgaWYoc2lkZSA9PT0gU2lkZXMuTEVGVCB8fCBzaWRlID09PSBTaWRlcy5SSUdIVClcbiAgICAgIHRoaXMuc3BlZWQgKj0gLTE7XG4gIH1cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBpZih0aGlzLmVuYWJsZWQpIGVudGl0eS52ZWwueCA9IHRoaXMuc3BlZWQ7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGh5c2ljcyBleHRlbmRzIFRyYWl0IHtcbiAgcHJpdmF0ZSBncmF2aXR5OiBudW1iZXIgPSAxNTAwO1xuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgbGV2ZWwsIGR0IH0gPSBnYW1lQ29udGV4dDtcblxuICAgIGVudGl0eS5wb3MueCArPSBlbnRpdHkudmVsLnggKiBkdDtcbiAgICBsZXZlbC50aWxlQ29sbGlkZXIuY2hlY2tYKGVudGl0eSwgZ2FtZUNvbnRleHQpO1xuXG4gICAgZW50aXR5LnBvcy55ICs9IGVudGl0eS52ZWwueSAqIGR0O1xuICAgIGxldmVsLnRpbGVDb2xsaWRlci5jaGVja1koZW50aXR5LCBnYW1lQ29udGV4dCk7XG5cbiAgICBlbnRpdHkudmVsLnkgKz0gdGhpcy5ncmF2aXR5ICogZHQ7XG4gIH1cbn0iLCJpbXBvcnQgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBTdG9tcGVyIGZyb20gXCIuL1N0b21wZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgbmFtZTogc3RyaW5nID0gJ04vQSc7XG4gIHB1YmxpYyBjb2luczogbnVtYmVyID0gMDtcbiAgcHVibGljIGxpdmVzOiBudW1iZXIgPSAzO1xuICBwdWJsaWMgc2NvcmU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5saXN0ZW4oU3RvbXBlci5TVE9NUCwgKCkgPT4ge1xuICAgICAgdGhpcy5zY29yZSArPSAxMDA7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8gZnJvbSBcIi4uL2VudGl0aWVzL01hcmlvXCI7XG5pbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9tYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckNvbnRyb2xsZXIgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBjaGVja3BvaW50OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCk7XG4gIHB1YmxpYyBwbGF5ZXI6IE1hcmlvID0gbnVsbDtcblxuICBzZXRQbGF5ZXIocGxheWVyOiBNYXJpbyl7XG4gICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgbGV2ZWwgfSA9IGdhbWVDb250ZXh0O1xuXG4gICAgaWYodGhpcy5wbGF5ZXIgJiYgIWxldmVsLmVudGl0aWVzLmhhcyh0aGlzLnBsYXllcikpe1xuICAgICAgdGhpcy5wbGF5ZXIua2lsbGFibGUucmV2aXZlKCk7XG4gICAgICB0aGlzLnBsYXllci5wb3Muc2V0KHRoaXMuY2hlY2twb2ludC54LCB0aGlzLmNoZWNrcG9pbnQueSk7XG4gICAgICBsZXZlbC5lbnRpdGllcy5hZGQodGhpcy5wbGF5ZXIpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgU2lkZXMsIFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgUmVzb2x2ZWRUaWxlIH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2xpZCBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIG9ic3RydWN0czogYm9vbGVhbiA9IHRydWU7XG4gIG9ic3RydWN0KGVudGl0eTogRW50aXR5LCBzaWRlOiBTaWRlcywgbWF0Y2g6IFJlc29sdmVkVGlsZSl7XG4gICAgaWYoIXRoaXMub2JzdHJ1Y3RzKSByZXR1cm47XG4gICAgc3dpdGNoKHNpZGUpe1xuICAgICAgY2FzZSBTaWRlcy5SSUdIVDoge1xuICAgICAgICBlbnRpdHkuYm91bmRzLmxlZnQgPSBtYXRjaC54MSAtIGVudGl0eS5zaXplLng7XG4gICAgICAgIGVudGl0eS52ZWwueCA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5MRUZUOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCA9IG1hdGNoLngyO1xuICAgICAgICBlbnRpdHkudmVsLnggPSAwO1xuICAgICAgfSBicmVhaztcbiAgICAgIGNhc2UgU2lkZXMuQk9UVE9NOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMudG9wID0gbWF0Y2gueTEgLSBlbnRpdHkuc2l6ZS55O1xuICAgICAgICBlbnRpdHkudmVsLnkgPSAwO1xuICAgICAgfSBicmVhaztcbiAgICAgIGNhc2UgU2lkZXMuVE9QOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMudG9wID0gbWF0Y2gueTI7XG4gICAgICAgIGVudGl0eS52ZWwueSA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4vS2lsbGFibGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvbXBlciBleHRlbmRzIFRyYWl0IHtcbiAgc3RhdGljIFNUT01QID0gU3ltYm9sKCdzdG9tcCcpO1xuICBwcml2YXRlIGJvdW5kU3BlZWQ6IG51bWJlciA9IDQwMDtcbiAgXG4gIHByaXZhdGUgYm91bmNlKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSl7XG4gICAgdXMuYm91bmRzLmJvdHRvbSA9IHRoZW0uYm91bmRzLnRvcDtcbiAgICB1cy52ZWwueSA9IC10aGlzLmJvdW5kU3BlZWRcbiAgfVxuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IGtpbGxhYmxlID0gdGhlbS5nZXRUcmFpdCgna2lsbGFibGUnKTtcbiAgICBpZigha2lsbGFibGUgfHwgIShraWxsYWJsZSBpbnN0YW5jZW9mIEtpbGxhYmxlKSB8fCBraWxsYWJsZS5kZWFkKSByZXR1cm47XG4gICAgXG4gICAgaWYodXMudmVsLnkgPiB0aGVtLnZlbC55KXtcbiAgICAgIHRoaXMucXVldWUoKCkgPT4gdGhpcy5ib3VuY2UodXMsIHRoZW0pKTtcbiAgICAgIHVzLnNvdW5kcy5hZGQoJ3N0b21wJyk7XG4gICAgICB1cy5ldmVudHMuZW1pdChTdG9tcGVyLlNUT01QLCB1cywgdGhlbSk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlbG9jaXR5IGV4dGVuZHMgVHJhaXQge1xuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQgfSA9IGdhbWVDb250ZXh0O1xuICAgIGVudGl0eS5wb3MueCArPSBlbnRpdHkudmVsLnggKiBkdDtcbiAgICBlbnRpdHkucG9zLnkgKz0gZW50aXR5LnZlbC55ICogZHQ7XG4gIH1cbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCBUaW1lciBmcm9tICcuL1RpbWVyJztcbmltcG9ydCB7IHNldHVwS2V5Ym9hcmQgfSBmcm9tICcuL2lucHV0JztcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9DYW1lcmEnO1xuaW1wb3J0IHsgY3JlYXRlTGV2ZWxMb2FkZXIgfSBmcm9tICcuL2xvYWRlcnMvbGV2ZWwnO1xuaW1wb3J0IHsgbG9hZEVudGl0aWVzIH0gZnJvbSAnLi9lbnRpdGllcyc7XG5pbXBvcnQgUGxheWVyQ29udHJvbGxlciBmcm9tICcuL3RyYWl0cy9QbGF5ZXJDb250cm9sbGVyJztcbmltcG9ydCB7IGNyZWF0ZUNvbGxpc2lvbkxheWVyIH0gZnJvbSAnLi9sYXllcnMvY29sbGlzaW9uJztcbmltcG9ydCB7IGxvYWRGb250IH0gZnJvbSAnLi9sb2FkZXJzL2ZvbnQnO1xuaW1wb3J0IHsgY3JlYXRlRGFzaGJvYXJkTGF5ZXIgfSBmcm9tICcuL2xheWVycy9kYXNoYm9hcmQnO1xuaW1wb3J0IHsgY3JlYXRlUGxheWVyRW52IH0gZnJvbSAnLi9wbGF5ZXInO1xuXG5hc3luYyBmdW5jdGlvbiBtYWluKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpe1xuICBjb25zdCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcblxuICBjb25zdCBbZW50aXR5RmFjdG9yeSwgZm9udF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgbG9hZEVudGl0aWVzKGF1ZGlvQ29udGV4dCksXG4gICAgbG9hZEZvbnQoKSxcbiAgXSk7XG5cbiAgY29uc3QgbG9hZExldmVsID0gYXdhaXQgY3JlYXRlTGV2ZWxMb2FkZXIoZW50aXR5RmFjdG9yeSk7XG4gIGNvbnN0IGxldmVsID0gYXdhaXQgbG9hZExldmVsKCcxLTEnKTtcbiAgXG4gIGNvbnN0IGNhbWVyYSA9IG5ldyBDYW1lcmEoKTtcbiAgXG4gIGNvbnN0IG1hcmlvID0gZW50aXR5RmFjdG9yeS5tYXJpbygpO1xuICBtYXJpby5wbGF5ZXIubmFtZSA9ICdNQVJJTyc7XG4gIGxldmVsLmVudGl0aWVzLmFkZChtYXJpbyk7XG5cbiAgY29uc3QgcGxheWVyRW52ID0gY3JlYXRlUGxheWVyRW52KG1hcmlvKTtcbiAgbGV2ZWwuZW50aXRpZXMuYWRkKHBsYXllckVudik7XG5cbiAgbGV2ZWwuY29tcC5hZGQoY3JlYXRlQ29sbGlzaW9uTGF5ZXIobGV2ZWwpKTtcbiAgbGV2ZWwuY29tcC5hZGQoY3JlYXRlRGFzaGJvYXJkTGF5ZXIoZm9udCwgbGV2ZWwpKTtcblxuICBjb25zdCBpbnB1dCA9IHNldHVwS2V5Ym9hcmQobWFyaW8pO1xuICBpbnB1dC5saXN0ZW5Ubyh3aW5kb3cpO1xuXG4gIGNvbnN0IHRpbWVyID0gbmV3IFRpbWVyKCk7XG5cbiAgdGltZXIudXBkYXRlID0gKGR0KSA9PiB7XG4gICAgbGV2ZWwudXBkYXRlKGR0LCBhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnkpO1xuXG4gICAgY2FtZXJhLnBvcy54ID0gTWF0aC5tYXgoMCwgbWFyaW8ucG9zLnggLSAxMDApO1xuXG4gICAgbGV2ZWwuY29tcC5kcmF3KGN0eCwgY2FtZXJhKTtcbiAgfVxuXG4gIHRpbWVyLnN0YXJ0KCk7XG59XG5cbmNvbnN0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMjc2NyZWVuJyk7XG5cbmNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydCk7XG4gIG1haW4oY2FudmFzKTtcbn1cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0YXJ0KTtcbiJdLCJuYW1lcyI6WyJBdWRpb0JvYXJkIiwiYnVmZmVycyIsIk1hcCIsImFkZCIsIm5hbWUiLCJidWZmZXIiLCJ0aGlzIiwic2V0IiwicGxheSIsImNvbnRleHQiLCJnZXQiLCJzb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJzdGFydCIsIkJvdW5kaW5nQm94IiwiY29uc3RydWN0b3IiLCJwb3MiLCJzaXplIiwib2Zmc2V0Iiwib3ZlcmxhcHMiLCJib3giLCJib3R0b20iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJ5IiwieCIsIkNhbWVyYSIsIlZlY3RvciIsIkNvbXBvc2l0b3IiLCJsYXllcnMiLCJsYXllciIsInB1c2giLCJkcmF3IiwiY3R4IiwiY2FtZXJhIiwiZm9yRWFjaCIsIlNpZGVzIiwiVHJhaXQiLCJsaXN0ZW5lcnMiLCJjb2xsaWRlcyIsInVzIiwidGhlbSIsImZpbmFsaXplIiwiZW50aXR5IiwiZmlsdGVyIiwibGlzdGVuZXIiLCJldmVudHMiLCJwcm9jZXNzIiwiY2FsbGJhY2siLCJjb3VudCIsImxpc3RlbiIsIkluZmluaXR5Iiwib2JzdHJ1Y3QiLCJzaWRlIiwibWF0Y2giLCJxdWV1ZSIsInRhc2siLCJUQVNLIiwidXBkYXRlIiwiZ2FtZUNvbnRleHQiLCJTeW1ib2wiLCJFbnRpdHkiLCJhdWRpb0JvYXJkIiwic291bmRzIiwiU2V0IiwidmVsIiwibGlmZXRpbWUiLCJ0cmFpdHMiLCJib3VuZHMiLCJhZGRUcmFpdCIsInRyYWl0IiwiY2FuZGlkYXRlIiwiZW1pdCIsImNsZWFyIiwiZ2V0VHJhaXQiLCJwbGF5U291bmRzIiwiYXVkaW9Db250ZXh0IiwiZHQiLCJFbnRpdHlDb2xsaWRlciIsImVudGl0aWVzIiwiY2hlY2siLCJzdWJqZWN0IiwiRXZlbnRCdWZmZXIiLCJsZW5ndGgiLCJhcmdzIiwiZXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJjYWxsYmFja3MiLCJLZXlTdGF0ZSIsIktleWJvYXJkU3RhdGUiLCJrZXlTdGF0ZXMiLCJrZXlNYXAiLCJhZGRNYXBwaW5nIiwiY29kZSIsImhhbmRsZUV2ZW50IiwidHlwZSIsImhhcyIsInByZXZlbnREZWZhdWx0Iiwia2V5U3RhdGUiLCJQUkVTU0VEIiwiUkVMRUFTRUQiLCJsaXN0ZW5UbyIsIndpbmRvdyIsImV2ZW50TmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJMZXZlbCIsIm11c2ljIiwiY29tcCIsInRpbGVDb2xsaWRlciIsImVudGl0eUNvbGxpZGVyIiwidGltZSIsImVudGl0eUZhY3RvcnkiLCJsZXZlbCIsIk11c2ljQ29udHJvbGxlciIsIm11c2ljUGxheWVyIiwic2V0UGxheWVyIiwicGxheWVyIiwicGxheVRoZW1lIiwic3BlZWQiLCJwbGF5YmFja1JhdGUiLCJwbGF5SHVycnlUaGVtZSIsImF1ZGlvIiwibG9vcCIsIm9uZW5kZWQiLCJNdXNpY1BsYXllciIsInRyYWNrcyIsImFkZFRyYWNrIiwidHJhY2siLCJBdWRpbyIsInZhbHVlcyIsInBhdXNlIiwiU3ByaXRlU2hlZXQiLCJpbWFnZSIsIndpZHRoIiwiaGVpZ2h0IiwiZnJhbWVzIiwiYW5pbWF0aW9ucyIsImdldEFuaW1hdGlvbiIsImRlZmluZUFuaW0iLCJhbmltYXRpb24iLCJkZWZpbmUiLCJtYXAiLCJmbGlwIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsImNhbnZhcyIsInNldEF0dHJpYnV0ZSIsInNjYWxlIiwidHJhbnNsYXRlIiwiZHJhd0ltYWdlIiwiZGVmaW5lVGlsZSIsImZyYW1lIiwiY29uc29sZSIsIndhcm4iLCJkcmF3QW5pbSIsImRpc3RhbmNlIiwiZHJhd1RpbGUiLCJoYW5kbGVycyIsImJyaWNrIiwiZ3JvdW5kIiwiVGlsZVJlc29sdmVyIiwibWF0cml4IiwidGlsZVNpemUiLCJ0b0luZGV4IiwiTWF0aCIsImZsb29yIiwidG9JbmRleFJhbmdlIiwicG9zMSIsInBvczIiLCJwTWF4IiwiY2VpbCIsInJhbmdlIiwiZ2V0QnlJbmRleCIsInRpbGUiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImluZGV4WCIsImluZGV4WSIsInNlYXJjaEJ5UG9zaXRpb24iLCJzZWFyY2hCeVJhbmdlIiwibWF0Y2hlcyIsIlRpbGVDb2xsaWRlciIsInJlc29sdmVycyIsImFkZEdyaWQiLCJ0aWxlTWF0cml4IiwiY2hlY2tYIiwicmVzb2x2ZXIiLCJoYW5kbGUiLCJjaGVja1kiLCJpbmRleCIsInRpbGVDb2xsaXNpb25Db250ZXh0IiwiaGFuZGxlciIsIlRpbWVyIiwiZGVsdGFUaW1lIiwicnVubmluZyIsImFjY3VtdWxhdGVkVGltZSIsImxhc3RUaW1lIiwidXBkYXRlUHJveHkiLCJlbnF1ZXVlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY3JlYXRlQW5pbSIsImZyYW1lTGVuIiwibG9hZEVudGl0aWVzIiwiYWRkQXMiLCJmYWN0b3J5IiwiUHJvbWlzZSIsImFsbCIsImxvYWRNYXJpbyIsInRoZW4iLCJsb2FkR29vbWJhIiwibG9hZEtvb3BhIiwibG9hZEJ1bGxldCIsImxvYWRDYW5ub24iLCJCZWhhdmlvciIsImdyYXZpdHkiLCJzdG9tcGVyIiwiQnVsbGV0Iiwia2lsbGFibGUiLCJkZWFkIiwia2lsbCIsInN1cGVyIiwidmVsb2NpdHkiLCJiZWhhdmlvciIsImxvYWRTcHJpdGVTaGVldCIsImNyZWF0ZUJ1bGxldEZhY3RvcnkiLCJzcHJpdGVzIiwiZHJhd0J1bGxldCIsImJ1bGxldCIsIkNhbm5vbiIsImVtaXR0ZXIiLCJsb2FkQXVkaW9Cb2FyZCIsImVtaXRCdWxsZXQiLCJkaXIiLCJmaW5kUGxheWVycyIsImFicyIsImNvcHkiLCJzaWduIiwiY2Fubm9uIiwiaW50ZXJ2YWwiLCJlbWl0dGVycyIsImNyZWF0ZUNhbm5vbkZhY3RvcnkiLCJHb29tYmEiLCJwZW5kdWx1bU1vdmUiLCJwaHlzaWNzIiwic29saWQiLCJjcmVhdGVHb29tYmFGYWN0b3J5Iiwid2Fsa0FuaW0iLCJkcmF3R29vbWJhIiwiZ29vbWJhIiwiS29vcGFTdGF0ZSIsInN0YXRlIiwiV0FMS0lORyIsImhpZGVUaW1lIiwiaGlkZUR1cmF0aW9uIiwicGFuaWNTcGVlZCIsIndhbGtTcGVlZCIsIktvb3BhIiwiaGFuZGxlU3RvbXAiLCJoYW5kbGVOdWRnZSIsIkhJRElORyIsInBhbmljIiwiUEFOSUMiLCJ0cmF2ZWxEaXIiLCJpbXBhY3REaXIiLCJoaWRlIiwib2JzdHJ1Y3RzIiwiZW5hYmxlZCIsInVuaGlkZSIsImNyZWF0ZUtvb3BhRmFjdG9yeSIsIndha2VBbmltIiwiZHJhd0tvb3BhIiwia29vcGEiLCJyb3V0ZUFuaW0iLCJNYXJpbyIsImdvIiwianVtcCIsImRyYWciLCJ0dXJibyIsInJ1bkFuaW0iLCJyb3V0ZUZyYW1lIiwibWFyaW8iLCJmYWxsaW5nIiwiZHJhd01hcmlvIiwiaGVhZGluZyIsInJlbW92ZUFmdGVyIiwiY3JlYXRlTWFyaW9GYWN0b3J5Iiwic2V0dXBLZXlib2FyZCIsImlucHV0IiwiY2FuY2VsIiwiY3JlYXRlQmFja2dyb3VuZExheWVyIiwidGlsZXMiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJzY3JlZW4iLCJkcmF3V2lkdGgiLCJkcmF3RnJvbSIsImRyYXdUbyIsImNsZWFyUmVjdCIsImNvbCIsImdyaWQiLCJyZWRyYXciLCJjcmVhdGVUaWxlQ2FuZGlkYXRlTGF5ZXIiLCJ0aWxlUmVzb2x2ZXIiLCJyZXNvbHZlZFRpbGVzIiwiZ2V0QnlJbmRleE9yaWdpbmFsIiwiY2FsbCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwicmVjdCIsInN0cm9rZSIsImNsb3NlUGF0aCIsImNyZWF0ZUNvbGxpc2lvbkxheWVyIiwiZHJhd1RpbGVDYW5kaWRhdGVzIiwiZHJhd0JvdW5kaW5nQm94ZXMiLCJjcmVhdGVEYXNoYm9hcmRMYXllciIsImZvbnQiLCJMSU5FMSIsIkxJTkUyIiwiZ2V0UGxheWVyVHJhaXQiLCJ0aW1lciIsImdldFRpbWVyVHJhaXQiLCJzY29yZSIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJjb2lucyIsIm1heCIsImN1cnJlbnRUaW1lIiwidG9GaXhlZCIsImNyZWF0ZVNwcml0ZUxheWVyIiwic3ByaXRlQ3R4IiwibG9hZEltYWdlIiwicGF0aCIsInJlc29sdmUiLCJyZWplY3QiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJsb2FkSlNPTiIsImZldGNoIiwicmVzIiwianNvbiIsImxvYWRBdWRpbyIsImNyZWF0ZUF1ZGlvTG9hZGVyIiwiYXVkaW9TaGVldCIsImpvYnMiLCJmeCIsInVybCIsInJlc3BvbnNlIiwiYXJyYXlCdWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJMRVRURVJTIiwiRm9udFNoZWV0Iiwic2hlZXQiLCJ0ZXh0Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJsb2FkRm9udCIsImkiLCJzZXR1cEJlaGF2aW9yIiwiY3JlYXRlVGltZXIiLCJzZXR1cEJhY2tncm91bmRzIiwibGV2ZWxTcGVjIiwicGF0dGVybnMiLCJNYXRyaXgiLCJ3YWxrVGlsZXMiLCJleHBhbmRSYW5nZXMiLCJyYW5nZXMiLCJkZXJpdmVkWCIsImRlcml2ZWRZIiwicGF0dGVybiIsImV4cGFuZFRpbGVzIiwiY3JlYXRlR3JpZCIsImJhY2tncm91bmRMYXllciIsImNyZWF0ZUxldmVsTG9hZGVyIiwic3ByaXRlU2hlZXQiLCJsb2FkTXVzaWNTaGVldCIsIm11c2ljU2hlZXQiLCJjcmVhdGVFbnRpdHkiLCJzcHJpdGVMYXllciIsInNldHVwRW50aXRpZXMiLCJleHBhbmRTcGFuIiwieFN0YXJ0IiwieExlbiIsInlTdGFydCIsInlMZW4iLCJ4RW5kIiwieUVuZCIsImV4cGFuZFJhbmdlIiwiT2JqZWN0IiwiZW50cmllcyIsInNoZWV0U3BlYyIsImltYWdlVVJMIiwidGlsZVciLCJ0aWxlSCIsInRpbGVTcGVjIiwiZGVsZXRlIiwidmFsdWUiLCJjb2x1bW5zIiwiY3JlYXRlUGxheWVyRW52IiwiZW52IiwiY29udHJvbGxlciIsImNoZWNrcG9pbnQiLCJFbWl0dGVyIiwiY29vbGRvd24iLCJHbyIsImFjY2VsZXJhdGlvbiIsImRlY2VsZXJhdGlvbiIsImZyaWN0aW9uIiwiYWJzWCIsImRlY2VsIiwibWluIiwiR3Jhdml0eSIsIkp1bXAiLCJkdXJhdGlvbiIsImVuZ2FnZVRpbWUiLCJyZWFkeSIsImdyYWNlVGltZSIsImdyYWNlRHVyYXRpb24iLCJLaWxsYWJsZSIsImRlYWRUaW1lIiwicmV2aXZlIiwiTGV2ZWxUaW1lciIsInRvdGFsVGltZSIsImh1cnJ5VGltZSIsImh1cnJ5RW1pdHRlZCIsIlRJTUVSX0hVUlJZIiwiVElNRVJfT0tBWSIsIlBlbmR1bHVtV2FsayIsIlBoeXNpY3MiLCJQbGF5ZXIiLCJsaXZlcyIsIlBsYXllckNvbnRyb2xsZXIiLCJTb2xpZCIsIlN0b21wZXIiLCJib3VuZFNwZWVkIiwiYm91bmNlIiwiU1RPTVAiLCJWZWxvY2l0eSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiciIsInRvU3RyaW5nVGFnIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJBdWRpb0NvbnRleHQiLCJsb2FkTGV2ZWwiLCJwbGF5ZXJFbnYiLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==