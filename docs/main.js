/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/AudioBoard.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.buffers=new Map}add(t,e){this.buffers.set(t,e)}play(t,e){const s=this.buffers.get(t);if(!s)return;const i=e.createBufferSource();i.connect(e.destination),i.buffer=s,i.start(0)}}},"./src/BoundingBox.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.pos=t,this.size=e,this.offset=s}overlaps(t){return this.bottom>t.top&&this.top<t.bottom&&this.left<t.right&&this.right>t.left}get bottom(){return this.pos.y+this.size.y+this.offset.y}get top(){return this.pos.y+this.offset.y}get left(){return this.pos.x+this.offset.x}get right(){return this.pos.x+this.size.x+this.offset.x}set bottom(t){this.pos.y=t-(this.size.y+this.offset.y)}set top(t){this.pos.y=t-this.offset.y}set left(t){this.pos.x=t-this.offset.x}set right(t){this.pos.x=t-(this.size.x+this.offset.x)}}},"./src/Camera.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/math.ts");class r{constructor(){this.pos=new i.Vector(0,0),this.size=new i.Vector(256,224)}}},"./src/Compositor.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.layers=[]}add(t){this.layers.push(t)}draw(t,e){this.layers.forEach((s=>s(t,e)))}}},"./src/Entity.ts":(t,e,s)=>{s.r(e),s.d(e,{Sides:()=>i,Trait:()=>o,default:()=>c});var i,r=s("./src/BoundingBox.ts"),n=s("./src/EventBuffer.ts"),a=s("./src/math.ts");!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(i||(i={}));class o{constructor(){this.listeners=[]}collides(t,e){}finalize(t){this.listeners=this.listeners.filter((e=>(t.events.process(e.name,e.callback),--e.count)))}listen(t,e,s=1/0){this.listeners.push({name:t,callback:e,count:s})}obstruct(t,e,s){}queue(t){this.listen(o.TASK,t,1)}update(t,e){}}o.TASK=Symbol("task");class c{constructor(t){this.sounds=new Set,this.events=new n.default,this.pos=new a.Vector,this.size=new a.Vector,this.offset=new a.Vector,this.vel=new a.Vector,this.lifetime=0,this.traits=new Map,this.draw=(t,e)=>{},this.audioBoard=t,this.bounds=new r.default(this.pos,this.size,this.offset)}addTrait(t,e){this.traits.set(t,e)}collides(t){this.traits.forEach((e=>{e.collides(this,t)}))}finalize(){this.events.emit(o.TASK,this),this.traits.forEach((t=>{t.finalize(this)})),this.events.clear()}getTrait(t){return this.traits.get(t)}obstruct(t,e){this.traits.forEach((s=>{s.obstruct(this,t,e)}))}playSounds(t,e){this.sounds.forEach((s=>{t.play(s,e)})),this.sounds.clear()}update(t){this.traits.forEach((e=>{e.update(this,t)})),this.playSounds(this.audioBoard,t.audioContext),this.lifetime+=t.dt}}},"./src/EntityCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t){this.entities=t}check(t){this.entities.forEach((e=>{t!==e&&t.bounds.overlaps(e.bounds)&&t.collides(e)}))}}},"./src/EventBuffer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.events=[]}clear(){this.events.length=0}emit(t,...e){const s={name:t,args:e};this.events.push(s)}process(t,e){this.events.forEach((s=>{s.name===t&&e(...s.args)}))}}},"./src/EventEmitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.listeners=new Map}listen(t,e){const s=this.listeners.get(t)||[];s.push(e),this.listeners.set(t,s)}emit(t,...e){const s=this.listeners.get(t);s&&s.forEach((t=>{t(...e)}))}}},"./src/KeyboardState.ts":(t,e,s)=>{var i;s.r(e),s.d(e,{KeyState:()=>i,default:()=>r}),function(t){t[t.RELEASED=0]="RELEASED",t[t.PRESSED=1]="PRESSED"}(i||(i={}));class r{constructor(){this.keyStates=new Map,this.keyMap=new Map}addMapping(t,e){this.keyMap.set(t,e)}handleEvent(t){const{code:e,type:s}=t;if(!this.keyMap.has(e))return;t.preventDefault();const r="keydown"===s?i.PRESSED:i.RELEASED;this.keyStates.get(e)!==r&&(this.keyStates.set(e,r),this.keyMap.get(e)(r))}listenTo(t){["keydown","keyup"].forEach((e=>{t.addEventListener(e,(t=>{this.handleEvent(t)}))}))}}},"./src/Level.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var i=s("./src/Compositor.ts"),r=s("./src/EntityCollider.ts"),n=s("./src/EventEmitter.ts"),a=s("./src/MusicController.ts"),o=s("./src/TileCollider.ts");class c{constructor(){this.events=new n.default,this.music=new a.default,this.comp=new i.default,this.entities=new Set,this.tileCollider=new o.default,this.entityCollider=new r.default(this.entities),this.time=0}update(t,e,s){this.entities.forEach((i=>{i.update({dt:t,level:this,audioContext:e,entityFactory:s})})),this.entities.forEach((t=>{this.entityCollider.check(t)})),this.entities.forEach((t=>{t.finalize()})),this.time+=t}}},"./src/MusicController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.musicPlayer=null}setPlayer(t){this.musicPlayer=t}playTheme(t=1){this.musicPlayer.play("main").playbackRate=t}playHurryTheme(){const t=this.musicPlayer.play("hurry");t.loop=!1,t.onended=()=>this.playTheme(1.3)}}},"./src/MusicPlayer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(){this.tracks=new Map}addTrack(t,e){const s=new Audio(e);s.loop=!0,this.tracks.set(t,s)}play(t){for(const t of this.tracks.values())t.pause();const e=this.tracks.get(t);return e&&e.play(),e}}},"./src/SpriteSheet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t,e,s){this.image=t,this.width=e,this.height=s,this.frames=new Map,this.animations=new Map}getAnimation(t){return this.animations.get(t)}defineAnim(t,e){this.animations.set(t,e)}define(t,e,s,i,r){const n=[!1,!0].map((t=>{const n=document.createElement("canvas").getContext("2d");return n.canvas.setAttribute("width",`${this.width}px`),n.canvas.setAttribute("height",`${this.height}px`),t&&(n.scale(-1,1),n.translate(-i,0)),n.drawImage(this.image,e,s,i,r,0,0,i,r),n.canvas}));this.frames.set(t,n)}defineTile(t,e,s){this.define(t,e*this.width,s*this.height,this.width,this.height)}draw(t,e,s,i,r=!1){const n=this.frames.get(t);n||console.warn(`Frame ${t} is not defined!`),e.drawImage(n[r?1:0],s,i)}drawAnim(t,e,s,i,r){const n=this.animations.get(t);if(!n)return this.drawTile(t,e,s,i);this.drawTile(n(r),e,s,i)}drawTile(t,e,s,i,r=!1){this.draw(t,e,s*this.width,i*this.height,r)}}},"./src/TileCollider.ts":(t,e,s)=>{s.r(e),s.d(e,{TileResolver:()=>o,default:()=>c});var i=s("./src/tiles/brick.ts"),r=s("./src/tiles/ground.ts"),n=s("./src/tiles/coin.ts");const a={brick:i.brick,ground:r.ground,coin:n.coin};class o{constructor(t,e=16){this.matrix=t,this.tileSize=e}toIndex(t){return Math.floor(t/this.tileSize)}toIndexRange(t,e){const s=Math.ceil(e/this.tileSize)*this.tileSize,i=[];let r=t;do{i.push(this.toIndex(r)),r+=this.tileSize}while(r<s);return i}getByIndex(t,e){const s=this.matrix.get(t,e);return s?{tile:s,x1:t*this.tileSize,x2:(t+1)*this.tileSize,y1:e*this.tileSize,y2:(e+1)*this.tileSize,indexX:t,indexY:e}:null}searchByPosition(t,e){return this.getByIndex(this.toIndex(t),this.toIndex(e))}searchByRange(t,e,s,i){const r=[];return this.toIndexRange(t,e).forEach((t=>{this.toIndexRange(s,i).forEach((e=>{const s=this.getByIndex(t,e);s&&r.push(s)}))})),r}}class c{constructor(){this.resolvers=[]}addGrid(t){this.resolvers.push(new o(t))}checkX(t,e){if(0===t.vel.x)return;let s=t.bounds.left+(t.vel.x>0?t.size.x:0);for(const i of this.resolvers){i.searchByRange(s,s,t.bounds.top,t.bounds.bottom).forEach((s=>{this.handle(0,{entity:t,match:s,resolver:i,gameContext:e})}))}}checkY(t,e){if(0===t.vel.y)return;let s=t.bounds.top+(t.vel.y>0?t.size.y:0);for(const i of this.resolvers){i.searchByRange(t.bounds.left,t.bounds.right,s,s).forEach((s=>{this.handle(1,{entity:t,match:s,resolver:i,gameContext:e})}))}}handle(t,e){const s=a[e.match.tile.type];s&&s[t]&&s[t](e)}}},"./src/Timer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});class i{constructor(t=1/60){this.running=!1;let e=0,s=0;this.updateProxy=(i=0)=>{for(e+=(i-s)/1e3,e>1&&(e=1);e>t;)this.update(t),e-=t;s=i,this.enqueue()}}enqueue(){requestAnimationFrame(this.updateProxy)}start(){this.running||(this.running=!0,this.enqueue())}}},"./src/anim.ts":(t,e,s)=>{function i(t,e){return function(s){return t[Math.floor(s/e)%t.length]}}s.r(e),s.d(e,{createAnim:()=>i})},"./src/entities.ts":(t,e,s)=>{s.r(e),s.d(e,{loadEntities:()=>c});var i=s("./src/entities/Mario.ts"),r=s("./src/entities/Goomba.ts"),n=s("./src/entities/Koopa.ts"),a=s("./src/entities/Bullet.ts"),o=s("./src/entities/Cannon.ts");function c(t){const e={};function s(t){return s=>e[t]=s}return Promise.all([(0,i.loadMario)(t).then(s("mario")),(0,r.loadGoomba)(t).then(s("goomba")),(0,n.loadKoopa)(t).then(s("koopa")),(0,a.loadBullet)(t).then(s("bullet")),(0,o.loadCannon)(t,e).then(s("cannon"))]).then((()=>e))}},"./src/entities/Bullet.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>h,loadBullet:()=>u});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Gravity.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/Stomper.ts"),c=s("./src/traits/Velocity.ts"),l=s("./src/entities/Mario.ts");class d extends i.Trait{constructor(){super(...arguments),this.gravity=new n.default}collides(t,e){const s=e.getTrait("stomper");t instanceof h&&!t.killable.dead&&s instanceof o.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.vel.set(100,-200)):e instanceof l.default&&e.killable.kill())}update(t,e){t instanceof h&&t.killable.dead&&this.gravity.update(t,e)}}class h extends i.default{constructor(){super(),this.addTrait("velocity",this.velocity=new c.default),this.addTrait("bullet",this.behavior=new d),this.addTrait("killable",this.killable=new a.default)}}function u(t){return(0,r.loadSpriteSheet)("bullet").then(f)}function f(t){function e(e){t.draw("bullet",e,0,0,this.vel.x<0)}return function(){const t=new h;return t.size.set(16,16),t.draw=e,t}}},"./src/entities/Cannon.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>o,loadCannon:()=>c});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/player.ts"),a=s("./src/traits/Emitter.ts");class o extends i.default{constructor(t){super(t),this.addTrait("emitter",this.emitter=new a.default),this.size.set(16,14)}}function c(t,e){return(0,r.loadAudioBoard)("cannon",t).then((t=>function(t,e){function s(t,s){if(!(t instanceof o))return;let i;for(const e of(0,n.findPlayers)(s))if(i=e.pos.x-t.pos.x,Math.abs(e.pos.x-t.pos.x)<=30)return;const r=e.bullet();r.pos.copy(t.pos),r.vel.x=80*Math.sign(i),t.sounds.add("shoot"),s.entities.add(r)}return function(){const e=new o(t);return e.emitter.interval=4,e.emitter.emitters.push(s),e}}(t,e)))}},"./src/entities/Goomba.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>u,loadGoomba:()=>f});var i=s("./src/Entity.ts"),r=s("./src/loaders/sprite.ts"),n=s("./src/traits/Killable.ts"),a=s("./src/traits/PendulumMove.ts"),o=s("./src/traits/Physics.ts"),c=s("./src/traits/Solid.ts"),l=s("./src/traits/Stomper.ts"),d=s("./src/entities/Mario.ts");class h extends i.Trait{collides(t,e){const s=e.getTrait("stomper");t instanceof u&&!t.killable.dead&&s instanceof l.default&&(e.vel.y>t.vel.y?(t.killable.kill(),t.pendulumMove.speed=0):e instanceof d.default&&e.killable.kill())}}class u extends i.default{constructor(){super(),this.addTrait("physics",this.physics=new o.default),this.addTrait("solid",this.solid=new c.default),this.addTrait("pendulumMove",this.pendulumMove=new a.default),this.addTrait("goomba",this.behavior=new h),this.addTrait("killable",this.killable=new n.default)}}function f(t){return(0,r.loadSpriteSheet)("goomba").then(p)}function p(t){const e=t.getAnimation("walk");function s(s){var i;t.draw((i=this).killable.dead?"flat":e(i.lifetime),s,0,0)}return function(){const t=new u;return t.size.set(16,16),t.draw=s,t}}},"./src/entities/Koopa.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadKoopa:()=>p});var i,r=s("./src/Entity.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Killable.ts"),o=s("./src/traits/PendulumMove.ts"),c=s("./src/traits/Physics.ts"),l=s("./src/traits/Solid.ts"),d=s("./src/traits/Stomper.ts"),h=s("./src/entities/Mario.ts");!function(t){t[t.WALKING=0]="WALKING",t[t.HIDING=1]="HIDING",t[t.PANIC=2]="PANIC"}(i||(i={}));class u extends r.Trait{constructor(){super(...arguments),this.state=i.WALKING,this.hideTime=0,this.hideDuration=5,this.panicSpeed=300,this.walkSpeed=null}collides(t,e){const s=e.getTrait("stomper");t instanceof f&&!t.killable.dead&&s instanceof d.default&&(e.vel.y>t.vel.y?this.handleStomp(t,e):e instanceof h.default&&this.handleNudge(t,e))}handleNudge(t,e){switch(this.state){case i.WALKING:e.killable.kill();break;case i.HIDING:this.panic(t,e);break;case i.PANIC:{const s=Math.sign(t.vel.x),i=Math.sign(t.pos.x-e.pos.x);0!==s&&s!==i&&e.killable.kill()}}}handleStomp(t,e){switch(this.state){case i.WALKING:this.hide(t);break;case i.HIDING:t.killable.kill(),t.vel.set(100,-200),t.solid.obstructs=!1;break;case i.PANIC:this.hide(t)}}hide(t){t.vel.x=0,t.pendulumMove.enabled=!1,this.walkSpeed||(this.walkSpeed=t.pendulumMove.speed),this.state=i.HIDING,this.hideTime=0}panic(t,e){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.panicSpeed*Math.sign(e.vel.x),this.state=i.PANIC}unhide(t){t.pendulumMove.enabled=!0,t.pendulumMove.speed=this.walkSpeed,this.state=i.WALKING}update(t,e){const{dt:s}=e;t instanceof f&&this.state===i.HIDING&&(this.hideTime+=s,this.hideTime>this.hideDuration&&this.unhide(t))}}class f extends r.default{constructor(){super(),this.addTrait("physics",this.physics=new c.default),this.addTrait("solid",this.solid=new l.default),this.addTrait("pendulumMove",this.pendulumMove=new o.default),this.addTrait("goomba",this.behavior=new u),this.addTrait("killable",this.killable=new a.default)}}function p(t){return(0,n.loadSpriteSheet)("koopa").then(y)}function y(t){const e=t.getAnimation("walk"),s=t.getAnimation("wake");function r(r){t.draw(function(t){switch(t.behavior.state){case i.HIDING:if(t.behavior.hideTime>3)return s(t.lifetime);case i.PANIC:return"hiding";default:return e(t.lifetime)}}(this),r,0,0,this.vel.x<0)}return function(){const t=new f;return t.size.set(16,16),t.offset.y=8,t.draw=r,t}}},"./src/entities/Mario.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f,loadMario:()=>p});var i=s("./src/Entity.ts"),r=s("./src/loaders/audio.ts"),n=s("./src/loaders/sprite.ts"),a=s("./src/traits/Go.ts"),o=s("./src/traits/Jump.ts"),c=s("./src/traits/Killable.ts"),l=s("./src/traits/Physics.ts"),d=s("./src/traits/Player.ts"),h=s("./src/traits/Solid.ts"),u=s("./src/traits/Stomper.ts");class f extends i.default{constructor(t){super(t),this.size.set(14,16),this.addTrait("player",this.player=new d.default),this.addTrait("physics",this.physics=new l.default),this.addTrait("solid",this.solid=new h.default),this.addTrait("go",this.go=new a.default),this.addTrait("jump",this.jump=new o.default),this.addTrait("stomper",this.stomper=new u.default),this.addTrait("killable",this.killable=new c.default),this.go.drag=.001}turbo(t){this.go.drag=t?2e-4:.001}}function p(t){return Promise.all([(0,n.loadSpriteSheet)("mario"),(0,r.loadAudioBoard)("mario",t)]).then((([t,e])=>function(t,e){const s=t.getAnimation("run");function i(t){return t.jump.falling?"jump":t.go.distance>0?t.vel.x>0&&t.go.dir<0||t.vel.x<0&&t.go.dir>0?"break":s(t.go.distance):"idle"}function r(e){t.draw(i(this),e,0,0,this.go.heading<0)}return function(){const t=new f(e);return t.draw=r,t.killable.removeAfter=0,t}}(t,e)))}},"./src/input.ts":(t,e,s)=>{s.r(e),s.d(e,{setupKeyboard:()=>r});var i=s("./src/KeyboardState.ts");function r(t){const e=new i.default;return e.addMapping("KeyP",(e=>{e?t.jump.start():t.jump.cancel()})),e.addMapping("KeyO",(e=>{t.turbo(1===e)})),e.addMapping("KeyA",(e=>{t.go.dir+=e?-1:1})),e.addMapping("KeyD",(e=>{t.go.dir+=e?1:-1})),e}},"./src/layers/background.ts":(t,e,s)=>{s.r(e),s.d(e,{createBackgroundLayer:()=>r});var i=s("./src/TileCollider.ts");function r(t,e,s){const r=new i.TileResolver(e),n=document.createElement("canvas").getContext("2d");return n.imageSmoothingEnabled=!1,n.canvas.width=272,n.canvas.height=240,function(i,a){const o=r.toIndex(a.size.x),c=r.toIndex(a.pos.x);!function(i,r){n.clearRect(0,0,n.canvas.width,n.canvas.height);for(let a=i;a<=r;a++){const r=e.grid[a];r&&r.forEach(((e,r)=>{s.drawAnim(e.name,n,a-i,r,t.time)}))}}(c,c+o),i.drawImage(n.canvas,-a.pos.x%16,-a.pos.y)}}},"./src/layers/collision.ts":(t,e,s)=>{function i(t){const e=[],s=t.tileSize,i=t.getByIndex;return t.getByIndex=function(s,r){return e.push({x:s,y:r}),i.call(t,s,r)},function(t,i){t.strokeStyle="blue",e.forEach((({x:e,y:r})=>{t.beginPath(),t.rect(e*s-i.pos.x,r*s-i.pos.y,s,s),t.stroke(),t.closePath()})),e.length=0}}function r(t){const e=t.tileCollider.resolvers.map(i),s=(r=t.entities,function(t,e){t.strokeStyle="red",r.forEach((s=>{t.beginPath(),t.rect(s.bounds.left-e.pos.x,s.bounds.top-e.pos.y,s.size.x,s.size.y),t.stroke(),t.closePath()}))});var r;return function(t,i){e.forEach((e=>e(t,i))),s(t,i)}}s.r(e),s.d(e,{createCollisionLayer:()=>r})},"./src/layers/dashboard.ts":(t,e,s)=>{s.r(e),s.d(e,{createDashboardLayer:()=>n});var i=s("./src/player.ts"),r=s("./src/traits/LevelTimer.ts");function n(t,e){const s=t.size,n=2*t.size,a=function(t){for(const e of(0,i.findPlayers)(t))return e.getTrait("player")}(e),o=function(t){for(const e of t.entities){const t=e.getTrait("levelTimer");if(t&&t instanceof r.default)return t}}(e);return function(e){t.draw(a.name,e,16,s),t.draw(a.score.toString().padStart(6,"0"),e,16,n),t.draw(`@x${a.coins.toString().padStart(2,"0")}`,e,96,n),t.draw("WORLD",e,152,s),t.draw("1-1",e,160,n),t.draw("TIME",e,208,s),t.draw(Math.max(0,o.currentTime).toFixed(0).padStart(3,"0"),e,216,n)}}},"./src/layers/sprite.ts":(t,e,s)=>{function i(t,e=64,s=64){const i=document.createElement("canvas").getContext("2d");return i.imageSmoothingEnabled=!1,i.canvas.width=e,i.canvas.height=s,function(r,n){t.forEach((t=>{i.clearRect(0,0,e,s),t.draw(i),r.drawImage(i.canvas,t.pos.x-n.pos.x,t.pos.y-n.pos.y)}))}}s.r(e),s.d(e,{createSpriteLayer:()=>i})},"./src/loaders.ts":(t,e,s)=>{s.r(e),s.d(e,{loadImage:()=>r,loadJSON:()=>n});var i=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function r(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,s)=>{const i=new Image;i.onload=()=>e(i),i.onerror=s,i.src=t}))}))}function n(t){return fetch(t).then((t=>t.json()))}},"./src/loaders/audio.ts":(t,e,s)=>{s.r(e),s.d(e,{loadAudioBoard:()=>a,createAudioLoader:()=>o});var i=s("./src/AudioBoard.ts"),r=s("./src/loaders.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t,e){return n(this,void 0,void 0,(function*(){const s=o(e),n=yield(0,r.loadJSON)(`./sounds/${t}.json`),a=new i.default,c=[];return n.fx.forEach((({name:t,url:e})=>{c.push(s(e).then((e=>{a.add(t,e)})))})),yield Promise.all(c),a}))}function o(t){return function(e){return fetch(e).then((t=>t.arrayBuffer())).then((e=>t.decodeAudioData(e)))}}},"./src/loaders/font.ts":(t,e,s)=>{s.r(e),s.d(e,{FontSheet:()=>o,loadFont:()=>c});var i=s("./src/loaders.ts"),r=s("./src/SpriteSheet.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const a=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";class o{constructor(t,e){this.sheet=t,this.size=e}draw(t,e,s,i){for(let r=0;r<t.length;r++)this.sheet.draw(t[r],e,s+r*this.size,i)}}function c(){return n(this,void 0,void 0,(function*(){const t=yield(0,i.loadImage)("./sheets/font.png"),e=new r.default(t);for(let t=0;t<a.length;t++){const s=8*(15&t),i=8*(t>>4);e.define(a[t],s,i,8,8)}return new o(e,8)}))}},"./src/loaders/level.ts":(t,e,s)=>{s.r(e),s.d(e,{createLevelLoader:()=>p});var i=s("./src/Entity.ts"),r=s("./src/layers/background.ts"),n=s("./src/layers/sprite.ts"),a=s("./src/Level.ts"),o=s("./src/loaders.ts"),c=s("./src/math.ts"),l=s("./src/traits/LevelTimer.ts"),d=s("./src/loaders/music.ts"),h=s("./src/loaders/sprite.ts");function u(t){const e=function(){const t=new i.default;return t.addTrait("levelTimer",new l.default),t}();t.entities.add(e),t.events.listen(l.default.TIMER_OKAY,(()=>t.music.playTheme())),t.events.listen(l.default.TIMER_HURRY,(()=>t.music.playHurryTheme()))}function f(t,e,s){t.layers.forEach(((i,n)=>{const a=function(t,e){const s=new c.Matrix;for(const{tile:i,x:r,y:n}of function*(t,e){function*s(t,i,r){for(const n of t)for(const{x:t,y:a}of v(n.ranges)){const o=t+i,c=a+r;if(n.pattern){const t=e[n.pattern].tiles;yield*s(t,o,c)}else yield{tile:n,x:o,y:c}}}yield*s(t,0,0)}(t,e))s.set(r,n,i);return s}(i.tiles,t.patterns),o=(0,r.createBackgroundLayer)(e,a,s);e.comp.add(o),e.tileCollider.addGrid(a)}))}function p(t){return function(e){return(0,o.loadJSON)(`./levels/${e}.json`).then((t=>Promise.all([t,(0,h.loadSpriteSheet)(t.spriteSheet),(0,d.loadMusicSheet)(t.musicSheet)]))).then((([e,s,i])=>{const r=new a.default;return r.music.setPlayer(i),f(e,r,s),function(t,e,s){t.entities.forEach((({name:t,pos:[i,r]})=>{const n=(0,s[t])();n.pos.set(i,r),e.entities.add(n)}));const i=(0,n.createSpriteLayer)(e.entities);e.comp.add(i)}(e,r,t),u(r),r}))}}function*y(t,e,s,i){const r=t+e,n=s+i;for(let e=t;e<r;e++)for(let t=s;t<n;t++)yield{x:e,y:t}}function m(t){switch(t.length){case 4:return y(...t);case 3:return y(t[0],t[1],t[2],1);case 2:return y(t[0],1,t[1],1)}}function*v(t){for(const e of t)yield*m(e)}},"./src/loaders/music.ts":(t,e,s)=>{s.r(e),s.d(e,{loadMusicSheet:()=>a});var i=s("./src/loaders.ts"),r=s("./src/MusicPlayer.ts"),n=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};function a(t){return n(this,void 0,void 0,(function*(){const e=yield(0,i.loadJSON)(`./music/${t}.json`),s=new r.default;for(const[t,i]of Object.entries(e))s.addTrack(t,i.url);return s}))}},"./src/loaders/sprite.ts":(t,e,s)=>{s.r(e),s.d(e,{loadSpriteSheet:()=>a});var i=s("./src/anim.ts"),r=s("./src/loaders.ts"),n=s("./src/SpriteSheet.ts");function a(t){return(0,r.loadJSON)(`./sprites/${t}.json`).then((t=>Promise.all([t,(0,r.loadImage)(t.imageURL)]))).then((([t,e])=>{const s=new n.default(e,t.tileW,t.tileH);return t.tiles&&t.tiles.forEach((t=>{s.defineTile(t.name,...t.index)})),t.frames&&t.frames.forEach((({name:t,rect:e})=>{s.define(t,...e)})),t.animations&&t.animations.forEach((({name:t,frameLen:e,frames:r})=>{const n=(0,i.createAnim)(r,e);s.defineAnim(t,n)})),s}))}},"./src/math.ts":(t,e,s)=>{s.r(e),s.d(e,{Matrix:()=>i,Vector:()=>r});class i{constructor(){this.grid=[]}delete(t,e){const s=this.grid[t];s&&delete s[e]}get(t,e){const s=this.grid[t];if(s)return s[e]}set(t,e,s){this.grid[t]||(this.grid[t]=[]),this.grid[t][e]=s}forEach(t){this.grid.forEach(((e,s)=>{e.forEach(((e,i)=>{t(s,i,e)}))}))}}class r{constructor(t=0,e=0){this.set(t,e)}copy(t){this.set(t.x,t.y)}set(t,e){this.x=t,this.y=e}}},"./src/player.ts":(t,e,s)=>{s.r(e),s.d(e,{createPlayerEnv:()=>a,findPlayers:()=>o});var i=s("./src/Entity.ts"),r=s("./src/traits/Player.ts"),n=s("./src/traits/PlayerController.ts");function a(t){const e=new i.default,s=new n.default;return s.checkpoint.set(64,64),s.setPlayer(t),e.addTrait("controller",s),e}function*o(t){for(const e of t.entities)e.getTrait("player")instanceof r.default&&(yield e)}},"./src/tiles/brick.ts":(t,e,s)=>{s.r(e),s.d(e,{brick:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s,resolver:r,gameContext:n}=t;if(e.vel.y>0)e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s);else if(e.vel.y<0){if(e.getTrait("player")){r.matrix.delete(s.indexX,s.indexY);const t=n.entityFactory.goomba();t.pos.set(e.pos.x,s.y1),t.vel.set(50,-400),n.level.entities.add(t)}e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}}]},"./src/tiles/coin.ts":(t,e,s)=>{s.r(e),s.d(e,{coin:()=>n});var i=s("./src/traits/Player.ts");function r(t){const{entity:e,resolver:s,match:r}=t,n=e.getTrait("player");if(n instanceof i.default){n.addCoins(1);s.matrix.delete(r.indexX,r.indexY)}}const n=[r,r]},"./src/tiles/ground.ts":(t,e,s)=>{s.r(e),s.d(e,{ground:()=>r});var i=s("./src/Entity.ts");const r=[function(t){const{entity:e,match:s}=t;e.vel.x>0?e.bounds.right>s.x1&&e.obstruct(i.Sides.RIGHT,s):e.vel.x<0&&e.bounds.left<s.x2&&e.obstruct(i.Sides.LEFT,s)},function(t){const{entity:e,match:s}=t;e.vel.y>0?e.bounds.bottom>s.y1&&e.obstruct(i.Sides.BOTTOM,s):e.vel.y<0&&e.bounds.top<s.y2&&e.obstruct(i.Sides.TOP,s)}]},"./src/traits/Emitter.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.cooldown=2,this.interval=2,this.emitters=[]}emit(t,e){for(const s of this.emitters)s(t,e)}update(t,e){const{dt:s,level:i}=e;this.cooldown-=s,this.cooldown<0&&(this.emit(t,i),this.cooldown=this.interval)}}},"./src/traits/Go.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Jump.ts");class n extends i.Trait{constructor(){super(),this.dir=0,this.acceleration=400,this.deceleration=300,this.friction=2e-4,this.distance=0,this.heading=1}set drag(t){this.friction=t}update(t,e){const{dt:s}=e,i=Math.abs(t.vel.x);if(0!==this.dir){t.vel.x+=this.acceleration*s*this.dir;const e=t.getTrait("jump");e?e instanceof r.default&&!e.falling&&(this.heading=this.dir):this.heading=this.dir}else if(0!==t.vel.x){const e=Math.min(i,this.deceleration*s);t.vel.x+=e*(t.vel.x>0?-1:1)}else this.distance=0;const n=this.friction*t.vel.x*i;t.vel.x-=n,this.distance+=i*s}}},"./src/traits/Gravity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{dt:s}=e;t.vel.y+=this.gravity*s}}},"./src/traits/Jump.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(),this.duration=.3,this.velocity=200,this.engageTime=0,this.ready=0,this.graceTime=0,this.graceDuration=.1}get falling(){return this.ready<0}start(){this.graceTime=this.graceDuration}cancel(){this.engageTime=0,this.graceTime=0}obstruct(t,e){e===i.Sides.BOTTOM&&(this.ready=1),e===i.Sides.TOP&&this.cancel()}update(t,e){const{dt:s}=e;this.graceTime>0&&(this.ready>0&&(t.sounds.add("jump"),this.engageTime=this.duration,this.graceTime=0),this.graceTime-=s),this.engageTime>0&&(t.vel.y=-(this.velocity+.3*Math.abs(t.vel.x)),this.engageTime-=s),this.ready--}}},"./src/traits/Killable.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.dead=!1,this.removeAfter=2,this.deadTime=0}kill(){this.queue((()=>this.dead=!0))}revive(){this.dead=!1,this.deadTime=0}update(t,e){const{dt:s,level:i}=e;this.dead&&(this.deadTime+=s,this.deadTime>this.removeAfter&&this.queue((()=>i.entities.delete(t))))}}},"./src/traits/LevelTimer.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.totalTime=300,this.currentTime=this.totalTime,this.hurryTime=100,this.hurryEmitted=null}update(t,e){const{dt:s,level:i}=e;this.currentTime-=2*s,!0!==this.hurryEmitted&&this.currentTime<this.hurryTime&&(i.events.emit(r.TIMER_HURRY),this.hurryEmitted=!0),!1!==this.hurryEmitted&&this.currentTime>this.hurryTime&&(i.events.emit(r.TIMER_OKAY),this.hurryEmitted=!1)}}r.TIMER_HURRY=Symbol("timer.hurry"),r.TIMER_OKAY=Symbol("timer.okay")},"./src/traits/PendulumMove.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.enabled=!0,this.speed=-30}obstruct(t,e){e!==i.Sides.LEFT&&e!==i.Sides.RIGHT||(this.speed*=-1)}update(t,e){this.enabled&&(t.vel.x=this.speed)}}},"./src/traits/Physics.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.gravity=1500}update(t,e){const{level:s,dt:i}=e;t.pos.x+=t.vel.x*i,s.tileCollider.checkX(t,e),t.pos.y+=t.vel.y*i,s.tileCollider.checkY(t,e),t.vel.y+=this.gravity*i}}},"./src/traits/Player.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Stomper.ts");class n extends i.Trait{constructor(){super(),this.name="N/A",this.coins=0,this.lives=3,this.score=0,this.listen(r.default.STOMP,(()=>{this.score+=100}))}addCoins(t){this.coins+=t,this.queue((t=>t.sounds.add("coin"))),this.coins>=100&&(this.addLives(Math.floor(this.coins/100)),this.coins=this.coins%100)}addLives(t){this.lives+=t}}},"./src/traits/PlayerController.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/math.ts");class n extends i.Trait{constructor(){super(...arguments),this.checkpoint=new r.Vector,this.player=null}setPlayer(t){this.player=t}update(t,e){const{level:s}=e;this.player&&!s.entities.has(this.player)&&(this.player.killable.revive(),this.player.pos.set(this.checkpoint.x,this.checkpoint.y),s.entities.add(this.player))}}},"./src/traits/Solid.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{constructor(){super(...arguments),this.obstructs=!0}obstruct(t,e,s){if(this.obstructs)switch(e){case i.Sides.RIGHT:t.bounds.left=s.x1-t.size.x,t.vel.x=0;break;case i.Sides.LEFT:t.bounds.left=s.x2,t.vel.x=0;break;case i.Sides.BOTTOM:t.bounds.top=s.y1-t.size.y,t.vel.y=0;break;case i.Sides.TOP:t.bounds.top=s.y2,t.vel.y=0}}}},"./src/traits/Stomper.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var i=s("./src/Entity.ts"),r=s("./src/traits/Killable.ts");class n extends i.Trait{constructor(){super(...arguments),this.boundSpeed=400}bounce(t,e){t.bounds.bottom=e.bounds.top,t.vel.y=-this.boundSpeed}collides(t,e){const s=e.getTrait("killable");s&&s instanceof r.default&&!s.dead&&t.vel.y>e.vel.y&&(this.queue((()=>this.bounce(t,e))),t.sounds.add("stomp"),t.events.emit(n.STOMP,t,e))}}n.STOMP=Symbol("stomp")},"./src/traits/Velocity.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s("./src/Entity.ts");class r extends i.Trait{update(t,e){const{dt:s}=e;t.pos.x+=t.vel.x*s,t.pos.y+=t.vel.y*s}}}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{s.r(i);var t=s("./src/Timer.ts"),e=s("./src/input.ts"),r=s("./src/Camera.ts"),n=s("./src/loaders/level.ts"),a=s("./src/entities.ts"),o=s("./src/layers/collision.ts"),c=s("./src/loaders/font.ts"),l=s("./src/layers/dashboard.ts"),d=s("./src/player.ts"),h=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){function a(t){try{c(i.next(t))}catch(t){n(t)}}function o(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,o)}c((i=i.apply(t,e||[])).next())}))};const u=document.querySelector("canvas#screen"),f=()=>{window.removeEventListener("click",f),function(s){h(this,void 0,void 0,(function*(){const i=s.getContext("2d");i.imageSmoothingEnabled=!1;const h=new AudioContext,[u,f]=yield Promise.all([(0,a.loadEntities)(h),(0,c.loadFont)()]),p=yield(0,n.createLevelLoader)(u),y=yield p("debug-coin"),m=new r.default,v=u.mario();v.player.name="MARIO",y.entities.add(v);const g=(0,d.createPlayerEnv)(v);y.entities.add(g),y.comp.add((0,o.createCollisionLayer)(y)),y.comp.add((0,l.createDashboardLayer)(f,y)),(0,e.setupKeyboard)(v).listenTo(window);const b=new t.default;b.update=t=>{y.update(t,h,u),m.pos.x=Math.max(0,v.pos.x-100),y.comp.draw(i,m)},b.start()}))}(u)};window.addEventListener("click",f)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MFQsc0JBQXFCMU0sSUFDcENBLEVBQU1MLEtBQUszRyxLQUFJLElBQUE2VCxzQkFBcUJDLEVBQU05TSxLQUU1QixJQUFBa0wsZUFBY04sR0FDdEJ2TCxTQUFTQyxRQUVmLE1BQU00TixFQUFRLElBQUksVUFFbEJBLEVBQU14USxPQUFVbUIsSUFDZG1DLEVBQU10RCxPQUFPbUIsRUFBSUQsRUFBY21DLEdBRS9CN0UsRUFBT25CLElBQUlVLEVBQUk2SSxLQUFLa0ssSUFBSSxFQUFHNUMsRUFBTTdRLElBQUlVLEVBQUksS0FFekN1RixFQUFNTCxLQUFLM0UsS0FBS0MsRUFBS0MsSUFHdkJnUyxFQUFNdFQsV0FPTjBjLENBQUtwVSxJQUVQNUMsT0FBT0UsaUJBQWlCLFFBQVM1RiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0F1ZGlvQm9hcmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQm91bmRpbmdCb3gudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvQ2FtZXJhLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0NvbXBvc2l0b3IudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvRW50aXR5LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0VudGl0eUNvbGxpZGVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0V2ZW50QnVmZmVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0V2ZW50RW1pdHRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9LZXlib2FyZFN0YXRlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL0xldmVsLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL011c2ljQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9NdXNpY1BsYXllci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9TcHJpdGVTaGVldC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9UaWxlQ29sbGlkZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvVGltZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvYW5pbS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9CdWxsZXQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvZW50aXRpZXMvQ2Fubm9uLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2VudGl0aWVzL0dvb21iYS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9Lb29wYS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9lbnRpdGllcy9NYXJpby50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9pbnB1dC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sYXllcnMvYmFja2dyb3VuZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sYXllcnMvY29sbGlzaW9uLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xheWVycy9kYXNoYm9hcmQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbGF5ZXJzL3Nwcml0ZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMvYXVkaW8udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9mb250LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL2xvYWRlcnMvbGV2ZWwudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbG9hZGVycy9tdXNpYy50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9sb2FkZXJzL3Nwcml0ZS50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy9tYXRoLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90aWxlcy9icmljay50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90aWxlcy9jb2luLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RpbGVzL2dyb3VuZC50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvRW1pdHRlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvR28udHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0dyYXZpdHkudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0p1bXAudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL0tpbGxhYmxlLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9MZXZlbFRpbWVyLnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvLy4vc3JjL3RyYWl0cy9QZW5kdWx1bU1vdmUudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1BoeXNpY3MudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1BsYXllci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvUGxheWVyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby8uL3NyYy90cmFpdHMvU29saWQudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1N0b21wZXIudHMiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvdHJhaXRzL1ZlbG9jaXR5LnRzIiwid2VicGFjazovL3N1cGVyLW1hcmlvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3N1cGVyLW1hcmlvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9zdXBlci1tYXJpby93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3N1cGVyLW1hcmlvL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc3VwZXItbWFyaW8vLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBdWRpb0JvYXJkIHtcbiAgcHJpdmF0ZSBidWZmZXJzOiBNYXA8c3RyaW5nLCBBdWRpb0J1ZmZlcj4gPSBuZXcgTWFwKCk7XG5cbiAgYWRkKG5hbWU6IHN0cmluZywgYnVmZmVyOiBBdWRpb0J1ZmZlcil7XG4gICAgdGhpcy5idWZmZXJzLnNldChuYW1lLCBidWZmZXIpO1xuICB9XG5cbiAgcGxheShuYW1lOiBzdHJpbmcsIGNvbnRleHQ6IEF1ZGlvQ29udGV4dCl7XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXJzLmdldChuYW1lKTtcbiAgICBpZighYnVmZmVyKSByZXR1cm47XG4gICAgY29uc3Qgc291cmNlID0gY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBzb3VyY2UuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyO1xuICAgIHNvdXJjZS5zdGFydCgwKTtcbiAgfVxufSIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuL21hdGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm91bmRpbmdCb3gge1xuICBwcml2YXRlIHBvczogVmVjdG9yO1xuICBwcml2YXRlIHNpemU6IFZlY3RvcjtcbiAgcHJpdmF0ZSBvZmZzZXQ6IFZlY3RvcjtcblxuICBjb25zdHJ1Y3Rvcihwb3M6IFZlY3Rvciwgc2l6ZTogVmVjdG9yLCBvZmZzZXQ6IFZlY3Rvcil7XG4gICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgfVxuXG4gIG92ZXJsYXBzKGJveDogQm91bmRpbmdCb3gpIDogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYm90dG9tID4gYm94LnRvcCBcbiAgICAgICAgJiYgdGhpcy50b3AgPCBib3guYm90dG9tIFxuICAgICAgICAmJiB0aGlzLmxlZnQgPCBib3gucmlnaHQgXG4gICAgICAgICYmIHRoaXMucmlnaHQgPiBib3gubGVmdDtcbiAgfVxuXG4gIGdldCBib3R0b20oKXsgcmV0dXJuIHRoaXMucG9zLnkgKyB0aGlzLnNpemUueSArIHRoaXMub2Zmc2V0Lnk7IH1cbiAgZ2V0IHRvcCgpeyByZXR1cm4gdGhpcy5wb3MueSArIHRoaXMub2Zmc2V0Lnk7IH1cbiAgZ2V0IGxlZnQoKXsgcmV0dXJuIHRoaXMucG9zLnggKyB0aGlzLm9mZnNldC54OyB9XG4gIGdldCByaWdodCgpeyByZXR1cm4gdGhpcy5wb3MueCArIHRoaXMuc2l6ZS54ICsgdGhpcy5vZmZzZXQueDsgfVxuXG4gIHNldCBib3R0b20oeSl7IHRoaXMucG9zLnkgPSB5IC0gKHRoaXMuc2l6ZS55ICsgdGhpcy5vZmZzZXQueSk7IH1cbiAgc2V0IHRvcCh5KXsgdGhpcy5wb3MueSA9IHkgLSB0aGlzLm9mZnNldC55OyB9XG4gIHNldCBsZWZ0KHgpeyB0aGlzLnBvcy54ID0geCAtIHRoaXMub2Zmc2V0Lng7IH1cbiAgc2V0IHJpZ2h0KHgpeyB0aGlzLnBvcy54ID0geCAtICh0aGlzLnNpemUueCArIHRoaXMub2Zmc2V0LngpOyB9XG59IiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vbWF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xuICBwdWJsaWMgcG9zOiBWZWN0b3I7XG4gIHB1YmxpYyBzaXplOiBWZWN0b3I7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5wb3MgPSBuZXcgVmVjdG9yKDAsIDApO1xuICAgIHRoaXMuc2l6ZSA9IG5ldyBWZWN0b3IoMjU2LCAyMjQpO1xuICB9XG59IiwiaW1wb3J0IENhbWVyYSBmcm9tIFwiLi9DYW1lcmFcIjtcblxuZXhwb3J0IHR5cGUgTGF5ZXJSZW5kZXJlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhPzogQ2FtZXJhKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb3NpdG9yIHtcbiAgcHJpdmF0ZSBsYXllcnM6IExheWVyUmVuZGVyZXJbXTtcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLmxheWVycyA9IFtdO1xuICB9XG4gIGFkZChsYXllcjogTGF5ZXJSZW5kZXJlcil7XG4gICAgdGhpcy5sYXllcnMucHVzaChsYXllcik7XG4gIH1cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhOiBDYW1lcmEpe1xuICAgIHRoaXMubGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4gbGF5ZXIoY3R4LCBjYW1lcmEpKVxuICB9XG59IiwiaW1wb3J0IEF1ZGlvQm9hcmQgZnJvbSBcIi4vQXVkaW9Cb2FyZFwiO1xuaW1wb3J0IEJvdW5kaW5nQm94IGZyb20gXCIuL0JvdW5kaW5nQm94XCI7XG5pbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IEV2ZW50QnVmZmVyIGZyb20gXCIuL0V2ZW50QnVmZmVyXCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuL0xldmVsXCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi9tYXRoXCI7XG5pbXBvcnQgeyBSZXNvbHZlZFRpbGUgfSBmcm9tIFwiLi9UaWxlQ29sbGlkZXJcIjtcblxuZXhwb3J0IGVudW0gU2lkZXMge1xuICBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsXG59XG5cbmV4cG9ydCB0eXBlIFRhc2sgPSAoZW50aXR5PzogRW50aXR5KSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgTGlzdGVuZXIgPSB7XG4gIG5hbWU6IFN5bWJvbCxcbiAgY2FsbGJhY2s6IFRhc2ssXG4gIGNvdW50OiBudW1iZXIsXG59O1xuXG5leHBvcnQgY2xhc3MgVHJhaXQge1xuICBzdGF0aWMgVEFTSyA9IFN5bWJvbCgndGFzaycpO1xuICBwdWJsaWMgbGlzdGVuZXJzOiBMaXN0ZW5lcltdID0gW107XG5cbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KXt9XG4gIGZpbmFsaXplKGVudGl0eTogRW50aXR5KXtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmZpbHRlcihsaXN0ZW5lciA9PiB7XG4gICAgICBlbnRpdHkuZXZlbnRzLnByb2Nlc3MobGlzdGVuZXIubmFtZSwgbGlzdGVuZXIuY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIC0tbGlzdGVuZXIuY291bnQ7XG4gICAgfSk7XG4gIH1cbiAgbGlzdGVuKG5hbWU6IFN5bWJvbCwgY2FsbGJhY2s6IFRhc2ssIGNvdW50OiBudW1iZXIgPSBJbmZpbml0eSl7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaCh7IG5hbWUsIGNhbGxiYWNrLCBjb3VudCB9KTtcbiAgfVxuICBvYnN0cnVjdChlbnRpdHk6IEVudGl0eSwgc2lkZTogU2lkZXMsIG1hdGNoPzogUmVzb2x2ZWRUaWxlKXt9XG4gIHF1ZXVlKHRhc2s6IFRhc2spe1xuICAgIHRoaXMubGlzdGVuKFRyYWl0LlRBU0ssIHRhc2ssIDEpO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ/OiBHYW1lQ29udGV4dCl7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHkge1xuICBwdWJsaWMgYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZDtcbiAgcHVibGljIHNvdW5kczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cbiAgcHVibGljIGV2ZW50czogRXZlbnRCdWZmZXIgPSBuZXcgRXZlbnRCdWZmZXIoKTtcbiAgXG4gIHB1YmxpYyBwb3M6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIHNpemU6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIG9mZnNldDogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgYm91bmRzOiBCb3VuZGluZ0JveDtcbiAgcHVibGljIHZlbDogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICBwdWJsaWMgbGlmZXRpbWU6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSB0cmFpdHM6IE1hcDxzdHJpbmcsIFRyYWl0PiA9IG5ldyBNYXAoKTtcblxuICBjb25zdHJ1Y3RvcihhdWRpb0JvYXJkPzogQXVkaW9Cb2FyZCl7XG4gICAgdGhpcy5hdWRpb0JvYXJkID0gYXVkaW9Cb2FyZDtcbiAgICB0aGlzLmJvdW5kcyA9IG5ldyBCb3VuZGluZ0JveCh0aGlzLnBvcywgdGhpcy5zaXplLCB0aGlzLm9mZnNldCk7XG4gIH1cblxuICBhZGRUcmFpdChuYW1lOiBzdHJpbmcsIHRyYWl0OiBUcmFpdCl7XG4gICAgdGhpcy50cmFpdHMuc2V0KG5hbWUsIHRyYWl0KTtcbiAgfVxuXG4gIGNvbGxpZGVzKGNhbmRpZGF0ZTogRW50aXR5KXtcbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0LmNvbGxpZGVzKHRoaXMsIGNhbmRpZGF0ZSk7XG4gICAgfSlcbiAgfVxuXG4gIGZpbmFsaXplKCl7XG4gICAgdGhpcy5ldmVudHMuZW1pdChUcmFpdC5UQVNLLCB0aGlzKTtcblxuICAgIHRoaXMudHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgdHJhaXQuZmluYWxpemUodGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmV2ZW50cy5jbGVhcigpO1xuICB9XG5cbiAgZ2V0VHJhaXQobmFtZTogc3RyaW5nKSA6IFRyYWl0IHtcbiAgICBjb25zdCB0cmFpdCA9IHRoaXMudHJhaXRzLmdldChuYW1lKTtcbiAgICByZXR1cm4gdHJhaXQ7XG4gIH1cblxuICBvYnN0cnVjdChzaWRlOiBTaWRlcywgbWF0Y2g/OiBSZXNvbHZlZFRpbGUpe1xuICAgIHRoaXMudHJhaXRzLmZvckVhY2godHJhaXQgPT4ge1xuICAgICAgdHJhaXQub2JzdHJ1Y3QodGhpcywgc2lkZSwgbWF0Y2gpO1xuICAgIH0pO1xuICB9XG5cbiAgcGxheVNvdW5kcyhhdWRpb0JvYXJkOiBBdWRpb0JvYXJkLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCl7XG4gICAgdGhpcy5zb3VuZHMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIGF1ZGlvQm9hcmQucGxheShuYW1lLCBhdWRpb0NvbnRleHQpO1xuICAgIH0pO1xuICAgIHRoaXMuc291bmRzLmNsZWFyKCk7XG4gIH1cblxuICB1cGRhdGUoZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICB0aGlzLnRyYWl0cy5mb3JFYWNoKHRyYWl0ID0+IHtcbiAgICAgIHRyYWl0LnVwZGF0ZSh0aGlzLCBnYW1lQ29udGV4dCk7XG4gICAgfSk7XG4gICAgdGhpcy5wbGF5U291bmRzKHRoaXMuYXVkaW9Cb2FyZCwgZ2FtZUNvbnRleHQuYXVkaW9Db250ZXh0KTtcbiAgICB0aGlzLmxpZmV0aW1lICs9IGdhbWVDb250ZXh0LmR0O1xuICB9XG5cbiAgcHVibGljIGRyYXc6IExheWVyUmVuZGVyZXIgPSAoY3R4LCBjYW1lcmEpID0+IHt9O1xufSIsImltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eUNvbGxpZGVyIHtcbiAgZW50aXRpZXM6IFNldDxFbnRpdHk+O1xuICBjb25zdHJ1Y3RvcihlbnRpdGllczogU2V0PEVudGl0eT4pe1xuICAgIHRoaXMuZW50aXRpZXMgPSBlbnRpdGllcztcbiAgfVxuICBjaGVjayhzdWJqZWN0OiBFbnRpdHkpe1xuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChjYW5kaWRhdGUgPT4ge1xuICAgICAgaWYoc3ViamVjdCA9PT0gY2FuZGlkYXRlKSByZXR1cm47XG5cbiAgICAgIGlmKHN1YmplY3QuYm91bmRzLm92ZXJsYXBzKGNhbmRpZGF0ZS5ib3VuZHMpKXtcbiAgICAgICAgc3ViamVjdC5jb2xsaWRlcyhjYW5kaWRhdGUpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn0iLCJ0eXBlIEV2ZW50ID0ge1xuICBuYW1lOiBTeW1ib2wsXG4gIGFyZ3M6IGFueVtdLFxufVxudHlwZSBFdmVudENhbGxiYWNrID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEJ1ZmZlciB7XG4gIHByaXZhdGUgZXZlbnRzOiBFdmVudFtdID0gW107XG4gIFxuICBjbGVhcigpe1xuICAgIHRoaXMuZXZlbnRzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBlbWl0KG5hbWU6IFN5bWJvbCwgLi4uYXJnczogYW55W10pe1xuICAgIGNvbnN0IGV2ZW50ID0geyBuYW1lLCBhcmdzIH07XG4gICAgdGhpcy5ldmVudHMucHVzaChldmVudCk7XG4gIH1cblxuICBwcm9jZXNzKG5hbWU6IFN5bWJvbCwgY2FsbGJhY2s6IEV2ZW50Q2FsbGJhY2spe1xuICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgaWYoZXZlbnQubmFtZSA9PT0gbmFtZSl7XG4gICAgICAgIGNhbGxiYWNrKC4uLmV2ZW50LmFyZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwidHlwZSBFdmVudENhbGxiYWNrID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEVtaXR0ZXIge1xuICBwcml2YXRlIGxpc3RlbmVyczogTWFwPFN5bWJvbCwgRXZlbnRDYWxsYmFja1tdPiA9IG5ldyBNYXAoKTtcblxuICBsaXN0ZW4obmFtZTogU3ltYm9sLCBjYWxsYmFjazogRXZlbnRDYWxsYmFjayl7XG4gICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KG5hbWUpIHx8IFtdO1xuICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB0aGlzLmxpc3RlbmVycy5zZXQobmFtZSwgY2FsbGJhY2tzKTtcbiAgfVxuXG4gIGVtaXQobmFtZTogU3ltYm9sLCAuLi5hcmdzOiBhbnlbXSl7XG4gICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KG5hbWUpO1xuICAgIGlmKCFjYWxsYmFja3MpIHJldHVybjtcbiAgICBjYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICBjYWxsYmFjayguLi5hcmdzKTtcbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBlbnVtIEtleVN0YXRlIHsgUkVMRUFTRUQsIFBSRVNTRUQgfTtcblxudHlwZSBLZXlNYXAgPSAoc3RhdGU6IEtleVN0YXRlKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlib2FyZFN0YXRlIHtcbiAgcHJpdmF0ZSBrZXlTdGF0ZXM6IE1hcDxzdHJpbmcsS2V5U3RhdGU+O1xuICBwcml2YXRlIGtleU1hcDogTWFwPHN0cmluZyxLZXlNYXA+O1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMua2V5U3RhdGVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMua2V5TWFwID0gbmV3IE1hcCgpO1xuICB9XG4gIGFkZE1hcHBpbmcoY29kZTogc3RyaW5nLCBjYWxsYmFjazogS2V5TWFwKXtcbiAgICB0aGlzLmtleU1hcC5zZXQoY29kZSwgY2FsbGJhY2spO1xuICB9XG4gIGhhbmRsZUV2ZW50KGV2ZW50OiBLZXlib2FyZEV2ZW50KXtcbiAgICBjb25zdCB7IGNvZGUsIHR5cGUgfSA9IGV2ZW50O1xuXG4gICAgaWYoIXRoaXMua2V5TWFwLmhhcyhjb2RlKSkgcmV0dXJuO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGtleVN0YXRlID0gdHlwZSA9PT0gJ2tleWRvd24nID8gS2V5U3RhdGUuUFJFU1NFRCA6IEtleVN0YXRlLlJFTEVBU0VEO1xuXG4gICAgaWYodGhpcy5rZXlTdGF0ZXMuZ2V0KGNvZGUpID09PSBrZXlTdGF0ZSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5rZXlTdGF0ZXMuc2V0KGNvZGUsIGtleVN0YXRlKTtcblxuICAgIHRoaXMua2V5TWFwLmdldChjb2RlKShrZXlTdGF0ZSk7XG4gIH1cbiAgbGlzdGVuVG8od2luZG93OiBhbnkpe1xuICAgIFsna2V5ZG93bicsICdrZXl1cCddLmZvckVhY2goZXZlbnROYW1lPT57XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IENvbXBvc2l0b3IgZnJvbSBcIi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IHsgRW50aXR5RmFjdG9yeSB9IGZyb20gXCIuL2VudGl0aWVzXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuaW1wb3J0IEVudGl0eUNvbGxpZGVyIGZyb20gXCIuL0VudGl0eUNvbGxpZGVyXCI7XG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gXCIuL0V2ZW50RW1pdHRlclwiO1xuaW1wb3J0IE11c2ljQ29udHJvbGxlciBmcm9tIFwiLi9NdXNpY0NvbnRyb2xsZXJcIjtcbmltcG9ydCBUaWxlQ29sbGlkZXIgZnJvbSBcIi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZUNvbnRleHQge1xuICBkdDogbnVtYmVyLFxuICBsZXZlbDogTGV2ZWwsXG4gIGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0LFxuICBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5LFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbCB7XG4gIHB1YmxpYyBldmVudHM6IEV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgcHVibGljIG11c2ljOiBNdXNpY0NvbnRyb2xsZXIgPSBuZXcgTXVzaWNDb250cm9sbGVyKCk7XG4gIHB1YmxpYyBjb21wOiBDb21wb3NpdG9yID0gbmV3IENvbXBvc2l0b3IoKTtcbiAgcHVibGljIGVudGl0aWVzOiBTZXQ8RW50aXR5PiA9IG5ldyBTZXQoKTtcbiAgcHVibGljIHRpbGVDb2xsaWRlcjogVGlsZUNvbGxpZGVyID0gbmV3IFRpbGVDb2xsaWRlcigpO1xuICBwdWJsaWMgZW50aXR5Q29sbGlkZXI6IEVudGl0eUNvbGxpZGVyID0gbmV3IEVudGl0eUNvbGxpZGVyKHRoaXMuZW50aXRpZXMpO1xuICBwdWJsaWMgdGltZTogbnVtYmVyID0gMDtcbiAgXG4gIHVwZGF0ZShkdDogbnVtYmVyLCBhdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dCwgZW50aXR5RmFjdG9yeTogRW50aXR5RmFjdG9yeSl7XG4gICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBlbnRpdHkudXBkYXRlKHsgZHQsIGxldmVsOiB0aGlzLCBhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnkgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHRoaXMuZW50aXR5Q29sbGlkZXIuY2hlY2soZW50aXR5KTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgZW50aXR5LmZpbmFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnRpbWUgKz0gZHQ7XG4gIH1cbn0iLCJpbXBvcnQgTXVzaWNQbGF5ZXIgZnJvbSBcIi4vTXVzaWNQbGF5ZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVzaWNDb250cm9sbGVyIHtcbiAgcHJpdmF0ZSBtdXNpY1BsYXllcjogTXVzaWNQbGF5ZXIgPSBudWxsO1xuXG4gIHNldFBsYXllcihwbGF5ZXI6IE11c2ljUGxheWVyKXtcbiAgICB0aGlzLm11c2ljUGxheWVyID0gcGxheWVyO1xuICB9XG5cbiAgcGxheVRoZW1lKHNwZWVkOiBudW1iZXIgPSAxKXtcbiAgICBjb25zdCBhdWRpbyA9IHRoaXMubXVzaWNQbGF5ZXIucGxheSgnbWFpbicpO1xuICAgIGF1ZGlvLnBsYXliYWNrUmF0ZSA9IHNwZWVkO1xuICB9XG5cbiAgcGxheUh1cnJ5VGhlbWUoKXtcbiAgICBjb25zdCBhdWRpbyA9IHRoaXMubXVzaWNQbGF5ZXIucGxheSgnaHVycnknKTtcbiAgICBhdWRpby5sb29wID0gZmFsc2U7XG4gICAgYXVkaW8ub25lbmRlZCA9ICgpID0+IHRoaXMucGxheVRoZW1lKDEuMyk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNdXNpY1BsYXllciB7XG4gIHByaXZhdGUgdHJhY2tzOiBNYXA8c3RyaW5nLCBIVE1MQXVkaW9FbGVtZW50PiA9IG5ldyBNYXAoKTtcblxuICBhZGRUcmFjayhuYW1lOiBzdHJpbmcsIHRyYWNrOiBzdHJpbmcpe1xuICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKHRyYWNrKTtcbiAgICBhdWRpby5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLnRyYWNrcy5zZXQobmFtZSwgYXVkaW8pO1xuICB9XG5cbiAgcGxheShuYW1lOiBzdHJpbmcpIDogSFRNTEF1ZGlvRWxlbWVudCB7XG4gICAgZm9yKGNvbnN0IGF1ZGlvIG9mIHRoaXMudHJhY2tzLnZhbHVlcygpKXtcbiAgICAgIGF1ZGlvLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgdHJhY2sgPSB0aGlzLnRyYWNrcy5nZXQobmFtZSk7XG4gICAgaWYodHJhY2spIHRyYWNrLnBsYXkoKTtcbiAgICByZXR1cm4gdHJhY2s7XG4gIH1cbn0iLCJ0eXBlIEFuaW1hdGlvblJlbmRlcmVyID0gKGRpc3RhbmNlOiBudW1iZXIpID0+IHN0cmluZztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlU2hlZXQge1xuICBwcml2YXRlIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xuICBwcml2YXRlIHdpZHRoOiBudW1iZXI7IFxuICBwcml2YXRlIGhlaWdodDogbnVtYmVyO1xuICBwcml2YXRlIGZyYW1lczogTWFwPHN0cmluZywgSFRNTENhbnZhc0VsZW1lbnRbXT47XG4gIHByaXZhdGUgYW5pbWF0aW9uczogTWFwPHN0cmluZywgQW5pbWF0aW9uUmVuZGVyZXI+O1xuICBjb25zdHJ1Y3RvcihpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcil7XG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmZyYW1lcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmFuaW1hdGlvbnMgPSBuZXcgTWFwKCk7XG4gIH1cbiAgZ2V0QW5pbWF0aW9uKG5hbWU6IHN0cmluZyl7XG4gICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5nZXQobmFtZSk7XG4gIH1cbiAgZGVmaW5lQW5pbShuYW1lOiBzdHJpbmcsIGFuaW1hdGlvbjogQW5pbWF0aW9uUmVuZGVyZXIpe1xuICAgIHRoaXMuYW5pbWF0aW9ucy5zZXQobmFtZSwgYW5pbWF0aW9uKTtcbiAgfSAgXG4gIGRlZmluZShuYW1lOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcil7XG4gICAgY29uc3QgYnVmZmVycyA9IFtmYWxzZSwgdHJ1ZV0ubWFwKGZsaXAgPT4ge1xuICAgICAgY29uc3QgY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAke3RoaXMud2lkdGh9cHhgKTtcbiAgICAgIGN0eC5jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBgJHt0aGlzLmhlaWdodH1weGApO1xuXG4gICAgICBpZihmbGlwKXtcbiAgICAgICAgY3R4LnNjYWxlKC0xLCAxKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgtd2lkdGgsIDApO1xuICAgICAgfVxuXG4gICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICB0aGlzLmltYWdlLCBcbiAgICAgICAgeCwgeSwgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgMCwgMCwgd2lkdGgsIGhlaWdodFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGN0eC5jYW52YXM7XG4gICAgfSlcblxuICAgIHRoaXMuZnJhbWVzLnNldChuYW1lLCBidWZmZXJzKTtcbiAgfVxuICBkZWZpbmVUaWxlKG5hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgIHRoaXMuZGVmaW5lKG5hbWUsIHgqdGhpcy53aWR0aCwgeSp0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG4gIGRyYXcobmFtZTogc3RyaW5nLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGZsaXA6IGJvb2xlYW4gPSBmYWxzZSl7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLmZyYW1lcy5nZXQobmFtZSk7XG4gICAgaWYoIWZyYW1lKXtcbiAgICAgIGNvbnNvbGUud2FybihgRnJhbWUgJHtuYW1lfSBpcyBub3QgZGVmaW5lZCFgKTtcbiAgICB9XG4gICAgY3R4LmRyYXdJbWFnZShmcmFtZVtmbGlwPzE6MF0sIHgsIHkpO1xuICB9XG4gIGRyYXdBbmltKG5hbWU6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkaXN0YW5jZTogbnVtYmVyKXtcbiAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnMuZ2V0KG5hbWUpO1xuICAgIGlmKCFhbmltYXRpb24pIHJldHVybiB0aGlzLmRyYXdUaWxlKG5hbWUsIGN0eCwgeCwgeSk7XG4gICAgdGhpcy5kcmF3VGlsZShhbmltYXRpb24oZGlzdGFuY2UpLCBjdHgsIHgsIHkpO1xuICB9XG4gIGRyYXdUaWxlKG5hbWU6IHN0cmluZywgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBmbGlwOiBib29sZWFuID0gZmFsc2Upe1xuICAgIHRoaXMuZHJhdyhuYW1lLCBjdHgsIHgqdGhpcy53aWR0aCwgeSp0aGlzLmhlaWdodCwgZmxpcCk7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi9MZXZlbFwiO1xuaW1wb3J0IHsgTGV2ZWxUaWxlU3BlYyB9IGZyb20gXCIuL2xvYWRlcnMvbGV2ZWxcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuL21hdGhcIjtcbmltcG9ydCB7IGJyaWNrIH0gZnJvbSBcIi4vdGlsZXMvYnJpY2tcIjtcbmltcG9ydCB7IGdyb3VuZCB9IGZyb20gXCIuL3RpbGVzL2dyb3VuZFwiO1xuaW1wb3J0IHsgY29pbiB9IGZyb20gXCIuL3RpbGVzL2NvaW5cIjtcblxuZXhwb3J0IGludGVyZmFjZSBSZXNvbHZlZFRpbGUge1xuICB0aWxlOiBMZXZlbFRpbGVTcGVjLFxuICB4MTogbnVtYmVyLCB4MjogbnVtYmVyLFxuICB5MTogbnVtYmVyLCB5MjogbnVtYmVyLFxuICBpbmRleFg6IG51bWJlciwgaW5kZXhZOiBudW1iZXIsXG59XG5cbmV4cG9ydCB0eXBlIFRpbGVDb2xsaXNpb25Db250ZXh0ID0ge1xuICBlbnRpdHk6IEVudGl0eSwgXG4gIG1hdGNoOiBSZXNvbHZlZFRpbGUsIFxuICByZXNvbHZlcjogVGlsZVJlc29sdmVyLCBcbiAgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0XG59XG5cbnR5cGUgSGFuZGxlckNhbGxiYWNrID0gKHRpbGVDb2xsaXNpb25Db250ZXh0OiBUaWxlQ29sbGlzaW9uQ29udGV4dCkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIEhhbmRsZXJzIHtcbiAgW2tleTogc3RyaW5nXTogSGFuZGxlckNhbGxiYWNrW10sXG59XG5cbmNvbnN0IGhhbmRsZXJzOiBIYW5kbGVycyA9IHtcbiAgYnJpY2ssXG4gIGdyb3VuZCxcbiAgY29pbixcbn07XG5cbmV4cG9ydCBjbGFzcyBUaWxlUmVzb2x2ZXIge1xuICBwdWJsaWMgbWF0cml4OiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz47XG4gIHB1YmxpYyB0aWxlU2l6ZTogbnVtYmVyO1xuICBjb25zdHJ1Y3RvcihtYXRyaXg6IE1hdHJpeDxMZXZlbFRpbGVTcGVjPiwgdGlsZVNpemU6IG51bWJlciA9IDE2KXtcbiAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcbiAgICB0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XG4gIH1cbiAgdG9JbmRleChwb3M6IG51bWJlcikgOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHBvcyAvIHRoaXMudGlsZVNpemUpO1xuICB9XG4gIHRvSW5kZXhSYW5nZShwb3MxOiBudW1iZXIsIHBvczI6IG51bWJlcik6IG51bWJlcltde1xuICAgIGNvbnN0IHBNYXggPSBNYXRoLmNlaWwocG9zMiAvIHRoaXMudGlsZVNpemUpICogdGhpcy50aWxlU2l6ZTtcbiAgICBjb25zdCByYW5nZSA9IFtdO1xuICAgIGxldCBwb3MgPSBwb3MxO1xuICAgIGRvIHtcbiAgICAgIHJhbmdlLnB1c2godGhpcy50b0luZGV4KHBvcykpO1xuICAgICAgcG9zICs9IHRoaXMudGlsZVNpemU7XG4gICAgfXdoaWxlKHBvcyA8IHBNYXgpO1xuICAgIHJldHVybiByYW5nZTtcbiAgfVxuICBnZXRCeUluZGV4KHg6IG51bWJlciwgeTogbnVtYmVyKSA6IFJlc29sdmVkVGlsZSB7XG4gICAgY29uc3QgdGlsZSA9IHRoaXMubWF0cml4LmdldCh4LCB5KTtcbiAgICBpZih0aWxlKSByZXR1cm4ge1xuICAgICAgdGlsZSxcbiAgICAgIHgxOiB4ICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIHgyOiAoeCsxKSAqIHRoaXMudGlsZVNpemUsXG4gICAgICB5MTogeSAqIHRoaXMudGlsZVNpemUsXG4gICAgICB5MjogKHkrMSkgKiB0aGlzLnRpbGVTaXplLFxuICAgICAgaW5kZXhYOiB4LCBpbmRleFk6IHksXG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHNlYXJjaEJ5UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpIDogUmVzb2x2ZWRUaWxlIHtcbiAgICByZXR1cm4gdGhpcy5nZXRCeUluZGV4KHRoaXMudG9JbmRleCh4KSwgdGhpcy50b0luZGV4KHkpKTtcbiAgfVxuICBzZWFyY2hCeVJhbmdlKHgxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkxOiBudW1iZXIsIHkyOiBudW1iZXIpIDogUmVzb2x2ZWRUaWxlW10ge1xuICAgIGNvbnN0IG1hdGNoZXM6IFJlc29sdmVkVGlsZVtdID0gW107XG4gICAgdGhpcy50b0luZGV4UmFuZ2UoeDEsIHgyKS5mb3JFYWNoKHggPT4ge1xuICAgICAgdGhpcy50b0luZGV4UmFuZ2UoeTEsIHkyKS5mb3JFYWNoKHkgPT4ge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMuZ2V0QnlJbmRleCh4LCB5KTtcbiAgICAgICAgaWYoIW1hdGNoKSByZXR1cm47XG4gICAgICAgIG1hdGNoZXMucHVzaChtYXRjaCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWF0Y2hlcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxlQ29sbGlkZXIge1xuICBwdWJsaWMgcmVzb2x2ZXJzOiBUaWxlUmVzb2x2ZXJbXSA9IFtdO1xuXG4gIGFkZEdyaWQodGlsZU1hdHJpeDogTWF0cml4PExldmVsVGlsZVNwZWM+KXtcbiAgICB0aGlzLnJlc29sdmVycy5wdXNoKG5ldyBUaWxlUmVzb2x2ZXIodGlsZU1hdHJpeCkpO1xuICB9XG5cbiAgY2hlY2tYKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpe1xuICAgIGlmKGVudGl0eS52ZWwueCA9PT0gMCkgcmV0dXJuO1xuICAgIGxldCB4ID0gZW50aXR5LmJvdW5kcy5sZWZ0ICsgKGVudGl0eS52ZWwueCA+IDAgPyBlbnRpdHkuc2l6ZS54IDogMCk7XG5cbiAgICBmb3IoY29uc3QgcmVzb2x2ZXIgb2YgdGhpcy5yZXNvbHZlcnMpe1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IHJlc29sdmVyLnNlYXJjaEJ5UmFuZ2UoXG4gICAgICAgIHgsIHgsXG4gICAgICAgIGVudGl0eS5ib3VuZHMudG9wLCBlbnRpdHkuYm91bmRzLmJvdHRvbVxuICAgICAgKTtcblxuICAgICAgbWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+e1xuICAgICAgICB0aGlzLmhhbmRsZSgwLCB7IGVudGl0eSwgbWF0Y2gsIHJlc29sdmVyLCBnYW1lQ29udGV4dCB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNoZWNrWShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBpZihlbnRpdHkudmVsLnkgPT09IDApIHJldHVybjtcbiAgICBsZXQgeSA9IGVudGl0eS5ib3VuZHMudG9wICsgKGVudGl0eS52ZWwueSA+IDAgPyBlbnRpdHkuc2l6ZS55IDogMCk7XG4gIFxuICAgIGZvcihjb25zdCByZXNvbHZlciBvZiB0aGlzLnJlc29sdmVycyl7XG4gICAgICBjb25zdCBtYXRjaGVzID0gcmVzb2x2ZXIuc2VhcmNoQnlSYW5nZShcbiAgICAgICAgZW50aXR5LmJvdW5kcy5sZWZ0LCBlbnRpdHkuYm91bmRzLnJpZ2h0LCBcbiAgICAgICAgeSwgeVxuICAgICAgKTtcblxuICAgICAgbWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+e1xuICAgICAgICB0aGlzLmhhbmRsZSgxLCB7IGVudGl0eSwgbWF0Y2gsIHJlc29sdmVyLCBnYW1lQ29udGV4dCB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlKGluZGV4OiBudW1iZXIsIHRpbGVDb2xsaXNpb25Db250ZXh0OiBUaWxlQ29sbGlzaW9uQ29udGV4dCl7XG4gICAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW3RpbGVDb2xsaXNpb25Db250ZXh0Lm1hdGNoLnRpbGUudHlwZV07XG4gICAgaWYoIWhhbmRsZXIgfHwgIWhhbmRsZXJbaW5kZXhdKSByZXR1cm47XG4gICAgaGFuZGxlcltpbmRleF0odGlsZUNvbGxpc2lvbkNvbnRleHQpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZXIge1xuICBwdWJsaWMgdXBkYXRlOiAoZHQ6IG51bWJlcikgPT4gdm9pZDtcbiAgcHJpdmF0ZSB1cGRhdGVQcm94eTogKGR0OiBudW1iZXIpID0+IHZvaWQ7XG4gIHByaXZhdGUgcnVubmluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBjb25zdHJ1Y3RvcihkZWx0YVRpbWU6IG51bWJlciA9IDEvNjApe1xuICAgIGxldCBhY2N1bXVsYXRlZFRpbWUgPSAwLCBsYXN0VGltZSA9IDA7XG5cbiAgICB0aGlzLnVwZGF0ZVByb3h5ID0gKHRpbWU6IG51bWJlciA9IDApID0+IHtcbiAgICAgIGFjY3VtdWxhdGVkVGltZSArPSAodGltZSAtIGxhc3RUaW1lKSAvIDEwMDA7XG5cbiAgICAgIGlmKGFjY3VtdWxhdGVkVGltZSA+IDEpIGFjY3VtdWxhdGVkVGltZSA9IDE7XG4gIFxuICAgICAgd2hpbGUoYWNjdW11bGF0ZWRUaW1lID4gZGVsdGFUaW1lKXtcbiAgICAgICAgdGhpcy51cGRhdGUoZGVsdGFUaW1lKVxuICAgICAgICBhY2N1bXVsYXRlZFRpbWUgLT0gZGVsdGFUaW1lO1xuICAgICAgfVxuXG4gICAgICBsYXN0VGltZSA9IHRpbWU7XG5cbiAgICAgIHRoaXMuZW5xdWV1ZSgpO1xuICAgIH1cbiAgfVxuICBlbnF1ZXVlKCl7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlUHJveHkpO1xuICB9XG4gIHN0YXJ0KCl7XG4gICAgaWYodGhpcy5ydW5uaW5nKSByZXR1cm47XG4gICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmVucXVldWUoKTtcbiAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBbmltKGZyYW1lczogc3RyaW5nW10sIGZyYW1lTGVuOiBudW1iZXIpe1xuICByZXR1cm4gZnVuY3Rpb24gcmVzb2x2ZUZyYW1lKGRpc3RhbmNlOiBudW1iZXIpe1xuICAgIHJldHVybiBmcmFtZXNbTWF0aC5mbG9vcihkaXN0YW5jZSAvIGZyYW1lTGVuKSAlIGZyYW1lcy5sZW5ndGhdO1xuICB9XG59IiwiaW1wb3J0IE1hcmlvLCB7IGxvYWRNYXJpbyB9IGZyb20gJy4vZW50aXRpZXMvTWFyaW8nO1xuaW1wb3J0IEdvb21iYSwgeyBsb2FkR29vbWJhIH0gZnJvbSAnLi9lbnRpdGllcy9Hb29tYmEnO1xuaW1wb3J0IEtvb3BhLCB7IGxvYWRLb29wYSB9IGZyb20gJy4vZW50aXRpZXMvS29vcGEnO1xuaW1wb3J0IEVudGl0eSBmcm9tICcuL0VudGl0eSc7XG5pbXBvcnQgQnVsbGV0LCB7IGxvYWRCdWxsZXQgfSBmcm9tICcuL2VudGl0aWVzL0J1bGxldCc7XG5pbXBvcnQgQ2Fubm9uLCB7IGxvYWRDYW5ub24gfSBmcm9tICcuL2VudGl0aWVzL0Nhbm5vbic7XG5cbmV4cG9ydCB0eXBlIEVudGl0eUNyZWF0b3I8VCBleHRlbmRzIEVudGl0eT4gPSAoKSA9PiBUO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVudGl0eUZhY3Rvcnkge1xuICBba2V5OiBzdHJpbmddOiBFbnRpdHlDcmVhdG9yPEVudGl0eT47XG4gIG1hcmlvPzogRW50aXR5Q3JlYXRvcjxNYXJpbz4sXG4gIGdvb21iYT86IEVudGl0eUNyZWF0b3I8R29vbWJhPixcbiAga29vcGE/OiBFbnRpdHlDcmVhdG9yPEtvb3BhPixcbiAgYnVsbGV0PzogRW50aXR5Q3JlYXRvcjxCdWxsZXQ+LFxuICBjYW5ub24/OiBFbnRpdHlDcmVhdG9yPENhbm5vbj4sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRW50aXRpZXMoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxFbnRpdHlGYWN0b3J5PiB7XG4gIGNvbnN0IGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3RvcnkgPSB7fTtcblxuICBmdW5jdGlvbiBhZGRBcyhuYW1lOiBzdHJpbmcpe1xuICAgIHJldHVybiAoZmFjdG9yeTogRW50aXR5Q3JlYXRvcjxFbnRpdHk+KSA9PiBlbnRpdHlGYWN0b3J5W25hbWVdID0gZmFjdG9yeTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgbG9hZE1hcmlvKGF1ZGlvQ29udGV4dCkudGhlbihhZGRBcygnbWFyaW8nKSksXG4gICAgbG9hZEdvb21iYShhdWRpb0NvbnRleHQpLnRoZW4oYWRkQXMoJ2dvb21iYScpKSxcbiAgICBsb2FkS29vcGEoYXVkaW9Db250ZXh0KS50aGVuKGFkZEFzKCdrb29wYScpKSxcbiAgICBsb2FkQnVsbGV0KGF1ZGlvQ29udGV4dCkudGhlbihhZGRBcygnYnVsbGV0JykpLFxuICAgIGxvYWRDYW5ub24oYXVkaW9Db250ZXh0LCBlbnRpdHlGYWN0b3J5KS50aGVuKGFkZEFzKCdjYW5ub24nKSksXG4gIF0pXG4gIC50aGVuKCgpID0+IGVudGl0eUZhY3RvcnkpO1xufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnMvc3ByaXRlXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgR3Jhdml0eSBmcm9tIFwiLi4vdHJhaXRzL0dyYXZpdHlcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcbmltcG9ydCBWZWxvY2l0eSBmcm9tIFwiLi4vdHJhaXRzL1ZlbG9jaXR5XCI7XG5pbXBvcnQgTWFyaW8gZnJvbSBcIi4vTWFyaW9cIjtcblxuY2xhc3MgQmVoYXZpb3IgZXh0ZW5kcyBUcmFpdCB7XG4gIHByaXZhdGUgZ3Jhdml0eTogR3Jhdml0eSA9IG5ldyBHcmF2aXR5KCk7XG5cbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KTogdm9pZCB7XG4gICAgY29uc3Qgc3RvbXBlciA9IHRoZW0uZ2V0VHJhaXQoJ3N0b21wZXInKTtcbiAgICBpZih1cyBpbnN0YW5jZW9mIEJ1bGxldCAmJiAhdXMua2lsbGFibGUuZGVhZCAmJiBzdG9tcGVyIGluc3RhbmNlb2YgU3RvbXBlcil7XG4gICAgICBpZih0aGVtLnZlbC55ID4gdXMudmVsLnkpe1xuICAgICAgICB1cy5raWxsYWJsZS5raWxsKCk7XG4gICAgICAgIHVzLnZlbC5zZXQoMTAwLCAtMjAwKTtcbiAgICAgIH1lbHNlIGlmKHRoZW0gaW5zdGFuY2VvZiBNYXJpbyl7XG4gICAgICAgIHRoZW0ua2lsbGFibGUua2lsbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgaWYoIShlbnRpdHkgaW5zdGFuY2VvZiBCdWxsZXQpKSByZXR1cm47XG4gICAgaWYoZW50aXR5LmtpbGxhYmxlLmRlYWQpe1xuICAgICAgdGhpcy5ncmF2aXR5LnVwZGF0ZShlbnRpdHksIGdhbWVDb250ZXh0KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0IGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHZlbG9jaXR5OiBWZWxvY2l0eTtcbiAgcHVibGljIGJlaGF2aW9yOiBCZWhhdmlvcjtcbiAgcHVibGljIGtpbGxhYmxlOiBLaWxsYWJsZTtcblxuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRUcmFpdCgndmVsb2NpdHknLCB0aGlzLnZlbG9jaXR5ID0gbmV3IFZlbG9jaXR5KCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2J1bGxldCcsIHRoaXMuYmVoYXZpb3IgPSBuZXcgQmVoYXZpb3IoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgna2lsbGFibGUnLCB0aGlzLmtpbGxhYmxlID0gbmV3IEtpbGxhYmxlKCkpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEJ1bGxldEZhY3RvcnkgPSAoKSA9PiBCdWxsZXQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQnVsbGV0KGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8QnVsbGV0RmFjdG9yeT4ge1xuICByZXR1cm4gbG9hZFNwcml0ZVNoZWV0KCdidWxsZXQnKVxuICAudGhlbihjcmVhdGVCdWxsZXRGYWN0b3J5KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVsbGV0RmFjdG9yeShzcHJpdGVzOiBTcHJpdGVTaGVldCkgOiBCdWxsZXRGYWN0b3J5IHtcbiAgZnVuY3Rpb24gZHJhd0J1bGxldChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgc3ByaXRlcy5kcmF3KCdidWxsZXQnLCBjdHgsIDAsIDAsIHRoaXMudmVsLnggPCAwKTtcbiAgfVxuICBcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUJ1bGxldCgpe1xuICAgIGNvbnN0IGJ1bGxldCA9IG5ldyBCdWxsZXQoKTtcbiAgICBidWxsZXQuc2l6ZS5zZXQoMTYsIDE2KTtcblxuICAgIGJ1bGxldC5kcmF3ID0gZHJhd0J1bGxldDtcblxuICAgIHJldHVybiBidWxsZXQ7XG4gIH1cbn0iLCJpbXBvcnQgQXVkaW9Cb2FyZCBmcm9tIFwiLi4vQXVkaW9Cb2FyZFwiO1xuaW1wb3J0IHsgRW50aXR5RmFjdG9yeSB9IGZyb20gXCIuLi9lbnRpdGllc1wiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBsb2FkQXVkaW9Cb2FyZCB9IGZyb20gXCIuLi9sb2FkZXJzL2F1ZGlvXCI7XG5pbXBvcnQgeyBmaW5kUGxheWVycyB9IGZyb20gXCIuLi9wbGF5ZXJcIjtcbmltcG9ydCBFbWl0dGVyIGZyb20gXCIuLi90cmFpdHMvRW1pdHRlclwiO1xuXG5jb25zdCBIT0xEX0ZJUkVfVEhSRVNIT0xEID0gMzA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbm5vbiBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyBlbWl0dGVyOiBFbWl0dGVyO1xuXG4gIGNvbnN0cnVjdG9yKGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQpe1xuICAgIHN1cGVyKGF1ZGlvQm9hcmQpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2VtaXR0ZXInLCB0aGlzLmVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpKTtcbiAgICB0aGlzLnNpemUuc2V0KDE2LCAxNCk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQ2Fubm9uRmFjdG9yeSA9ICgpID0+IENhbm5vbjtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRDYW5ub24oYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQsIGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3RvcnkpIDogUHJvbWlzZTxDYW5ub25GYWN0b3J5PiB7XG4gIHJldHVybiBsb2FkQXVkaW9Cb2FyZCgnY2Fubm9uJywgYXVkaW9Db250ZXh0KVxuICAudGhlbihhdWRpbyA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUNhbm5vbkZhY3RvcnkoYXVkaW8sIGVudGl0eUZhY3RvcnkpO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBjcmVhdGVDYW5ub25GYWN0b3J5KGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQsIGVudGl0eUZhY3Rvcnk6IEVudGl0eUZhY3RvcnkpIDogQ2Fubm9uRmFjdG9yeSB7XG4gIGZ1bmN0aW9uIGVtaXRCdWxsZXQoZW50aXR5OiBFbnRpdHksIGxldmVsOiBMZXZlbCl7XG4gICAgaWYoIShlbnRpdHkgaW5zdGFuY2VvZiBDYW5ub24pKSByZXR1cm47XG5cbiAgICBsZXQgZGlyO1xuICAgIGZvcihjb25zdCBwbGF5ZXIgb2YgZmluZFBsYXllcnMobGV2ZWwpKXtcbiAgICAgIGRpciA9IHBsYXllci5wb3MueCAtIGVudGl0eS5wb3MueDtcbiAgICAgIGlmKE1hdGguYWJzKHBsYXllci5wb3MueCAtIGVudGl0eS5wb3MueCkgPD0gSE9MRF9GSVJFX1RIUkVTSE9MRCl7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBidWxsZXQgPSBlbnRpdHlGYWN0b3J5LmJ1bGxldCgpO1xuICAgIGJ1bGxldC5wb3MuY29weShlbnRpdHkucG9zKTtcbiAgICBidWxsZXQudmVsLnggPSA4MCAqIE1hdGguc2lnbihkaXIpO1xuXG4gICAgZW50aXR5LnNvdW5kcy5hZGQoJ3Nob290Jyk7XG4gICAgbGV2ZWwuZW50aXRpZXMuYWRkKGJ1bGxldCk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQ2Fubm9uKCl7XG4gICAgY29uc3QgY2Fubm9uID0gbmV3IENhbm5vbihhdWRpb0JvYXJkKTtcblxuICAgIGNhbm5vbi5lbWl0dGVyLmludGVydmFsID0gNDtcbiAgICBjYW5ub24uZW1pdHRlci5lbWl0dGVycy5wdXNoKGVtaXRCdWxsZXQpO1xuXG4gICAgcmV0dXJuIGNhbm5vbjtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vbG9hZGVycy9zcHJpdGVcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi4vdHJhaXRzL0tpbGxhYmxlXCI7XG5pbXBvcnQgUGVuZHVsdW1Nb3ZlIGZyb20gXCIuLi90cmFpdHMvUGVuZHVsdW1Nb3ZlXCI7XG5pbXBvcnQgUGh5c2ljcyBmcm9tIFwiLi4vdHJhaXRzL1BoeXNpY3NcIjtcbmltcG9ydCBTb2xpZCBmcm9tIFwiLi4vdHJhaXRzL1NvbGlkXCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi4vdHJhaXRzL1N0b21wZXJcIjtcbmltcG9ydCBNYXJpbyBmcm9tIFwiLi9NYXJpb1wiO1xuXG5jbGFzcyBCZWhhdmlvciBleHRlbmRzIFRyYWl0IHtcbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KTogdm9pZCB7XG4gICAgY29uc3Qgc3RvbXBlciA9IHRoZW0uZ2V0VHJhaXQoJ3N0b21wZXInKTtcbiAgICBpZih1cyBpbnN0YW5jZW9mIEdvb21iYSAmJiAhdXMua2lsbGFibGUuZGVhZCAmJiBzdG9tcGVyIGluc3RhbmNlb2YgU3RvbXBlcil7XG4gICAgICBpZih0aGVtLnZlbC55ID4gdXMudmVsLnkpe1xuICAgICAgICB1cy5raWxsYWJsZS5raWxsKCk7XG4gICAgICAgIHVzLnBlbmR1bHVtTW92ZS5zcGVlZCA9IDA7XG4gICAgICB9ZWxzZSBpZih0aGVtIGluc3RhbmNlb2YgTWFyaW8pe1xuICAgICAgICB0aGVtLmtpbGxhYmxlLmtpbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29vbWJhIGV4dGVuZHMgRW50aXR5IHtcbiAgcHVibGljIHBoeXNpY3M6IFBoeXNpY3M7XG4gIHB1YmxpYyBzb2xpZDogU29saWQ7XG4gIHB1YmxpYyBwZW5kdWx1bU1vdmU6IFBlbmR1bHVtTW92ZTtcbiAgcHVibGljIGJlaGF2aW9yOiBCZWhhdmlvcjtcbiAgcHVibGljIGtpbGxhYmxlOiBLaWxsYWJsZTtcblxuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGh5c2ljcycsIHRoaXMucGh5c2ljcyA9IG5ldyBQaHlzaWNzKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3NvbGlkJywgdGhpcy5zb2xpZCA9IG5ldyBTb2xpZCgpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwZW5kdWx1bU1vdmUnLCB0aGlzLnBlbmR1bHVtTW92ZSA9IG5ldyBQZW5kdWx1bU1vdmUoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnZ29vbWJhJywgdGhpcy5iZWhhdmlvciA9IG5ldyBCZWhhdmlvcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdraWxsYWJsZScsIHRoaXMua2lsbGFibGUgPSBuZXcgS2lsbGFibGUoKSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgR29vbWJhRmFjdG9yeSA9ICgpID0+IEdvb21iYTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRHb29tYmEoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxHb29tYmFGYWN0b3J5PiB7XG4gIHJldHVybiBsb2FkU3ByaXRlU2hlZXQoJ2dvb21iYScpXG4gIC50aGVuKGNyZWF0ZUdvb21iYUZhY3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVHb29tYmFGYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0KSA6IEdvb21iYUZhY3Rvcnkge1xuICBjb25zdCB3YWxrQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCd3YWxrJyk7XG5cbiAgZnVuY3Rpb24gcm91dGVBbmltKGdvb21iYTogR29vbWJhKSA6IHN0cmluZyB7XG4gICAgaWYoZ29vbWJhLmtpbGxhYmxlLmRlYWQpe1xuICAgICAgcmV0dXJuICdmbGF0JztcbiAgICB9XG4gICAgcmV0dXJuIHdhbGtBbmltKGdvb21iYS5saWZldGltZSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3R29vbWJhKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKXtcbiAgICBzcHJpdGVzLmRyYXcocm91dGVBbmltKHRoaXMpLCBjdHgsIDAsIDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlR29vbWJhKCl7XG4gICAgY29uc3QgZ29vbWJhID0gbmV3IEdvb21iYSgpO1xuICAgIGdvb21iYS5zaXplLnNldCgxNiwgMTYpO1xuXG4gICAgZ29vbWJhLmRyYXcgPSBkcmF3R29vbWJhO1xuXG4gICAgcmV0dXJuIGdvb21iYTtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgbG9hZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnMvc3ByaXRlXCI7XG5pbXBvcnQgU3ByaXRlU2hlZXQgZnJvbSBcIi4uL1Nwcml0ZVNoZWV0XCI7XG5pbXBvcnQgS2lsbGFibGUgZnJvbSBcIi4uL3RyYWl0cy9LaWxsYWJsZVwiO1xuaW1wb3J0IFBlbmR1bHVtTW92ZSBmcm9tIFwiLi4vdHJhaXRzL1BlbmR1bHVtTW92ZVwiO1xuaW1wb3J0IFBoeXNpY3MgZnJvbSBcIi4uL3RyYWl0cy9QaHlzaWNzXCI7XG5pbXBvcnQgU29saWQgZnJvbSBcIi4uL3RyYWl0cy9Tb2xpZFwiO1xuaW1wb3J0IFN0b21wZXIgZnJvbSBcIi4uL3RyYWl0cy9TdG9tcGVyXCI7XG5pbXBvcnQgTWFyaW8gZnJvbSBcIi4vTWFyaW9cIjtcblxuZW51bSBLb29wYVN0YXRlIHtcbiAgV0FMS0lORywgSElESU5HLCBQQU5JQyxcbn1cblxuY2xhc3MgQmVoYXZpb3IgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBzdGF0ZTogS29vcGFTdGF0ZSA9IEtvb3BhU3RhdGUuV0FMS0lORztcbiAgcHVibGljIGhpZGVUaW1lOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGhpZGVEdXJhdGlvbjogbnVtYmVyID0gNTtcbiAgcHJpdmF0ZSBwYW5pY1NwZWVkOiBudW1iZXIgPSAzMDA7XG4gIHByaXZhdGUgd2Fsa1NwZWVkOiBudW1iZXIgPSBudWxsO1xuXG4gIGNvbGxpZGVzKHVzOiBFbnRpdHksIHRoZW06IEVudGl0eSk6IHZvaWQge1xuICAgIGNvbnN0IHN0b21wZXIgPSB0aGVtLmdldFRyYWl0KCdzdG9tcGVyJyk7XG4gICAgaWYodXMgaW5zdGFuY2VvZiBLb29wYSAmJiAhdXMua2lsbGFibGUuZGVhZCAmJiBzdG9tcGVyIGluc3RhbmNlb2YgU3RvbXBlcil7XG4gICAgICBpZih0aGVtLnZlbC55ID4gdXMudmVsLnkpe1xuICAgICAgICB0aGlzLmhhbmRsZVN0b21wKHVzLCB0aGVtKTtcbiAgICAgIH1lbHNlIGlmKHRoZW0gaW5zdGFuY2VvZiBNYXJpbyl7XG4gICAgICAgIHRoaXMuaGFuZGxlTnVkZ2UodXMsIHRoZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU51ZGdlKHVzOiBLb29wYSwgdGhlbTogTWFyaW8pe1xuICAgIHN3aXRjaCh0aGlzLnN0YXRlKXtcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5XQUxLSU5HOiB0aGVtLmtpbGxhYmxlLmtpbGwoKTsgYnJlYWs7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuSElESU5HOiB0aGlzLnBhbmljKHVzLCB0aGVtKTsgYnJlYWs7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuUEFOSUM6IHtcbiAgICAgICAgY29uc3QgdHJhdmVsRGlyID0gTWF0aC5zaWduKHVzLnZlbC54KTtcbiAgICAgICAgY29uc3QgaW1wYWN0RGlyID0gTWF0aC5zaWduKHVzLnBvcy54IC0gdGhlbS5wb3MueCk7XG4gICAgICAgIGlmKHRyYXZlbERpciAhPT0gMCAmJiB0cmF2ZWxEaXIgIT09IGltcGFjdERpcil7XG4gICAgICAgICAgdGhlbS5raWxsYWJsZS5raWxsKCk7XG4gICAgICAgIH1cbiAgICAgIH0gYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlU3RvbXAodXM6IEtvb3BhLCB0aGVtOiBFbnRpdHkpe1xuICAgIHN3aXRjaCh0aGlzLnN0YXRlKXtcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5XQUxLSU5HOiB0aGlzLmhpZGUodXMpOyBicmVhaztcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5ISURJTkc6IHtcbiAgICAgICAgdXMua2lsbGFibGUua2lsbCgpO1xuICAgICAgICB1cy52ZWwuc2V0KDEwMCwgLTIwMCk7XG4gICAgICAgIHVzLnNvbGlkLm9ic3RydWN0cyA9IGZhbHNlO1xuICAgICAgfSBicmVhaztcbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5QQU5JQzogdGhpcy5oaWRlKHVzKTsgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaGlkZSh1czogS29vcGEpe1xuICAgIHVzLnZlbC54ID0gMDtcbiAgICB1cy5wZW5kdWx1bU1vdmUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIGlmKCF0aGlzLndhbGtTcGVlZCkgdGhpcy53YWxrU3BlZWQgPSB1cy5wZW5kdWx1bU1vdmUuc3BlZWQ7XG4gICAgdGhpcy5zdGF0ZSA9IEtvb3BhU3RhdGUuSElESU5HO1xuICAgIHRoaXMuaGlkZVRpbWUgPSAwO1xuICB9XG5cbiAgcGFuaWModXM6IEtvb3BhLCB0aGVtOiBFbnRpdHkpe1xuICAgIHVzLnBlbmR1bHVtTW92ZS5lbmFibGVkID0gdHJ1ZTtcbiAgICB1cy5wZW5kdWx1bU1vdmUuc3BlZWQgPSB0aGlzLnBhbmljU3BlZWQgKiBNYXRoLnNpZ24odGhlbS52ZWwueCk7XG4gICAgdGhpcy5zdGF0ZSA9IEtvb3BhU3RhdGUuUEFOSUM7XG4gIH1cblxuICB1bmhpZGUodXM6IEtvb3BhKXtcbiAgICB1cy5wZW5kdWx1bU1vdmUuZW5hYmxlZCA9IHRydWU7XG4gICAgdXMucGVuZHVsdW1Nb3ZlLnNwZWVkID0gdGhpcy53YWxrU3BlZWQ7XG4gICAgdGhpcy5zdGF0ZSA9IEtvb3BhU3RhdGUuV0FMS0lORztcbiAgfVxuXG4gIHVwZGF0ZSh1czogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcblxuICAgIGlmKCEodXMgaW5zdGFuY2VvZiBLb29wYSkpIHJldHVybjtcbiAgICBpZih0aGlzLnN0YXRlID09PSBLb29wYVN0YXRlLkhJRElORyl7XG4gICAgICB0aGlzLmhpZGVUaW1lICs9IGR0O1xuICAgICAgaWYodGhpcy5oaWRlVGltZSA+IHRoaXMuaGlkZUR1cmF0aW9uKXtcbiAgICAgICAgdGhpcy51bmhpZGUodXMgYXMgS29vcGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLb29wYSBleHRlbmRzIEVudGl0eSB7XG4gIHB1YmxpYyBwaHlzaWNzOiBQaHlzaWNzO1xuICBwdWJsaWMgc29saWQ6IFNvbGlkO1xuICBwdWJsaWMgcGVuZHVsdW1Nb3ZlOiBQZW5kdWx1bU1vdmU7XG4gIHB1YmxpYyBiZWhhdmlvcjogQmVoYXZpb3I7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BoeXNpY3MnLCB0aGlzLnBoeXNpY3MgPSBuZXcgUGh5c2ljcygpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdzb2xpZCcsIHRoaXMuc29saWQgPSBuZXcgU29saWQoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgncGVuZHVsdW1Nb3ZlJywgdGhpcy5wZW5kdWx1bU1vdmUgPSBuZXcgUGVuZHVsdW1Nb3ZlKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2dvb21iYScsIHRoaXMuYmVoYXZpb3IgPSBuZXcgQmVoYXZpb3IoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgna2lsbGFibGUnLCB0aGlzLmtpbGxhYmxlID0gbmV3IEtpbGxhYmxlKCkpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEtvb3BhRmFjdG9yeSA9ICgpID0+IEtvb3BhO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEtvb3BhKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8S29vcGFGYWN0b3J5PiB7XG4gIHJldHVybiBsb2FkU3ByaXRlU2hlZXQoJ2tvb3BhJylcbiAgLnRoZW4oY3JlYXRlS29vcGFGYWN0b3J5KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS29vcGFGYWN0b3J5KHNwcml0ZXM6IFNwcml0ZVNoZWV0KSA6IEtvb3BhRmFjdG9yeSB7XG4gIGNvbnN0IHdhbGtBbmltID0gc3ByaXRlcy5nZXRBbmltYXRpb24oJ3dhbGsnKTtcbiAgY29uc3Qgd2FrZUFuaW0gPSBzcHJpdGVzLmdldEFuaW1hdGlvbignd2FrZScpO1xuXG4gIGZ1bmN0aW9uIHJvdXRlQW5pbShrb29wYTogS29vcGEpe1xuICAgIHN3aXRjaChrb29wYS5iZWhhdmlvci5zdGF0ZSl7XG4gICAgICBjYXNlIEtvb3BhU3RhdGUuSElESU5HOiB7XG4gICAgICAgIGlmKGtvb3BhLmJlaGF2aW9yLmhpZGVUaW1lID4gMykgcmV0dXJuIHdha2VBbmltKGtvb3BhLmxpZmV0aW1lKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgS29vcGFTdGF0ZS5QQU5JQzogcmV0dXJuICdoaWRpbmcnO1xuICAgICAgZGVmYXVsdDogcmV0dXJuIHdhbGtBbmltKGtvb3BhLmxpZmV0aW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkcmF3S29vcGEoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpe1xuICAgIHNwcml0ZXMuZHJhdyhyb3V0ZUFuaW0odGhpcyksIGN0eCwgMCwgMCwgdGhpcy52ZWwueCA8IDApO1xuICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlS29vcGEoKXtcbiAgICBjb25zdCBrb29wYSA9IG5ldyBLb29wYSgpO1xuICAgIGtvb3BhLnNpemUuc2V0KDE2LCAxNik7XG4gICAga29vcGEub2Zmc2V0LnkgPSA4O1xuXG4gICAga29vcGEuZHJhdyA9IGRyYXdLb29wYTtcblxuICAgIHJldHVybiBrb29wYTtcbiAgfVxufSIsImltcG9ydCBBdWRpb0JvYXJkIGZyb20gXCIuLi9BdWRpb0JvYXJkXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IGxvYWRBdWRpb0JvYXJkIH0gZnJvbSBcIi4uL2xvYWRlcnMvYXVkaW9cIjtcbmltcG9ydCB7IGxvYWRTcHJpdGVTaGVldCB9IGZyb20gXCIuLi9sb2FkZXJzL3Nwcml0ZVwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IEdvIGZyb20gXCIuLi90cmFpdHMvR29cIjtcbmltcG9ydCBKdW1wIGZyb20gXCIuLi90cmFpdHMvSnVtcFwiO1xuaW1wb3J0IEtpbGxhYmxlIGZyb20gXCIuLi90cmFpdHMvS2lsbGFibGVcIjtcbmltcG9ydCBQaHlzaWNzIGZyb20gXCIuLi90cmFpdHMvUGh5c2ljc1wiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vdHJhaXRzL1BsYXllclwiO1xuaW1wb3J0IFNvbGlkIGZyb20gXCIuLi90cmFpdHMvU29saWRcIjtcbmltcG9ydCBTdG9tcGVyIGZyb20gXCIuLi90cmFpdHMvU3RvbXBlclwiO1xuXG5jb25zdCBlbnVtIERyYWcge1xuICBTTE9XID0gMS8xMDAwLFxuICBGQVNUID0gMS81MDAwLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFyaW8gZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgcGxheWVyOiBQbGF5ZXI7XG4gIHB1YmxpYyBwaHlzaWNzOiBQaHlzaWNzO1xuICBwdWJsaWMgc29saWQ6IFNvbGlkO1xuICBwdWJsaWMgZ286IEdvO1xuICBwdWJsaWMganVtcDogSnVtcDtcbiAgcHVibGljIHN0b21wZXI6IFN0b21wZXI7XG4gIHB1YmxpYyBraWxsYWJsZTogS2lsbGFibGU7XG5cbiAgY29uc3RydWN0b3IoYXVkaW9Cb2FyZDogQXVkaW9Cb2FyZCl7XG4gICAgc3VwZXIoYXVkaW9Cb2FyZCk7XG4gICAgdGhpcy5zaXplLnNldCgxNCwgMTYpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ3BsYXllcicsIHRoaXMucGxheWVyID0gbmV3IFBsYXllcigpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdwaHlzaWNzJywgdGhpcy5waHlzaWNzID0gbmV3IFBoeXNpY3MoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnc29saWQnLCB0aGlzLnNvbGlkID0gbmV3IFNvbGlkKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2dvJywgdGhpcy5nbyA9IG5ldyBHbygpKTtcbiAgICB0aGlzLmFkZFRyYWl0KCdqdW1wJywgdGhpcy5qdW1wID0gbmV3IEp1bXAoKSk7XG4gICAgdGhpcy5hZGRUcmFpdCgnc3RvbXBlcicsIHRoaXMuc3RvbXBlciA9IG5ldyBTdG9tcGVyKCkpO1xuICAgIHRoaXMuYWRkVHJhaXQoJ2tpbGxhYmxlJywgdGhpcy5raWxsYWJsZSA9IG5ldyBLaWxsYWJsZSgpKTtcbiAgICB0aGlzLmdvLmRyYWcgPSBEcmFnLlNMT1c7XG4gIH1cblxuICB0dXJibyhlbmFibGVkOiBib29sZWFuKXtcbiAgICB0aGlzLmdvLmRyYWcgPSBlbmFibGVkID8gRHJhZy5GQVNUIDogRHJhZy5TTE9XO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIE1hcmlvRmFjdG9yeSA9ICgpID0+IE1hcmlvO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9hZE1hcmlvKGF1ZGlvQ29udGV4dDogQXVkaW9Db250ZXh0KSA6IFByb21pc2U8TWFyaW9GYWN0b3J5PiB7XG4gIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgbG9hZFNwcml0ZVNoZWV0KCdtYXJpbycpLFxuICAgIGxvYWRBdWRpb0JvYXJkKCdtYXJpbycsIGF1ZGlvQ29udGV4dCksXG4gIF0pXG4gIC50aGVuKChbc3ByaXRlcywgYXVkaW9dKSA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZU1hcmlvRmFjdG9yeShzcHJpdGVzLCBhdWRpbyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXJpb0ZhY3Rvcnkoc3ByaXRlczogU3ByaXRlU2hlZXQsIGF1ZGlvQm9hcmQ6IEF1ZGlvQm9hcmQpIDogTWFyaW9GYWN0b3J5IHtcbiAgY29uc3QgcnVuQW5pbSA9IHNwcml0ZXMuZ2V0QW5pbWF0aW9uKCdydW4nKTtcblxuICBmdW5jdGlvbiByb3V0ZUZyYW1lKG1hcmlvOiBNYXJpbyl7XG4gICAgaWYobWFyaW8uanVtcC5mYWxsaW5nKXtcbiAgICAgIHJldHVybiAnanVtcCc7XG4gICAgfVxuICAgIGlmKG1hcmlvLmdvLmRpc3RhbmNlID4gMCl7XG4gICAgICBpZigobWFyaW8udmVsLnggPiAwICYmIG1hcmlvLmdvLmRpciA8IDApIHx8IChtYXJpby52ZWwueCA8IDAgJiYgbWFyaW8uZ28uZGlyID4gMCkpXG4gICAgICAgIHJldHVybiAnYnJlYWsnO1xuICBcbiAgICAgIHJldHVybiBydW5BbmltKG1hcmlvLmdvLmRpc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuICdpZGxlJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXdNYXJpbyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgc3ByaXRlcy5kcmF3KHJvdXRlRnJhbWUodGhpcyksIGN0eCwgMCwgMCwgdGhpcy5nby5oZWFkaW5nIDwgMCk7XG4gIH1cbiAgXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXJpbygpe1xuICAgIGNvbnN0IG1hcmlvID0gbmV3IE1hcmlvKGF1ZGlvQm9hcmQpO1xuXG4gICAgbWFyaW8uZHJhdyA9IGRyYXdNYXJpbztcbiAgICBtYXJpby5raWxsYWJsZS5yZW1vdmVBZnRlciA9IDA7XG5cbiAgICByZXR1cm4gbWFyaW87XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8gZnJvbSAnLi9lbnRpdGllcy9NYXJpbyc7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9LZXlib2FyZFN0YXRlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwS2V5Ym9hcmQobWFyaW86IE1hcmlvKSA6IEtleWJvYXJkIHtcbiAgY29uc3QgaW5wdXQgPSBuZXcgS2V5Ym9hcmQoKTtcbiAgXG4gIGlucHV0LmFkZE1hcHBpbmcoJ0tleVAnLCBrZXlTdGF0ZSA9PiB7XG4gICAgaWYoa2V5U3RhdGUpe1xuICAgICAgbWFyaW8uanVtcC5zdGFydCgpO1xuICAgIH1lbHNle1xuICAgICAgbWFyaW8uanVtcC5jYW5jZWwoKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgaW5wdXQuYWRkTWFwcGluZygnS2V5TycsIGtleVN0YXRlID0+IHtcbiAgICBtYXJpby50dXJibyhrZXlTdGF0ZSA9PT0gMSk7XG4gIH0pO1xuXG4gIGlucHV0LmFkZE1hcHBpbmcoJ0tleUEnLCBrZXlTdGF0ZSA9PiB7XG4gICAgbWFyaW8uZ28uZGlyICs9IGtleVN0YXRlID8gLTEgOiAxO1xuICB9KTtcbiAgXG4gIGlucHV0LmFkZE1hcHBpbmcoJ0tleUQnLCBrZXlTdGF0ZSA9PiB7XG4gICAgbWFyaW8uZ28uZGlyICs9IGtleVN0YXRlID8gMSA6IC0xO1xuICB9KTtcbiAgXG4gIHJldHVybiBpbnB1dDtcbn0iLCJpbXBvcnQgeyBMYXllclJlbmRlcmVyIH0gZnJvbSBcIi4uL0NvbXBvc2l0b3JcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IExldmVsVGlsZVNwZWMgfSBmcm9tIFwiLi4vbG9hZGVycy9sZXZlbFwiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdGhcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcbmltcG9ydCB7IFRpbGVSZXNvbHZlciB9IGZyb20gXCIuLi9UaWxlQ29sbGlkZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJhY2tncm91bmRMYXllcihsZXZlbDogTGV2ZWwsIHRpbGVzOiBNYXRyaXg8TGV2ZWxUaWxlU3BlYz4sIHNwcml0ZXM6IFNwcml0ZVNoZWV0KSA6IExheWVyUmVuZGVyZXIge1xuICBjb25zdCByZXNvbHZlciA9IG5ldyBUaWxlUmVzb2x2ZXIodGlsZXMpO1xuXG4gIGNvbnN0IGN0eCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XG4gIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgY3R4LmNhbnZhcy53aWR0aCA9IDI1NiArIDE2O1xuICBjdHguY2FudmFzLmhlaWdodCA9IDI0MDtcblxuICBmdW5jdGlvbiByZWRyYXcoZHJhd0Zyb206IG51bWJlciwgZHJhd1RvOiBudW1iZXIpe1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgZm9yKGxldCB4PWRyYXdGcm9tOyB4PD1kcmF3VG87IHgrKyl7XG4gICAgICBjb25zdCBjb2wgPSB0aWxlcy5ncmlkW3hdO1xuICAgICAgaWYoIWNvbCkgY29udGludWU7XG4gICAgICBjb2wuZm9yRWFjaCgodGlsZSwgeSk9PntcbiAgICAgICAgc3ByaXRlcy5kcmF3QW5pbSh0aWxlLm5hbWUsIGN0eCwgeC1kcmF3RnJvbSwgeSwgbGV2ZWwudGltZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd0JhY2tncm91bmRMYXllcihzY3JlZW4sIGNhbWVyYSl7IFxuICAgIGNvbnN0IGRyYXdXaWR0aCA9IHJlc29sdmVyLnRvSW5kZXgoY2FtZXJhLnNpemUueCk7XG4gICAgY29uc3QgZHJhd0Zyb20gPSByZXNvbHZlci50b0luZGV4KGNhbWVyYS5wb3MueCk7XG4gICAgY29uc3QgZHJhd1RvID0gZHJhd0Zyb20gKyBkcmF3V2lkdGg7XG4gICAgcmVkcmF3KGRyYXdGcm9tLCBkcmF3VG8pO1xuICAgIHNjcmVlbi5kcmF3SW1hZ2UoXG4gICAgICBjdHguY2FudmFzLCBcbiAgICAgIC1jYW1lcmEucG9zLnggJSAxNiwgXG4gICAgICAtY2FtZXJhLnBvcy55XG4gICAgKTtcbiAgfVxufSIsImltcG9ydCBDYW1lcmEgZnJvbSBcIi4uL0NhbWVyYVwiO1xuaW1wb3J0IHsgTGF5ZXJSZW5kZXJlciB9IGZyb20gXCIuLi9Db21wb3NpdG9yXCI7XG5pbXBvcnQgRW50aXR5IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCBmcm9tIFwiLi4vTGV2ZWxcIjtcbmltcG9ydCB7IFRpbGVSZXNvbHZlciB9IGZyb20gXCIuLi9UaWxlQ29sbGlkZXJcIjtcblxuaW50ZXJmYWNlIFZlYzIgeyB4OiBudW1iZXIsIHk6IG51bWJlciB9O1xuXG5mdW5jdGlvbiBjcmVhdGVFbnRpdHlMYXllcihlbnRpdGllczogU2V0PEVudGl0eT4pe1xuICByZXR1cm4gZnVuY3Rpb24gZHJhd0JvdW5kaW5nQm94KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW1lcmE6IENhbWVyYSl7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JlZCc7XG4gICAgZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LnJlY3QoXG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCAtIGNhbWVyYS5wb3MueCwgXG4gICAgICAgIGVudGl0eS5ib3VuZHMudG9wIC0gY2FtZXJhLnBvcy55LCBcbiAgICAgICAgZW50aXR5LnNpemUueCwgZW50aXR5LnNpemUueVxuICAgICAgKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGlsZUNhbmRpZGF0ZUxheWVyKHRpbGVSZXNvbHZlcjogVGlsZVJlc29sdmVyKXtcbiAgY29uc3QgcmVzb2x2ZWRUaWxlczogVmVjMltdID0gW107XG5cbiAgY29uc3QgdGlsZVNpemUgPSB0aWxlUmVzb2x2ZXIudGlsZVNpemU7XG5cbiAgY29uc3QgZ2V0QnlJbmRleE9yaWdpbmFsID0gdGlsZVJlc29sdmVyLmdldEJ5SW5kZXg7XG4gIHRpbGVSZXNvbHZlci5nZXRCeUluZGV4ID0gZnVuY3Rpb24gZ2V0QnlJbmRleEZha2UoeDogbnVtYmVyLCB5OiBudW1iZXIpe1xuICAgIHJlc29sdmVkVGlsZXMucHVzaCh7eCwgeX0pO1xuICAgIHJldHVybiBnZXRCeUluZGV4T3JpZ2luYWwuY2FsbCh0aWxlUmVzb2x2ZXIsIHgsIHkpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRyYXdUaWxlQ2FuZGlkYXRlcyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhOiBDYW1lcmEpe1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdibHVlJztcbiAgICByZXNvbHZlZFRpbGVzLmZvckVhY2goKHt4LHl9KSA9PiB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgucmVjdChcbiAgICAgICAgeCp0aWxlU2l6ZSAtIGNhbWVyYS5wb3MueCwgXG4gICAgICAgIHkqdGlsZVNpemUgLSBjYW1lcmEucG9zLnksIFxuICAgICAgICB0aWxlU2l6ZSwgdGlsZVNpemVcbiAgICAgICk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfSk7XG5cbiAgICByZXNvbHZlZFRpbGVzLmxlbmd0aCA9IDA7XG4gIH07XG59XG4gXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29sbGlzaW9uTGF5ZXIobGV2ZWw6IExldmVsKSA6IExheWVyUmVuZGVyZXIge1xuICBjb25zdCBkcmF3VGlsZUNhbmRpZGF0ZXMgPSBsZXZlbC50aWxlQ29sbGlkZXIucmVzb2x2ZXJzLm1hcChjcmVhdGVUaWxlQ2FuZGlkYXRlTGF5ZXIpO1xuICBjb25zdCBkcmF3Qm91bmRpbmdCb3hlcyA9IGNyZWF0ZUVudGl0eUxheWVyKGxldmVsLmVudGl0aWVzKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd0NvbGxpc2lvbihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FtZXJhOiBDYW1lcmEpe1xuICAgIGRyYXdUaWxlQ2FuZGlkYXRlcy5mb3JFYWNoKGRyYXcgPT4gZHJhdyhjdHgsIGNhbWVyYSkpO1xuICAgIGRyYXdCb3VuZGluZ0JveGVzKGN0eCwgY2FtZXJhKTtcbiAgfVxufSIsImltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IExldmVsIGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgRm9udFNoZWV0IH0gZnJvbSBcIi4uL2xvYWRlcnMvZm9udFwiO1xuaW1wb3J0IHsgZmluZFBsYXllcnMgfSBmcm9tIFwiLi4vcGxheWVyXCI7XG5pbXBvcnQgTGV2ZWxUaW1lciBmcm9tIFwiLi4vdHJhaXRzL0xldmVsVGltZXJcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL3RyYWl0cy9QbGF5ZXJcIjtcblxuZnVuY3Rpb24gZ2V0UGxheWVyVHJhaXQobGV2ZWw6IExldmVsKSA6IFBsYXllciB7XG4gIGZvcihjb25zdCBlbnRpdHkgb2YgZmluZFBsYXllcnMobGV2ZWwpKXtcbiAgICByZXR1cm4gZW50aXR5LmdldFRyYWl0KCdwbGF5ZXInKSBhcyBQbGF5ZXI7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGltZXJUcmFpdChsZXZlbDogTGV2ZWwpIDogTGV2ZWxUaW1lciB7XG4gIGZvcihjb25zdCBlbnRpdHkgb2YgbGV2ZWwuZW50aXRpZXMpe1xuICAgIGNvbnN0IHRyYWl0ID0gZW50aXR5LmdldFRyYWl0KCdsZXZlbFRpbWVyJyk7XG4gICAgaWYodHJhaXQgJiYgdHJhaXQgaW5zdGFuY2VvZiBMZXZlbFRpbWVyKSByZXR1cm4gdHJhaXQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURhc2hib2FyZExheWVyKGZvbnQ6IEZvbnRTaGVldCwgbGV2ZWw6IExldmVsKSA6IExheWVyUmVuZGVyZXIge1xuICBjb25zdCBMSU5FMSA9IGZvbnQuc2l6ZTtcbiAgY29uc3QgTElORTIgPSBmb250LnNpemUgKiAyO1xuXG4gIGNvbnN0IHBsYXllciA9IGdldFBsYXllclRyYWl0KGxldmVsKTtcbiAgY29uc3QgdGltZXIgPSBnZXRUaW1lclRyYWl0KGxldmVsKTtcblxuICByZXR1cm4gZnVuY3Rpb24gZHJhd0Rhc2hib2FyZChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgZm9udC5kcmF3KHBsYXllci5uYW1lLCBjdHgsIDE2LCBMSU5FMSk7XG4gICAgZm9udC5kcmF3KHBsYXllci5zY29yZS50b1N0cmluZygpLnBhZFN0YXJ0KDYsICcwJyksIGN0eCwgMTYsIExJTkUyKTtcblxuICAgIGZvbnQuZHJhdyhgQHgke3BsYXllci5jb2lucy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YCwgY3R4LCA5NiwgTElORTIpO1xuXG4gICAgZm9udC5kcmF3KCdXT1JMRCcsIGN0eCwgMTUyLCBMSU5FMSk7XG4gICAgZm9udC5kcmF3KCcxLTEnLCBjdHgsIDE2MCwgTElORTIpO1xuXG4gICAgZm9udC5kcmF3KCdUSU1FJywgY3R4LCAyMDgsIExJTkUxKTtcbiAgICBmb250LmRyYXcoTWF0aC5tYXgoMCwgdGltZXIuY3VycmVudFRpbWUpLnRvRml4ZWQoMCkucGFkU3RhcnQoMywgJzAnKSwgY3R4LCAyMTYsIExJTkUyKTtcbiAgfVxufSIsImltcG9ydCB7IExheWVyUmVuZGVyZXIgfSBmcm9tIFwiLi4vQ29tcG9zaXRvclwiO1xuaW1wb3J0IEVudGl0eSBmcm9tIFwiLi4vRW50aXR5XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTcHJpdGVMYXllcihlbnRpdGllczogU2V0PEVudGl0eT4sIHdpZHRoOiBudW1iZXIgPSA2NCwgaGVpZ2h0OiBudW1iZXIgPSA2NCkgOiBMYXllclJlbmRlcmVyIHtcbiAgY29uc3Qgc3ByaXRlQ3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgc3ByaXRlQ3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICBzcHJpdGVDdHguY2FudmFzLndpZHRoID0gd2lkdGg7XG4gIHNwcml0ZUN0eC5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gIHJldHVybiBmdW5jdGlvbiBkcmF3U3ByaXRlTGF5ZXIoY3R4LCBjYW1lcmEpe1xuICAgIGVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIHNwcml0ZUN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBlbnRpdHkuZHJhdyhzcHJpdGVDdHgpO1xuXG4gICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICBzcHJpdGVDdHguY2FudmFzLCBcbiAgICAgICAgZW50aXR5LnBvcy54IC0gY2FtZXJhLnBvcy54LFxuICAgICAgICBlbnRpdHkucG9zLnkgLSBjYW1lcmEucG9zLnlcbiAgICAgICk7XG4gICAgfSlcbiAgfVxufSIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkSW1hZ2UocGF0aDogc3RyaW5nKSA6IFByb21pc2U8SFRNTEltYWdlRWxlbWVudD57XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KT0+e1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5vbmxvYWQgPSAoKT0+cmVzb2x2ZShpbWcpO1xuICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuICAgIGltZy5zcmMgPSBwYXRoO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRKU09OKHBhdGg6IHN0cmluZykgOiBQcm9taXNlPG9iamVjdD4ge1xuICByZXR1cm4gZmV0Y2gocGF0aCkudGhlbihyZXM9PnJlcy5qc29uKCkpO1xufSIsImltcG9ydCBBdWRpb0JvYXJkIGZyb20gXCIuLi9BdWRpb0JvYXJkXCI7XG5pbXBvcnQgeyBsb2FkSlNPTiB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5cbnR5cGUgQXVkaW9Mb2FkZXIgPSAodXJsOiBzdHJpbmcpID0+IFByb21pc2U8QXVkaW9CdWZmZXI+O1xuXG5pbnRlcmZhY2UgQXVkaW9TcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICB1cmw6IHN0cmluZyxcbn1cbmludGVyZmFjZSBBdWRpb1NoZWV0U3BlYyB7XG4gIGZ4OiBBdWRpb1NwZWNbXSxcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRBdWRpb0JvYXJkKG5hbWU6IHN0cmluZywgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpIDogUHJvbWlzZTxBdWRpb0JvYXJkPiB7XG4gIGNvbnN0IGxvYWRBdWRpbyA9IGNyZWF0ZUF1ZGlvTG9hZGVyKGF1ZGlvQ29udGV4dCk7XG4gIGNvbnN0IGF1ZGlvU2hlZXQgPSBhd2FpdCBsb2FkSlNPTihgLi9zb3VuZHMvJHtuYW1lfS5qc29uYCkgYXMgQXVkaW9TaGVldFNwZWM7XG4gIGNvbnN0IGF1ZGlvQm9hcmQgPSBuZXcgQXVkaW9Cb2FyZCgpO1xuICBjb25zdCBqb2JzOiBhbnlbXSA9IFtdO1xuICBhdWRpb1NoZWV0LmZ4LmZvckVhY2goKHsgbmFtZSwgdXJsIH0pID0+IHtcbiAgICBqb2JzLnB1c2goXG4gICAgICBsb2FkQXVkaW8odXJsKVxuICAgICAgLnRoZW4oYnVmZmVyID0+IHtcbiAgICAgICAgYXVkaW9Cb2FyZC5hZGQobmFtZSwgYnVmZmVyKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfSk7XG4gIGF3YWl0IFByb21pc2UuYWxsKGpvYnMpO1xuICByZXR1cm4gYXVkaW9Cb2FyZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF1ZGlvTG9hZGVyKGNvbnRleHQ6IEF1ZGlvQ29udGV4dCkgOiBBdWRpb0xvYWRlciB7XG4gIHJldHVybiBmdW5jdGlvbiBsb2FkQXVkaW8odXJsOiBzdHJpbmcpIDogUHJvbWlzZTxBdWRpb0J1ZmZlcj4ge1xuICAgIHJldHVybiBmZXRjaCh1cmwpXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAudGhlbihhcnJheUJ1ZmZlciA9PiB7XG4gICAgICByZXR1cm4gY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlCdWZmZXIpO1xuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgbG9hZEltYWdlIH0gZnJvbSBcIi4uL2xvYWRlcnNcIjtcbmltcG9ydCBTcHJpdGVTaGVldCBmcm9tIFwiLi4vU3ByaXRlU2hlZXRcIjtcblxuY29uc3QgTEVUVEVSUyA9IGAgIVwiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXFxcXF1eX1xcYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fmBcblxuZXhwb3J0IGNsYXNzIEZvbnRTaGVldCB7XG4gIHByaXZhdGUgc2hlZXQ6IFNwcml0ZVNoZWV0O1xuICBwdWJsaWMgc2l6ZTogbnVtYmVyO1xuICBjb25zdHJ1Y3RvcihzaGVldDogU3ByaXRlU2hlZXQsIHNpemU6IG51bWJlcil7XG4gICAgdGhpcy5zaGVldCA9IHNoZWV0O1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gIH1cbiAgZHJhdyh0ZXh0OiBzdHJpbmcsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcil7XG4gICAgZm9yKGxldCB4PTA7IHg8dGV4dC5sZW5ndGg7IHgrKyl7XG4gICAgICB0aGlzLnNoZWV0LmRyYXcodGV4dFt4XSwgY3R4LCBvZmZzZXRYICsgeCAqIHRoaXMuc2l6ZSwgb2Zmc2V0WSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkRm9udCgpIDogUHJvbWlzZTxGb250U2hlZXQ+IHtcbiAgY29uc3QgaW1hZ2UgPSBhd2FpdCBsb2FkSW1hZ2UoJy4vc2hlZXRzL2ZvbnQucG5nJylcbiAgY29uc3Qgc3ByaXRlcyA9IG5ldyBTcHJpdGVTaGVldChpbWFnZSk7XG5cbiAgY29uc3Qgc2l6ZSA9IDg7XG4gIGZvcihsZXQgaT0wOyBpPExFVFRFUlMubGVuZ3RoOyBpKyspe1xuICAgIGNvbnN0IHggPSAoaSAmIDE1KSAqIHNpemU7XG4gICAgY29uc3QgeSA9IChpID4+IDQpICogc2l6ZTtcbiAgICBzcHJpdGVzLmRlZmluZShMRVRURVJTW2ldLCB4LCB5LCBzaXplLCBzaXplKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgRm9udFNoZWV0KHNwcml0ZXMsIHNpemUpO1xufSIsImltcG9ydCB7IEVudGl0eUZhY3RvcnkgfSBmcm9tIFwiLi4vZW50aXRpZXNcIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgY3JlYXRlQmFja2dyb3VuZExheWVyIH0gZnJvbSBcIi4uL2xheWVycy9iYWNrZ3JvdW5kXCI7XG5pbXBvcnQgeyBjcmVhdGVTcHJpdGVMYXllciB9IGZyb20gXCIuLi9sYXllcnMvc3ByaXRlXCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4uL0xldmVsXCI7XG5pbXBvcnQgeyBsb2FkSlNPTiB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0aFwiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuaW1wb3J0IExldmVsVGltZXIgZnJvbSBcIi4uL3RyYWl0cy9MZXZlbFRpbWVyXCI7XG5pbXBvcnQgeyBsb2FkTXVzaWNTaGVldCB9IGZyb20gXCIuL211c2ljXCI7XG5pbXBvcnQgeyBsb2FkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi9zcHJpdGVcIjtcblxudHlwZSBSYW5nZSA9IFtudW1iZXIsIG51bWJlciwgbnVtYmVyPywgbnVtYmVyP107XG5leHBvcnQgaW50ZXJmYWNlIExldmVsVGlsZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHBhdHRlcm4/OiBzdHJpbmcsXG4gIHR5cGU/OiBzdHJpbmcsXG4gIHJhbmdlczogUmFuZ2VbXSxcbn1cbmludGVyZmFjZSBQYXR0ZXJuU3BlYyB7XG4gIHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sXG59XG5pbnRlcmZhY2UgUGF0dGVybnNTcGVjIHtcbiAgW2tleTogc3RyaW5nXTogUGF0dGVyblNwZWMsXG59O1xuaW50ZXJmYWNlIExheWVyU3BlYyB7XG4gIHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sXG59XG5pbnRlcmZhY2UgRW50aXR5U3BlYyB7XG4gIG5hbWU6IHN0cmluZyxcbiAgcG9zOiBbbnVtYmVyLCBudW1iZXJdLFxufVxuaW50ZXJmYWNlIExldmVsU3BlYyB7XG4gIHNwcml0ZVNoZWV0OiBzdHJpbmcsXG4gIG11c2ljU2hlZXQ6IHN0cmluZyxcbiAgcGF0dGVybnM6IFBhdHRlcm5zU3BlYyxcbiAgbGF5ZXJzOiBMYXllclNwZWNbXSxcbiAgZW50aXRpZXM6IEVudGl0eVNwZWNbXSxcbn1cbmludGVyZmFjZSBFeHBhbmRlZFRpbGUge1xuICB0aWxlOiBMZXZlbFRpbGVTcGVjLFxuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGltZXIoKSA6IEVudGl0eSB7XG4gIGNvbnN0IHRpbWVyID0gbmV3IEVudGl0eSgpO1xuICB0aW1lci5hZGRUcmFpdCgnbGV2ZWxUaW1lcicsIG5ldyBMZXZlbFRpbWVyKCkpO1xuICByZXR1cm4gdGltZXI7XG59XG5cbmZ1bmN0aW9uIHNldHVwQmVoYXZpb3IobGV2ZWw6IExldmVsKXtcbiAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpO1xuICBsZXZlbC5lbnRpdGllcy5hZGQodGltZXIpO1xuXG4gIGxldmVsLmV2ZW50cy5saXN0ZW4oTGV2ZWxUaW1lci5USU1FUl9PS0FZLCAoKSA9PiBsZXZlbC5tdXNpYy5wbGF5VGhlbWUoKSk7XG4gIGxldmVsLmV2ZW50cy5saXN0ZW4oTGV2ZWxUaW1lci5USU1FUl9IVVJSWSwgKCkgPT4gbGV2ZWwubXVzaWMucGxheUh1cnJ5VGhlbWUoKSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwQmFja2dyb3VuZHMobGV2ZWxTcGVjOiBMZXZlbFNwZWMsIGxldmVsOiBMZXZlbCwgc3ByaXRlczogU3ByaXRlU2hlZXQpe1xuICBsZXZlbFNwZWMubGF5ZXJzLmZvckVhY2goKGxheWVyLCBpKSA9PiB7XG4gICAgY29uc3QgZ3JpZCA9IGNyZWF0ZUdyaWQobGF5ZXIudGlsZXMsIGxldmVsU3BlYy5wYXR0ZXJucyk7XG4gICAgY29uc3QgYmFja2dyb3VuZExheWVyID0gY3JlYXRlQmFja2dyb3VuZExheWVyKGxldmVsLCBncmlkLCBzcHJpdGVzKTtcbiAgICBsZXZlbC5jb21wLmFkZChiYWNrZ3JvdW5kTGF5ZXIpO1xuICAgIGxldmVsLnRpbGVDb2xsaWRlci5hZGRHcmlkKGdyaWQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0dXBFbnRpdGllcyhsZXZlbFNwZWM6IExldmVsU3BlYywgbGV2ZWw6IExldmVsLCBlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KXtcbiAgbGV2ZWxTcGVjLmVudGl0aWVzLmZvckVhY2goKHtuYW1lLCBwb3M6IFt4LCB5XX0pID0+IHtcbiAgICBjb25zdCBjcmVhdGVFbnRpdHkgPSBlbnRpdHlGYWN0b3J5W25hbWVdO1xuICAgIGNvbnN0IGVudGl0eSA9IGNyZWF0ZUVudGl0eSgpO1xuICAgIGVudGl0eS5wb3Muc2V0KHgsIHkpO1xuICAgIGxldmVsLmVudGl0aWVzLmFkZChlbnRpdHkpO1xuICB9KVxuXG4gIGNvbnN0IHNwcml0ZUxheWVyID0gY3JlYXRlU3ByaXRlTGF5ZXIobGV2ZWwuZW50aXRpZXMpO1xuICBsZXZlbC5jb21wLmFkZChzcHJpdGVMYXllcik7XG59XG5cbnR5cGUgTGV2ZWxMb2FkZXIgPSAobmFtZTogc3RyaW5nKSA9PiBQcm9taXNlPExldmVsPjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMZXZlbExvYWRlcihlbnRpdHlGYWN0b3J5OiBFbnRpdHlGYWN0b3J5KSA6IExldmVsTG9hZGVyIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGxvYWRMZXZlbChuYW1lOiBzdHJpbmcpIDogUHJvbWlzZTxMZXZlbD4ge1xuICAgIHJldHVybiAobG9hZEpTT04oYC4vbGV2ZWxzLyR7bmFtZX0uanNvbmApIGFzIFByb21pc2U8TGV2ZWxTcGVjPilcbiAgICAudGhlbihsZXZlbFNwZWMgPT4gUHJvbWlzZS5hbGwoW1xuICAgICAgbGV2ZWxTcGVjLFxuICAgICAgbG9hZFNwcml0ZVNoZWV0KGxldmVsU3BlYy5zcHJpdGVTaGVldCksXG4gICAgICBsb2FkTXVzaWNTaGVldChsZXZlbFNwZWMubXVzaWNTaGVldCksXG4gICAgXSkpXG4gICAgLnRoZW4oKFtsZXZlbFNwZWMsIHNwcml0ZXMsIG11c2ljUGxheWVyXSkgPT4ge1xuICAgICAgY29uc3QgbGV2ZWwgPSBuZXcgTGV2ZWwoKTtcbiAgICAgIGxldmVsLm11c2ljLnNldFBsYXllcihtdXNpY1BsYXllcik7XG5cbiAgICAgIHNldHVwQmFja2dyb3VuZHMobGV2ZWxTcGVjLCBsZXZlbCwgc3ByaXRlcyk7XG4gICAgICBzZXR1cEVudGl0aWVzKGxldmVsU3BlYywgbGV2ZWwsIGVudGl0eUZhY3RvcnkpO1xuICAgICAgc2V0dXBCZWhhdmlvcihsZXZlbCk7XG4gICAgICBcbiAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVHcmlkKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMpIDogTWF0cml4PExldmVsVGlsZVNwZWM+IHtcbiAgY29uc3QgZ3JpZDogTWF0cml4PExldmVsVGlsZVNwZWM+ID0gbmV3IE1hdHJpeCgpO1xuXG4gIGZvcihjb25zdCB7IHRpbGUsIHgsIHkgfSBvZiBleHBhbmRUaWxlcyh0aWxlcywgcGF0dGVybnMpKXtcbiAgICBncmlkLnNldCh4LCB5LCB0aWxlKTtcbiAgfVxuXG4gIHJldHVybiBncmlkO1xufVxuXG50eXBlIENvb3JkID0geyB4OiBudW1iZXIsIHk6bnVtYmVyIH07XG5mdW5jdGlvbiogZXhwYW5kU3Bhbih4U3RhcnQ6IG51bWJlciwgeExlbjogbnVtYmVyLCB5U3RhcnQ6IG51bWJlciwgeUxlbjogbnVtYmVyKSA6IEdlbmVyYXRvcjxDb29yZD4ge1xuICBjb25zdCB4RW5kID0geFN0YXJ0ICsgeExlbiwgeUVuZCA9IHlTdGFydCArIHlMZW47XG4gIGZvcihsZXQgeD14U3RhcnQ7IHg8eEVuZDsgeCsrKXtcbiAgICBmb3IobGV0IHk9eVN0YXJ0OyB5PHlFbmQ7IHkrKyl7XG4gICAgICB5aWVsZCB7IHgsIHkgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwYW5kUmFuZ2UocmFuZ2U6IFJhbmdlKSA6IEdlbmVyYXRvcjxDb29yZD4ge1xuICBzd2l0Y2gocmFuZ2UubGVuZ3RoKXtcbiAgICBjYXNlIDQ6IHJldHVybiBleHBhbmRTcGFuKC4uLnJhbmdlKTtcbiAgICBjYXNlIDM6IHJldHVybiBleHBhbmRTcGFuKHJhbmdlWzBdLCByYW5nZVsxXSwgcmFuZ2VbMl0sIDEpO1xuICAgIGNhc2UgMjogcmV0dXJuIGV4cGFuZFNwYW4ocmFuZ2VbMF0sIDEsIHJhbmdlWzFdLCAxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiogZXhwYW5kUmFuZ2VzKHJhbmdlczogUmFuZ2VbXSkgOiBHZW5lcmF0b3I8YW55PiB7XG4gIGZvcihjb25zdCByYW5nZSBvZiByYW5nZXMpe1xuICAgIHlpZWxkKiBleHBhbmRSYW5nZShyYW5nZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24qIGV4cGFuZFRpbGVzKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIHBhdHRlcm5zOiBQYXR0ZXJuc1NwZWMpIDogR2VuZXJhdG9yPEV4cGFuZGVkVGlsZT4ge1xuICBmdW5jdGlvbiogd2Fsa1RpbGVzKHRpbGVzOiBMZXZlbFRpbGVTcGVjW10sIG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyKSA6IEdlbmVyYXRvcjxFeHBhbmRlZFRpbGU+IHtcbiAgICBmb3IoY29uc3QgdGlsZSBvZiB0aWxlcyl7XG4gICAgICBmb3IoY29uc3QgeyB4LCB5IH0gb2YgZXhwYW5kUmFuZ2VzKHRpbGUucmFuZ2VzKSl7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRYID0geCArIG9mZnNldFgsIGRlcml2ZWRZID0geSArIG9mZnNldFk7XG4gICAgICAgIGlmKHRpbGUucGF0dGVybil7XG4gICAgICAgICAgY29uc3QgdGlsZXMgPSBwYXR0ZXJuc1t0aWxlLnBhdHRlcm5dLnRpbGVzO1xuICAgICAgICAgIHlpZWxkKiB3YWxrVGlsZXModGlsZXMsIGRlcml2ZWRYLCBkZXJpdmVkWSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICB4OiBkZXJpdmVkWCxcbiAgICAgICAgICAgIHk6IGRlcml2ZWRZLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB5aWVsZCogd2Fsa1RpbGVzKHRpbGVzLCAwLCAwKTtcbn0iLCJpbXBvcnQgeyBsb2FkSlNPTiB9IGZyb20gXCIuLi9sb2FkZXJzXCI7XG5pbXBvcnQgTXVzaWNQbGF5ZXIgZnJvbSBcIi4uL011c2ljUGxheWVyXCI7XG5cbmludGVyZmFjZSBNdXNpY1NwZWMge1xuICB1cmw6IHN0cmluZyxcbn1cbmludGVyZmFjZSBNdXNpY1NoZWV0U3BlYyB7XG4gIFtuYW1lOiBzdHJpbmddOiBNdXNpY1NwZWMsXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkTXVzaWNTaGVldChuYW1lOiBzdHJpbmcpIDogUHJvbWlzZTxNdXNpY1BsYXllcj4ge1xuICBjb25zdCBtdXNpY1NoZWV0ID0gYXdhaXQgbG9hZEpTT04oYC4vbXVzaWMvJHtuYW1lfS5qc29uYCkgYXMgTXVzaWNTaGVldFNwZWM7XG4gIGNvbnN0IG11c2ljUGxheWVyID0gbmV3IE11c2ljUGxheWVyKCk7XG4gIGZvcihjb25zdCBbbmFtZSwgdHJhY2tdIG9mIE9iamVjdC5lbnRyaWVzKG11c2ljU2hlZXQpKXtcbiAgICBtdXNpY1BsYXllci5hZGRUcmFjayhuYW1lLCB0cmFjay51cmwpO1xuICB9XG4gIHJldHVybiBtdXNpY1BsYXllcjtcbn0iLCJpbXBvcnQgeyBjcmVhdGVBbmltIH0gZnJvbSBcIi4uL2FuaW1cIjtcbmltcG9ydCB7IGxvYWRJbWFnZSwgbG9hZEpTT04gfSBmcm9tIFwiLi4vbG9hZGVyc1wiO1xuaW1wb3J0IFNwcml0ZVNoZWV0IGZyb20gXCIuLi9TcHJpdGVTaGVldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRpbGVTcGVjIHtcbiAgbmFtZTogc3RyaW5nLFxuICBpbmRleDogW251bWJlciwgbnVtYmVyXSxcbn1cbmludGVyZmFjZSBGcmFtZVNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIHJlY3Q6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxufVxuaW50ZXJmYWNlIEFuaW1hdGlvblNwZWMge1xuICBuYW1lOiBzdHJpbmcsXG4gIGZyYW1lTGVuOiBudW1iZXIsXG4gIGZyYW1lczogc3RyaW5nW10sXG59XG5pbnRlcmZhY2UgU2hlZXRTcGVjIHtcbiAgaW1hZ2VVUkw6IHN0cmluZyxcbiAgdGlsZVc6IG51bWJlciwgdGlsZUg6IG51bWJlcixcbiAgdGlsZXM/OiBUaWxlU3BlY1tdLFxuICBmcmFtZXM/OiBGcmFtZVNwZWNbXSxcbiAgYW5pbWF0aW9ucz86IEFuaW1hdGlvblNwZWNbXSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRTcHJpdGVTaGVldChuYW1lOiBzdHJpbmcpe1xuICByZXR1cm4gKGxvYWRKU09OKGAuL3Nwcml0ZXMvJHtuYW1lfS5qc29uYCkgYXMgUHJvbWlzZTxTaGVldFNwZWM+KVxuICAudGhlbihzaGVldFNwZWMgPT4gUHJvbWlzZS5hbGwoW1xuICAgIHNoZWV0U3BlYyxcbiAgICBsb2FkSW1hZ2Uoc2hlZXRTcGVjLmltYWdlVVJMKSxcbiAgXSkpXG4gIC50aGVuKChbc2hlZXRTcGVjLCBpbWFnZV0pPT57XG4gICAgY29uc3Qgc3ByaXRlcyA9IG5ldyBTcHJpdGVTaGVldChpbWFnZSwgc2hlZXRTcGVjLnRpbGVXLCBzaGVldFNwZWMudGlsZUgpO1xuXG4gICAgaWYoc2hlZXRTcGVjLnRpbGVzKXtcbiAgICAgIHNoZWV0U3BlYy50aWxlcy5mb3JFYWNoKHRpbGVTcGVjID0+IHtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmVUaWxlKHRpbGVTcGVjLm5hbWUsIC4uLnRpbGVTcGVjLmluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKHNoZWV0U3BlYy5mcmFtZXMpe1xuICAgICAgc2hlZXRTcGVjLmZyYW1lcy5mb3JFYWNoKCh7bmFtZSwgcmVjdH0pID0+IHtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmUobmFtZSwgLi4ucmVjdCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihzaGVldFNwZWMuYW5pbWF0aW9ucyl7XG4gICAgICBzaGVldFNwZWMuYW5pbWF0aW9ucy5mb3JFYWNoKCh7bmFtZSwgZnJhbWVMZW4sIGZyYW1lc30pID0+IHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gY3JlYXRlQW5pbShmcmFtZXMsIGZyYW1lTGVuKTtcbiAgICAgICAgc3ByaXRlcy5kZWZpbmVBbmltKG5hbWUsIGFuaW1hdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3ByaXRlcztcbiAgfSlcbn0iLCJ0eXBlIE1hdHJpeENhbGxiYWNrPFQ+ID0gKHg6IG51bWJlciwgeTogbnVtYmVyLCB0aWxlOiBUKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgTWF0cml4PFQ+IHtcbiAgcHVibGljIGdyaWQ6IFRbXVtdO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMuZ3JpZCA9IFtdO1xuICB9XG4gIGRlbGV0ZSh4OiBudW1iZXIsIHk6IG51bWJlcil7XG4gICAgY29uc3QgY29sID0gdGhpcy5ncmlkW3hdO1xuICAgIGlmKGNvbCkgZGVsZXRlIGNvbFt5XTtcbiAgfVxuICBnZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpIDogVCB7XG4gICAgY29uc3QgY29sID0gdGhpcy5ncmlkW3hdO1xuICAgIGlmKGNvbCkgcmV0dXJuIGNvbFt5XTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgdmFsdWU6IFQpe1xuICAgIGlmKCF0aGlzLmdyaWRbeF0pIHRoaXMuZ3JpZFt4XSA9IFtdO1xuICAgIHRoaXMuZ3JpZFt4XVt5XSA9IHZhbHVlO1xuICB9XG4gIGZvckVhY2goY2FsbGJhY2s6IE1hdHJpeENhbGxiYWNrPFQ+KXtcbiAgICB0aGlzLmdyaWQuZm9yRWFjaCgoY29sdW1ucywgeCkgPT4ge1xuICAgICAgY29sdW1ucy5mb3JFYWNoKCh0aWxlLCB5KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKHgsIHksIHRpbGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZlY3RvciB7XG4gIHB1YmxpYyB4OiBudW1iZXI7XG4gIHB1YmxpYyB5OiBudW1iZXI7XG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApe1xuICAgIHRoaXMuc2V0KHgsIHkpO1xuICB9XG4gIGNvcHkoc291cmNlOiBWZWN0b3Ipe1xuICAgIHRoaXMuc2V0KHNvdXJjZS54LCBzb3VyY2UueSk7XG4gIH1cbiAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyKXtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbn0iLCJpbXBvcnQgTWFyaW8gZnJvbSBcIi4vZW50aXRpZXMvTWFyaW9cIjtcbmltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgTGV2ZWwgZnJvbSBcIi4vTGV2ZWxcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vdHJhaXRzL1BsYXllclwiO1xuaW1wb3J0IFBsYXllckNvbnRyb2xsZXIgZnJvbSBcIi4vdHJhaXRzL1BsYXllckNvbnRyb2xsZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBsYXllckVudihwbGF5ZXI6IE1hcmlvKSA6IEVudGl0eSB7XG4gIGNvbnN0IGVudiA9IG5ldyBFbnRpdHkoKTtcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBQbGF5ZXJDb250cm9sbGVyKCk7XG4gIGNvbnRyb2xsZXIuY2hlY2twb2ludC5zZXQoNjQsIDY0KTtcbiAgY29udHJvbGxlci5zZXRQbGF5ZXIocGxheWVyKTtcbiAgZW52LmFkZFRyYWl0KCdjb250cm9sbGVyJywgY29udHJvbGxlcik7XG4gIHJldHVybiBlbnY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogZmluZFBsYXllcnMobGV2ZWw6IExldmVsKSA6IEdlbmVyYXRvcjxFbnRpdHk+IHtcbiAgZm9yKGNvbnN0IGVudGl0eSBvZiBsZXZlbC5lbnRpdGllcyl7XG4gICAgaWYoZW50aXR5LmdldFRyYWl0KCdwbGF5ZXInKSBpbnN0YW5jZW9mIFBsYXllcikgeWllbGQgZW50aXR5O1xuICB9XG59IiwiaW1wb3J0IHsgU2lkZXMgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBUaWxlQ29sbGlzaW9uQ29udGV4dCB9IGZyb20gXCIuLi9UaWxlQ29sbGlkZXJcIjtcblxuZnVuY3Rpb24gaGFuZGxlWCh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnggPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLnJpZ2h0ID4gbWF0Y2gueDEpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlJJR0hULCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnggPCAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmxlZnQgPCBtYXRjaC54Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuTEVGVCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVZKHRpbGVDb2xsaXNpb25Db250ZXh0OiBUaWxlQ29sbGlzaW9uQ29udGV4dCl7XG4gIGNvbnN0IHsgZW50aXR5LCBtYXRjaCwgcmVzb2x2ZXIsIGdhbWVDb250ZXh0IH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDsgXG5cbiAgaWYoZW50aXR5LnZlbC55ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5ib3R0b20gPiBtYXRjaC55MSl7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuQk9UVE9NLCBtYXRjaCk7XG4gICAgfVxuICB9ZWxzZSBpZihlbnRpdHkudmVsLnkgPCAwKXtcbiAgICBpZihlbnRpdHkuZ2V0VHJhaXQoJ3BsYXllcicpKXtcbiAgICAgIGNvbnN0IGdyaWQgPSByZXNvbHZlci5tYXRyaXg7XG4gICAgICBncmlkLmRlbGV0ZShtYXRjaC5pbmRleFgsIG1hdGNoLmluZGV4WSk7XG4gICAgICBjb25zdCBnb29tYmEgPSBnYW1lQ29udGV4dC5lbnRpdHlGYWN0b3J5Lmdvb21iYSgpO1xuICAgICAgZ29vbWJhLnBvcy5zZXQoZW50aXR5LnBvcy54LCBtYXRjaC55MSk7XG4gICAgICBnb29tYmEudmVsLnNldCg1MCwgLTQwMCk7XG4gICAgICBnYW1lQ29udGV4dC5sZXZlbC5lbnRpdGllcy5hZGQoZ29vbWJhKTtcbiAgICB9XG4gICAgaWYoZW50aXR5LmJvdW5kcy50b3AgPCBtYXRjaC55Mil7XG4gICAgICBlbnRpdHkub2JzdHJ1Y3QoU2lkZXMuVE9QLCBtYXRjaCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBicmljayA9IFsgaGFuZGxlWCwgaGFuZGxlWSBdOyIsImltcG9ydCB7IFRpbGVDb2xsaXNpb25Db250ZXh0IH0gZnJvbSBcIi4uL1RpbGVDb2xsaWRlclwiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vdHJhaXRzL1BsYXllclwiO1xuXG5mdW5jdGlvbiBoYW5kbGUodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIHJlc29sdmVyLCBtYXRjaCB9ID0gdGlsZUNvbGxpc2lvbkNvbnRleHQ7XG4gIGNvbnN0IHBsYXllciA9IGVudGl0eS5nZXRUcmFpdCgncGxheWVyJyk7XG4gIGlmKHBsYXllciBpbnN0YW5jZW9mIFBsYXllcil7XG4gICAgcGxheWVyLmFkZENvaW5zKDEpO1xuICAgIGNvbnN0IGdyaWQgPSByZXNvbHZlci5tYXRyaXg7XG4gICAgZ3JpZC5kZWxldGUobWF0Y2guaW5kZXhYLCBtYXRjaC5pbmRleFkpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjb2luID0gWyBoYW5kbGUsIGhhbmRsZSBdOyIsImltcG9ydCB7IFNpZGVzIH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgVGlsZUNvbGxpc2lvbkNvbnRleHQgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmZ1bmN0aW9uIGhhbmRsZVgodGlsZUNvbGxpc2lvbkNvbnRleHQ6IFRpbGVDb2xsaXNpb25Db250ZXh0KXtcbiAgY29uc3QgeyBlbnRpdHksIG1hdGNoIH0gPSB0aWxlQ29sbGlzaW9uQ29udGV4dDtcbiAgaWYoZW50aXR5LnZlbC54ID4gMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5yaWdodCA+IG1hdGNoLngxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5SSUdIVCwgbWF0Y2gpO1xuICAgIH1cbiAgfWVsc2UgaWYoZW50aXR5LnZlbC54IDwgMCl7XG4gICAgaWYoZW50aXR5LmJvdW5kcy5sZWZ0IDwgbWF0Y2gueDIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLkxFRlQsIG1hdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlWSh0aWxlQ29sbGlzaW9uQ29udGV4dDogVGlsZUNvbGxpc2lvbkNvbnRleHQpe1xuICBjb25zdCB7IGVudGl0eSwgbWF0Y2ggfSA9IHRpbGVDb2xsaXNpb25Db250ZXh0O1xuICBpZihlbnRpdHkudmVsLnkgPiAwKXtcbiAgICBpZihlbnRpdHkuYm91bmRzLmJvdHRvbSA+IG1hdGNoLnkxKXtcbiAgICAgIGVudGl0eS5vYnN0cnVjdChTaWRlcy5CT1RUT00sIG1hdGNoKTtcbiAgICB9XG4gIH1lbHNlIGlmKGVudGl0eS52ZWwueSA8IDApe1xuICAgIGlmKGVudGl0eS5ib3VuZHMudG9wIDwgbWF0Y2gueTIpe1xuICAgICAgZW50aXR5Lm9ic3RydWN0KFNpZGVzLlRPUCwgbWF0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ3JvdW5kID0gWyBoYW5kbGVYLCBoYW5kbGVZIF07IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBMZXZlbCwgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG50eXBlIEVtaXR0ZXJDYWxsYmFjayA9IChlbnRpdHk6IEVudGl0eSwgbGV2ZWw6IExldmVsKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbWl0dGVyIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGNvb2xkb3duOiBudW1iZXIgPSAyO1xuICBwdWJsaWMgaW50ZXJ2YWw6IG51bWJlciA9IDI7XG4gIHB1YmxpYyBlbWl0dGVyczogRW1pdHRlckNhbGxiYWNrW10gPSBbXTtcblxuICBlbWl0KGVudGl0eTogRW50aXR5LCBsZXZlbDogTGV2ZWwpe1xuICAgIGZvcihjb25zdCBlbWl0dGVyIG9mIHRoaXMuZW1pdHRlcnMpe1xuICAgICAgZW1pdHRlcihlbnRpdHksIGxldmVsKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZHQsIGxldmVsIH0gPSBnYW1lQ29udGV4dDtcbiAgICB0aGlzLmNvb2xkb3duIC09IGR0O1xuICAgIGlmKHRoaXMuY29vbGRvd24gPCAwKXtcbiAgICAgIHRoaXMuZW1pdChlbnRpdHksIGxldmVsKTtcbiAgICAgIHRoaXMuY29vbGRvd24gPSB0aGlzLmludGVydmFsO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IEp1bXAgZnJvbSBcIi4vSnVtcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHbyBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGRpcjogbnVtYmVyO1xuICBwcml2YXRlIGFjY2VsZXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGRlY2VsZXJhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIGZyaWN0aW9uOiBudW1iZXI7XG4gIHB1YmxpYyBkaXN0YW5jZTogbnVtYmVyO1xuICBwdWJsaWMgaGVhZGluZzogbnVtYmVyO1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kaXIgPSAwO1xuICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gNDAwO1xuICAgIHRoaXMuZGVjZWxlcmF0aW9uID0gMzAwO1xuICAgIHRoaXMuZnJpY3Rpb24gPSAxLzUwMDA7XG4gICAgdGhpcy5kaXN0YW5jZSA9IDA7XG4gICAgdGhpcy5oZWFkaW5nID0gMTtcbiAgfVxuXG4gIHNldCBkcmFnKGZyaWN0aW9uOiBudW1iZXIpeyB0aGlzLmZyaWN0aW9uID0gZnJpY3Rpb247IH1cblxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCl7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgY29uc3QgYWJzWCA9IE1hdGguYWJzKGVudGl0eS52ZWwueCk7XG5cbiAgICBpZih0aGlzLmRpciAhPT0gMCl7XG4gICAgICBlbnRpdHkudmVsLnggKz0gdGhpcy5hY2NlbGVyYXRpb24gKiBkdCAqIHRoaXMuZGlyO1xuXG4gICAgICBjb25zdCBqdW1wID0gZW50aXR5LmdldFRyYWl0KCdqdW1wJyk7XG4gICAgICBpZihqdW1wKXtcbiAgICAgICAgaWYoanVtcCBpbnN0YW5jZW9mIEp1bXAgJiYgIWp1bXAuZmFsbGluZyl7XG4gICAgICAgICAgdGhpcy5oZWFkaW5nID0gdGhpcy5kaXI7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSB0aGlzLmRpcjtcbiAgICAgIH1cbiAgICB9ZWxzZSBpZihlbnRpdHkudmVsLnggIT09IDApe1xuICAgICAgY29uc3QgZGVjZWwgPSBNYXRoLm1pbihhYnNYLCB0aGlzLmRlY2VsZXJhdGlvbiAqIGR0KTtcbiAgICAgIGVudGl0eS52ZWwueCArPSBkZWNlbCAqIChlbnRpdHkudmVsLnggPiAwID8gLTEgOiAxKTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuZGlzdGFuY2UgPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IGRyYWcgPSB0aGlzLmZyaWN0aW9uICogZW50aXR5LnZlbC54ICogYWJzWDtcbiAgICBlbnRpdHkudmVsLnggLT0gZHJhZztcbiAgICBcbiAgICB0aGlzLmRpc3RhbmNlICs9IGFic1ggKiBkdDtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmF2aXR5IGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGdyYXZpdHk6IG51bWJlciA9IDE1MDA7XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBlbnRpdHkudmVsLnkgKz0gdGhpcy5ncmF2aXR5ICogZHQ7XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFNpZGVzLCBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmNvbnN0IFNQRUVEX0JPT1NUID0gMC4zO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKdW1wIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGR1cmF0aW9uOiBudW1iZXI7XG4gIHByaXZhdGUgdmVsb2NpdHk6IG51bWJlcjtcbiAgcHJpdmF0ZSBlbmdhZ2VUaW1lOiBudW1iZXI7XG4gIHByaXZhdGUgcmVhZHk6IG51bWJlcjtcblxuICBwcml2YXRlIGdyYWNlVGltZTogbnVtYmVyO1xuICBwcml2YXRlIGdyYWNlRHVyYXRpb246IG51bWJlcjtcbiAgY29uc3RydWN0b3IoKXtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZHVyYXRpb24gPSAwLjM7XG4gICAgdGhpcy52ZWxvY2l0eSA9IDIwMDtcbiAgICB0aGlzLmVuZ2FnZVRpbWUgPSAwO1xuICAgIHRoaXMucmVhZHkgPSAwO1xuXG4gICAgdGhpcy5ncmFjZVRpbWUgPSAwO1xuICAgIHRoaXMuZ3JhY2VEdXJhdGlvbiA9IDAuMTtcbiAgfVxuICBwdWJsaWMgZ2V0IGZhbGxpbmcoKSA6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5yZWFkeSA8IDA7IH1cbiAgc3RhcnQoKXtcbiAgICB0aGlzLmdyYWNlVGltZSA9IHRoaXMuZ3JhY2VEdXJhdGlvbjtcbiAgfVxuICBjYW5jZWwoKXtcbiAgICB0aGlzLmVuZ2FnZVRpbWUgPSAwO1xuICAgIHRoaXMuZ3JhY2VUaW1lID0gMDtcbiAgfVxuICBvYnN0cnVjdChlbnRpdHk6IEVudGl0eSwgc2lkZTogU2lkZXMpe1xuICAgIGlmKHNpZGUgPT09IFNpZGVzLkJPVFRPTSkgdGhpcy5yZWFkeSA9IDE7XG4gICAgaWYoc2lkZSA9PT0gU2lkZXMuVE9QKSB0aGlzLmNhbmNlbCgpO1xuICB9XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KXtcbiAgICBjb25zdCB7IGR0IH0gPSBnYW1lQ29udGV4dDtcbiAgICBcbiAgICBpZih0aGlzLmdyYWNlVGltZSA+IDApe1xuICAgICAgaWYodGhpcy5yZWFkeSA+IDApe1xuICAgICAgICBlbnRpdHkuc291bmRzLmFkZCgnanVtcCcpO1xuICAgICAgICB0aGlzLmVuZ2FnZVRpbWUgPSB0aGlzLmR1cmF0aW9uO1xuICAgICAgICB0aGlzLmdyYWNlVGltZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ3JhY2VUaW1lIC09IGR0O1xuICAgIH1cblxuICAgIGlmKHRoaXMuZW5nYWdlVGltZSA+IDApe1xuICAgICAgZW50aXR5LnZlbC55ID0gLSh0aGlzLnZlbG9jaXR5ICsgTWF0aC5hYnMoZW50aXR5LnZlbC54KSAqIFNQRUVEX0JPT1NUKTtcbiAgICAgIHRoaXMuZW5nYWdlVGltZSAtPSBkdDtcbiAgICB9XG5cbiAgICB0aGlzLnJlYWR5LS07XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2lsbGFibGUgZXh0ZW5kcyBUcmFpdCB7XG4gIHB1YmxpYyBkZWFkOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyByZW1vdmVBZnRlcjogbnVtYmVyID0gMjtcbiAgcHJpdmF0ZSBkZWFkVGltZTogbnVtYmVyID0gMDtcblxuICBraWxsKCl7XG4gICAgdGhpcy5xdWV1ZSgoKSA9PiB0aGlzLmRlYWQgPSB0cnVlKTtcbiAgfVxuXG4gIHJldml2ZSgpe1xuICAgIHRoaXMuZGVhZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVhZFRpbWUgPSAwO1xuICB9XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0LCBsZXZlbCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBpZih0aGlzLmRlYWQpe1xuICAgICAgdGhpcy5kZWFkVGltZSArPSBkdDtcbiAgICAgIGlmKHRoaXMuZGVhZFRpbWUgPiB0aGlzLnJlbW92ZUFmdGVyKXtcbiAgICAgICAgdGhpcy5xdWV1ZSgoKSA9PiBsZXZlbC5lbnRpdGllcy5kZWxldGUoZW50aXR5KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCB7IEdhbWVDb250ZXh0IH0gZnJvbSBcIi4uL0xldmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsVGltZXIgZXh0ZW5kcyBUcmFpdCB7XG4gIHN0YXRpYyBUSU1FUl9IVVJSWSA9IFN5bWJvbCgndGltZXIuaHVycnknKTtcbiAgc3RhdGljIFRJTUVSX09LQVkgPSBTeW1ib2woJ3RpbWVyLm9rYXknKTtcblxuICBwcml2YXRlIHRvdGFsVGltZTogbnVtYmVyID0gMzAwO1xuICBwdWJsaWMgY3VycmVudFRpbWU6IG51bWJlciA9IHRoaXMudG90YWxUaW1lO1xuICBwcml2YXRlIGh1cnJ5VGltZTogbnVtYmVyID0gMTAwO1xuICBwcml2YXRlIGh1cnJ5RW1pdHRlZDogYm9vbGVhbiA9IG51bGw7XG5cbiAgdXBkYXRlKGVudGl0eTogRW50aXR5LCBnYW1lQ29udGV4dDogR2FtZUNvbnRleHQpOiB2b2lkIHtcbiAgICBjb25zdCB7IGR0LCBsZXZlbCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgdGhpcy5jdXJyZW50VGltZSAtPSBkdCAqIDI7XG4gICAgaWYodGhpcy5odXJyeUVtaXR0ZWQgIT09IHRydWUgJiYgdGhpcy5jdXJyZW50VGltZSA8IHRoaXMuaHVycnlUaW1lKXtcbiAgICAgIGxldmVsLmV2ZW50cy5lbWl0KExldmVsVGltZXIuVElNRVJfSFVSUlkpO1xuICAgICAgdGhpcy5odXJyeUVtaXR0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZih0aGlzLmh1cnJ5RW1pdHRlZCAhPT0gZmFsc2UgJiYgdGhpcy5jdXJyZW50VGltZSA+IHRoaXMuaHVycnlUaW1lKXtcbiAgICAgIGxldmVsLmV2ZW50cy5lbWl0KExldmVsVGltZXIuVElNRVJfT0tBWSk7XG4gICAgICB0aGlzLmh1cnJ5RW1pdHRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgU2lkZXMsIFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGVuZHVsdW1XYWxrIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgZW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XG4gIHB1YmxpYyBzcGVlZDogbnVtYmVyID0gLTMwO1xuICBvYnN0cnVjdChlbnRpdHk6IEVudGl0eSwgc2lkZTogU2lkZXMpOiB2b2lkIHtcbiAgICBpZihzaWRlID09PSBTaWRlcy5MRUZUIHx8IHNpZGUgPT09IFNpZGVzLlJJR0hUKVxuICAgICAgdGhpcy5zcGVlZCAqPSAtMTtcbiAgfVxuICB1cGRhdGUoZW50aXR5OiBFbnRpdHksIGdhbWVDb250ZXh0OiBHYW1lQ29udGV4dCk6IHZvaWQge1xuICAgIGlmKHRoaXMuZW5hYmxlZCkgZW50aXR5LnZlbC54ID0gdGhpcy5zcGVlZDtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaHlzaWNzIGV4dGVuZHMgVHJhaXQge1xuICBwcml2YXRlIGdyYXZpdHk6IG51bWJlciA9IDE1MDA7XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBsZXZlbCwgZHQgfSA9IGdhbWVDb250ZXh0O1xuXG4gICAgZW50aXR5LnBvcy54ICs9IGVudGl0eS52ZWwueCAqIGR0O1xuICAgIGxldmVsLnRpbGVDb2xsaWRlci5jaGVja1goZW50aXR5LCBnYW1lQ29udGV4dCk7XG5cbiAgICBlbnRpdHkucG9zLnkgKz0gZW50aXR5LnZlbC55ICogZHQ7XG4gICAgbGV2ZWwudGlsZUNvbGxpZGVyLmNoZWNrWShlbnRpdHksIGdhbWVDb250ZXh0KTtcblxuICAgIGVudGl0eS52ZWwueSArPSB0aGlzLmdyYXZpdHkgKiBkdDtcbiAgfVxufSIsImltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgU3RvbXBlciBmcm9tIFwiLi9TdG9tcGVyXCI7XG5cbmNvbnN0IENPSU5fTElGRV9USFJFU0hPTEQgPSAxMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIG5hbWU6IHN0cmluZyA9ICdOL0EnO1xuICBwdWJsaWMgY29pbnM6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBsaXZlczogbnVtYmVyID0gMztcbiAgcHVibGljIHNjb3JlOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMubGlzdGVuKFN0b21wZXIuU1RPTVAsICgpID0+IHtcbiAgICAgIHRoaXMuc2NvcmUgKz0gMTAwO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkQ29pbnMoY291bnQ6IG51bWJlcil7XG4gICAgdGhpcy5jb2lucyArPSBjb3VudDtcbiAgICB0aGlzLnF1ZXVlKChlbnRpdHk6IEVudGl0eSkgPT4gZW50aXR5LnNvdW5kcy5hZGQoJ2NvaW4nKSk7XG4gICAgaWYodGhpcy5jb2lucyA+PSBDT0lOX0xJRkVfVEhSRVNIT0xEKXtcbiAgICAgIHRoaXMuYWRkTGl2ZXMoTWF0aC5mbG9vcih0aGlzLmNvaW5zIC8gQ09JTl9MSUZFX1RIUkVTSE9MRCkpXG4gICAgICB0aGlzLmNvaW5zID0gdGhpcy5jb2lucyAlIENPSU5fTElGRV9USFJFU0hPTEQ7XG4gICAgfVxuICB9XG5cbiAgYWRkTGl2ZXMoY291bnQ6IG51bWJlcil7XG4gICAgdGhpcy5saXZlcyArPSBjb3VudDtcbiAgfVxufSIsImltcG9ydCBNYXJpbyBmcm9tIFwiLi4vZW50aXRpZXMvTWFyaW9cIjtcbmltcG9ydCBFbnRpdHksIHsgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lQ29udGV4dCB9IGZyb20gXCIuLi9MZXZlbFwiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4uL21hdGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyQ29udHJvbGxlciBleHRlbmRzIFRyYWl0IHtcbiAgcHVibGljIGNoZWNrcG9pbnQ6IFZlY3RvciA9IG5ldyBWZWN0b3IoKTtcbiAgcHVibGljIHBsYXllcjogTWFyaW8gPSBudWxsO1xuXG4gIHNldFBsYXllcihwbGF5ZXI6IE1hcmlvKXtcbiAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcbiAgfVxuXG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBsZXZlbCB9ID0gZ2FtZUNvbnRleHQ7XG5cbiAgICBpZih0aGlzLnBsYXllciAmJiAhbGV2ZWwuZW50aXRpZXMuaGFzKHRoaXMucGxheWVyKSl7XG4gICAgICB0aGlzLnBsYXllci5raWxsYWJsZS5yZXZpdmUoKTtcbiAgICAgIHRoaXMucGxheWVyLnBvcy5zZXQodGhpcy5jaGVja3BvaW50LngsIHRoaXMuY2hlY2twb2ludC55KTtcbiAgICAgIGxldmVsLmVudGl0aWVzLmFkZCh0aGlzLnBsYXllcik7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBTaWRlcywgVHJhaXQgfSBmcm9tIFwiLi4vRW50aXR5XCI7XG5pbXBvcnQgeyBSZXNvbHZlZFRpbGUgfSBmcm9tIFwiLi4vVGlsZUNvbGxpZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvbGlkIGV4dGVuZHMgVHJhaXQge1xuICBwdWJsaWMgb2JzdHJ1Y3RzOiBib29sZWFuID0gdHJ1ZTtcbiAgb2JzdHJ1Y3QoZW50aXR5OiBFbnRpdHksIHNpZGU6IFNpZGVzLCBtYXRjaDogUmVzb2x2ZWRUaWxlKXtcbiAgICBpZighdGhpcy5vYnN0cnVjdHMpIHJldHVybjtcbiAgICBzd2l0Y2goc2lkZSl7XG4gICAgICBjYXNlIFNpZGVzLlJJR0hUOiB7XG4gICAgICAgIGVudGl0eS5ib3VuZHMubGVmdCA9IG1hdGNoLngxIC0gZW50aXR5LnNpemUueDtcbiAgICAgICAgZW50aXR5LnZlbC54ID0gMDtcbiAgICAgIH0gYnJlYWs7XG4gICAgICBjYXNlIFNpZGVzLkxFRlQ6IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy5sZWZ0ID0gbWF0Y2gueDI7XG4gICAgICAgIGVudGl0eS52ZWwueCA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5CT1RUT006IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AgPSBtYXRjaC55MSAtIGVudGl0eS5zaXplLnk7XG4gICAgICAgIGVudGl0eS52ZWwueSA9IDA7XG4gICAgICB9IGJyZWFrO1xuICAgICAgY2FzZSBTaWRlcy5UT1A6IHtcbiAgICAgICAgZW50aXR5LmJvdW5kcy50b3AgPSBtYXRjaC55MjtcbiAgICAgICAgZW50aXR5LnZlbC55ID0gMDtcbiAgICAgIH0gYnJlYWs7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IEVudGl0eSwgeyBUcmFpdCB9IGZyb20gXCIuLi9FbnRpdHlcIjtcbmltcG9ydCBLaWxsYWJsZSBmcm9tIFwiLi9LaWxsYWJsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9tcGVyIGV4dGVuZHMgVHJhaXQge1xuICBzdGF0aWMgU1RPTVAgPSBTeW1ib2woJ3N0b21wJyk7XG4gIHByaXZhdGUgYm91bmRTcGVlZDogbnVtYmVyID0gNDAwO1xuICBcbiAgcHJpdmF0ZSBib3VuY2UodXM6IEVudGl0eSwgdGhlbTogRW50aXR5KXtcbiAgICB1cy5ib3VuZHMuYm90dG9tID0gdGhlbS5ib3VuZHMudG9wO1xuICAgIHVzLnZlbC55ID0gLXRoaXMuYm91bmRTcGVlZFxuICB9XG5cbiAgY29sbGlkZXModXM6IEVudGl0eSwgdGhlbTogRW50aXR5KTogdm9pZCB7XG4gICAgY29uc3Qga2lsbGFibGUgPSB0aGVtLmdldFRyYWl0KCdraWxsYWJsZScpO1xuICAgIGlmKCFraWxsYWJsZSB8fCAhKGtpbGxhYmxlIGluc3RhbmNlb2YgS2lsbGFibGUpIHx8IGtpbGxhYmxlLmRlYWQpIHJldHVybjtcbiAgICBcbiAgICBpZih1cy52ZWwueSA+IHRoZW0udmVsLnkpe1xuICAgICAgdGhpcy5xdWV1ZSgoKSA9PiB0aGlzLmJvdW5jZSh1cywgdGhlbSkpO1xuICAgICAgdXMuc291bmRzLmFkZCgnc3RvbXAnKTtcbiAgICAgIHVzLmV2ZW50cy5lbWl0KFN0b21wZXIuU1RPTVAsIHVzLCB0aGVtKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgRW50aXR5LCB7IFRyYWl0IH0gZnJvbSBcIi4uL0VudGl0eVwiO1xuaW1wb3J0IHsgR2FtZUNvbnRleHQgfSBmcm9tIFwiLi4vTGV2ZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVsb2NpdHkgZXh0ZW5kcyBUcmFpdCB7XG4gIHVwZGF0ZShlbnRpdHk6IEVudGl0eSwgZ2FtZUNvbnRleHQ6IEdhbWVDb250ZXh0KTogdm9pZCB7XG4gICAgY29uc3QgeyBkdCB9ID0gZ2FtZUNvbnRleHQ7XG4gICAgZW50aXR5LnBvcy54ICs9IGVudGl0eS52ZWwueCAqIGR0O1xuICAgIGVudGl0eS5wb3MueSArPSBlbnRpdHkudmVsLnkgKiBkdDtcbiAgfVxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IFRpbWVyIGZyb20gJy4vVGltZXInO1xuaW1wb3J0IHsgc2V0dXBLZXlib2FyZCB9IGZyb20gJy4vaW5wdXQnO1xuaW1wb3J0IENhbWVyYSBmcm9tICcuL0NhbWVyYSc7XG5pbXBvcnQgeyBjcmVhdGVMZXZlbExvYWRlciB9IGZyb20gJy4vbG9hZGVycy9sZXZlbCc7XG5pbXBvcnQgeyBsb2FkRW50aXRpZXMgfSBmcm9tICcuL2VudGl0aWVzJztcbmltcG9ydCB7IGNyZWF0ZUNvbGxpc2lvbkxheWVyIH0gZnJvbSAnLi9sYXllcnMvY29sbGlzaW9uJztcbmltcG9ydCB7IGxvYWRGb250IH0gZnJvbSAnLi9sb2FkZXJzL2ZvbnQnO1xuaW1wb3J0IHsgY3JlYXRlRGFzaGJvYXJkTGF5ZXIgfSBmcm9tICcuL2xheWVycy9kYXNoYm9hcmQnO1xuaW1wb3J0IHsgY3JlYXRlUGxheWVyRW52IH0gZnJvbSAnLi9wbGF5ZXInO1xuXG5hc3luYyBmdW5jdGlvbiBtYWluKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpe1xuICBjb25zdCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG4gIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcblxuICBjb25zdCBbZW50aXR5RmFjdG9yeSwgZm9udF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgbG9hZEVudGl0aWVzKGF1ZGlvQ29udGV4dCksXG4gICAgbG9hZEZvbnQoKSxcbiAgXSk7XG5cbiAgY29uc3QgbG9hZExldmVsID0gYXdhaXQgY3JlYXRlTGV2ZWxMb2FkZXIoZW50aXR5RmFjdG9yeSk7XG4gIC8vIGNvbnN0IGxldmVsID0gYXdhaXQgbG9hZExldmVsKCcxLTEnKTtcbiAgY29uc3QgbGV2ZWwgPSBhd2FpdCBsb2FkTGV2ZWwoJ2RlYnVnLWNvaW4nKTtcbiAgXG4gIGNvbnN0IGNhbWVyYSA9IG5ldyBDYW1lcmEoKTtcbiAgXG4gIGNvbnN0IG1hcmlvID0gZW50aXR5RmFjdG9yeS5tYXJpbygpO1xuICBtYXJpby5wbGF5ZXIubmFtZSA9ICdNQVJJTyc7XG4gIGxldmVsLmVudGl0aWVzLmFkZChtYXJpbyk7XG5cbiAgY29uc3QgcGxheWVyRW52ID0gY3JlYXRlUGxheWVyRW52KG1hcmlvKTtcbiAgbGV2ZWwuZW50aXRpZXMuYWRkKHBsYXllckVudik7XG5cbiAgbGV2ZWwuY29tcC5hZGQoY3JlYXRlQ29sbGlzaW9uTGF5ZXIobGV2ZWwpKTtcbiAgbGV2ZWwuY29tcC5hZGQoY3JlYXRlRGFzaGJvYXJkTGF5ZXIoZm9udCwgbGV2ZWwpKTtcblxuICBjb25zdCBpbnB1dCA9IHNldHVwS2V5Ym9hcmQobWFyaW8pO1xuICBpbnB1dC5saXN0ZW5Ubyh3aW5kb3cpO1xuXG4gIGNvbnN0IHRpbWVyID0gbmV3IFRpbWVyKCk7XG5cbiAgdGltZXIudXBkYXRlID0gKGR0KSA9PiB7XG4gICAgbGV2ZWwudXBkYXRlKGR0LCBhdWRpb0NvbnRleHQsIGVudGl0eUZhY3RvcnkpO1xuXG4gICAgY2FtZXJhLnBvcy54ID0gTWF0aC5tYXgoMCwgbWFyaW8ucG9zLnggLSAxMDApO1xuXG4gICAgbGV2ZWwuY29tcC5kcmF3KGN0eCwgY2FtZXJhKTtcbiAgfVxuXG4gIHRpbWVyLnN0YXJ0KCk7XG59XG5cbmNvbnN0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMjc2NyZWVuJyk7XG5cbmNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGFydCk7XG4gIG1haW4oY2FudmFzKTtcbn1cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0YXJ0KTtcbiJdLCJuYW1lcyI6WyJBdWRpb0JvYXJkIiwiYnVmZmVycyIsIk1hcCIsImFkZCIsIm5hbWUiLCJidWZmZXIiLCJ0aGlzIiwic2V0IiwicGxheSIsImNvbnRleHQiLCJnZXQiLCJzb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJzdGFydCIsIkJvdW5kaW5nQm94IiwiY29uc3RydWN0b3IiLCJwb3MiLCJzaXplIiwib2Zmc2V0Iiwib3ZlcmxhcHMiLCJib3giLCJib3R0b20iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJ5IiwieCIsIkNhbWVyYSIsIlZlY3RvciIsIkNvbXBvc2l0b3IiLCJsYXllcnMiLCJsYXllciIsInB1c2giLCJkcmF3IiwiY3R4IiwiY2FtZXJhIiwiZm9yRWFjaCIsIlNpZGVzIiwiVHJhaXQiLCJsaXN0ZW5lcnMiLCJjb2xsaWRlcyIsInVzIiwidGhlbSIsImZpbmFsaXplIiwiZW50aXR5IiwiZmlsdGVyIiwibGlzdGVuZXIiLCJldmVudHMiLCJwcm9jZXNzIiwiY2FsbGJhY2siLCJjb3VudCIsImxpc3RlbiIsIkluZmluaXR5Iiwib2JzdHJ1Y3QiLCJzaWRlIiwibWF0Y2giLCJxdWV1ZSIsInRhc2siLCJUQVNLIiwidXBkYXRlIiwiZ2FtZUNvbnRleHQiLCJTeW1ib2wiLCJFbnRpdHkiLCJhdWRpb0JvYXJkIiwic291bmRzIiwiU2V0IiwidmVsIiwibGlmZXRpbWUiLCJ0cmFpdHMiLCJib3VuZHMiLCJhZGRUcmFpdCIsInRyYWl0IiwiY2FuZGlkYXRlIiwiZW1pdCIsImNsZWFyIiwiZ2V0VHJhaXQiLCJwbGF5U291bmRzIiwiYXVkaW9Db250ZXh0IiwiZHQiLCJFbnRpdHlDb2xsaWRlciIsImVudGl0aWVzIiwiY2hlY2siLCJzdWJqZWN0IiwiRXZlbnRCdWZmZXIiLCJsZW5ndGgiLCJhcmdzIiwiZXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJjYWxsYmFja3MiLCJLZXlTdGF0ZSIsIktleWJvYXJkU3RhdGUiLCJrZXlTdGF0ZXMiLCJrZXlNYXAiLCJhZGRNYXBwaW5nIiwiY29kZSIsImhhbmRsZUV2ZW50IiwidHlwZSIsImhhcyIsInByZXZlbnREZWZhdWx0Iiwia2V5U3RhdGUiLCJQUkVTU0VEIiwiUkVMRUFTRUQiLCJsaXN0ZW5UbyIsIndpbmRvdyIsImV2ZW50TmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJMZXZlbCIsIm11c2ljIiwiY29tcCIsInRpbGVDb2xsaWRlciIsImVudGl0eUNvbGxpZGVyIiwidGltZSIsImVudGl0eUZhY3RvcnkiLCJsZXZlbCIsIk11c2ljQ29udHJvbGxlciIsIm11c2ljUGxheWVyIiwic2V0UGxheWVyIiwicGxheWVyIiwicGxheVRoZW1lIiwic3BlZWQiLCJwbGF5YmFja1JhdGUiLCJwbGF5SHVycnlUaGVtZSIsImF1ZGlvIiwibG9vcCIsIm9uZW5kZWQiLCJNdXNpY1BsYXllciIsInRyYWNrcyIsImFkZFRyYWNrIiwidHJhY2siLCJBdWRpbyIsInZhbHVlcyIsInBhdXNlIiwiU3ByaXRlU2hlZXQiLCJpbWFnZSIsIndpZHRoIiwiaGVpZ2h0IiwiZnJhbWVzIiwiYW5pbWF0aW9ucyIsImdldEFuaW1hdGlvbiIsImRlZmluZUFuaW0iLCJhbmltYXRpb24iLCJkZWZpbmUiLCJtYXAiLCJmbGlwIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0Q29udGV4dCIsImNhbnZhcyIsInNldEF0dHJpYnV0ZSIsInNjYWxlIiwidHJhbnNsYXRlIiwiZHJhd0ltYWdlIiwiZGVmaW5lVGlsZSIsImZyYW1lIiwiY29uc29sZSIsIndhcm4iLCJkcmF3QW5pbSIsImRpc3RhbmNlIiwiZHJhd1RpbGUiLCJoYW5kbGVycyIsImJyaWNrIiwiZ3JvdW5kIiwiY29pbiIsIlRpbGVSZXNvbHZlciIsIm1hdHJpeCIsInRpbGVTaXplIiwidG9JbmRleCIsIk1hdGgiLCJmbG9vciIsInRvSW5kZXhSYW5nZSIsInBvczEiLCJwb3MyIiwicE1heCIsImNlaWwiLCJyYW5nZSIsImdldEJ5SW5kZXgiLCJ0aWxlIiwieDEiLCJ4MiIsInkxIiwieTIiLCJpbmRleFgiLCJpbmRleFkiLCJzZWFyY2hCeVBvc2l0aW9uIiwic2VhcmNoQnlSYW5nZSIsIm1hdGNoZXMiLCJUaWxlQ29sbGlkZXIiLCJyZXNvbHZlcnMiLCJhZGRHcmlkIiwidGlsZU1hdHJpeCIsImNoZWNrWCIsInJlc29sdmVyIiwiaGFuZGxlIiwiY2hlY2tZIiwiaW5kZXgiLCJ0aWxlQ29sbGlzaW9uQ29udGV4dCIsImhhbmRsZXIiLCJUaW1lciIsImRlbHRhVGltZSIsInJ1bm5pbmciLCJhY2N1bXVsYXRlZFRpbWUiLCJsYXN0VGltZSIsInVwZGF0ZVByb3h5IiwiZW5xdWV1ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNyZWF0ZUFuaW0iLCJmcmFtZUxlbiIsImxvYWRFbnRpdGllcyIsImFkZEFzIiwiZmFjdG9yeSIsIlByb21pc2UiLCJhbGwiLCJsb2FkTWFyaW8iLCJ0aGVuIiwibG9hZEdvb21iYSIsImxvYWRLb29wYSIsImxvYWRCdWxsZXQiLCJsb2FkQ2Fubm9uIiwiQmVoYXZpb3IiLCJncmF2aXR5Iiwic3RvbXBlciIsIkJ1bGxldCIsImtpbGxhYmxlIiwiZGVhZCIsImtpbGwiLCJzdXBlciIsInZlbG9jaXR5IiwiYmVoYXZpb3IiLCJsb2FkU3ByaXRlU2hlZXQiLCJjcmVhdGVCdWxsZXRGYWN0b3J5Iiwic3ByaXRlcyIsImRyYXdCdWxsZXQiLCJidWxsZXQiLCJDYW5ub24iLCJlbWl0dGVyIiwibG9hZEF1ZGlvQm9hcmQiLCJlbWl0QnVsbGV0IiwiZGlyIiwiZmluZFBsYXllcnMiLCJhYnMiLCJjb3B5Iiwic2lnbiIsImNhbm5vbiIsImludGVydmFsIiwiZW1pdHRlcnMiLCJjcmVhdGVDYW5ub25GYWN0b3J5IiwiR29vbWJhIiwicGVuZHVsdW1Nb3ZlIiwicGh5c2ljcyIsInNvbGlkIiwiY3JlYXRlR29vbWJhRmFjdG9yeSIsIndhbGtBbmltIiwiZHJhd0dvb21iYSIsImdvb21iYSIsIktvb3BhU3RhdGUiLCJzdGF0ZSIsIldBTEtJTkciLCJoaWRlVGltZSIsImhpZGVEdXJhdGlvbiIsInBhbmljU3BlZWQiLCJ3YWxrU3BlZWQiLCJLb29wYSIsImhhbmRsZVN0b21wIiwiaGFuZGxlTnVkZ2UiLCJISURJTkciLCJwYW5pYyIsIlBBTklDIiwidHJhdmVsRGlyIiwiaW1wYWN0RGlyIiwiaGlkZSIsIm9ic3RydWN0cyIsImVuYWJsZWQiLCJ1bmhpZGUiLCJjcmVhdGVLb29wYUZhY3RvcnkiLCJ3YWtlQW5pbSIsImRyYXdLb29wYSIsImtvb3BhIiwicm91dGVBbmltIiwiTWFyaW8iLCJnbyIsImp1bXAiLCJkcmFnIiwidHVyYm8iLCJydW5BbmltIiwicm91dGVGcmFtZSIsIm1hcmlvIiwiZmFsbGluZyIsImRyYXdNYXJpbyIsImhlYWRpbmciLCJyZW1vdmVBZnRlciIsImNyZWF0ZU1hcmlvRmFjdG9yeSIsInNldHVwS2V5Ym9hcmQiLCJpbnB1dCIsImNhbmNlbCIsImNyZWF0ZUJhY2tncm91bmRMYXllciIsInRpbGVzIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwic2NyZWVuIiwiZHJhd1dpZHRoIiwiZHJhd0Zyb20iLCJkcmF3VG8iLCJjbGVhclJlY3QiLCJjb2wiLCJncmlkIiwicmVkcmF3IiwiY3JlYXRlVGlsZUNhbmRpZGF0ZUxheWVyIiwidGlsZVJlc29sdmVyIiwicmVzb2x2ZWRUaWxlcyIsImdldEJ5SW5kZXhPcmlnaW5hbCIsImNhbGwiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsInJlY3QiLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJjcmVhdGVDb2xsaXNpb25MYXllciIsImRyYXdUaWxlQ2FuZGlkYXRlcyIsImRyYXdCb3VuZGluZ0JveGVzIiwiY3JlYXRlRGFzaGJvYXJkTGF5ZXIiLCJmb250IiwiTElORTEiLCJMSU5FMiIsImdldFBsYXllclRyYWl0IiwidGltZXIiLCJnZXRUaW1lclRyYWl0Iiwic2NvcmUiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiY29pbnMiLCJtYXgiLCJjdXJyZW50VGltZSIsInRvRml4ZWQiLCJjcmVhdGVTcHJpdGVMYXllciIsInNwcml0ZUN0eCIsImxvYWRJbWFnZSIsInBhdGgiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwic3JjIiwibG9hZEpTT04iLCJmZXRjaCIsInJlcyIsImpzb24iLCJsb2FkQXVkaW8iLCJjcmVhdGVBdWRpb0xvYWRlciIsImF1ZGlvU2hlZXQiLCJqb2JzIiwiZngiLCJ1cmwiLCJyZXNwb25zZSIsImFycmF5QnVmZmVyIiwiZGVjb2RlQXVkaW9EYXRhIiwiTEVUVEVSUyIsIkZvbnRTaGVldCIsInNoZWV0IiwidGV4dCIsIm9mZnNldFgiLCJvZmZzZXRZIiwibG9hZEZvbnQiLCJpIiwic2V0dXBCZWhhdmlvciIsImNyZWF0ZVRpbWVyIiwic2V0dXBCYWNrZ3JvdW5kcyIsImxldmVsU3BlYyIsInBhdHRlcm5zIiwiTWF0cml4Iiwid2Fsa1RpbGVzIiwiZXhwYW5kUmFuZ2VzIiwicmFuZ2VzIiwiZGVyaXZlZFgiLCJkZXJpdmVkWSIsInBhdHRlcm4iLCJleHBhbmRUaWxlcyIsImNyZWF0ZUdyaWQiLCJiYWNrZ3JvdW5kTGF5ZXIiLCJjcmVhdGVMZXZlbExvYWRlciIsInNwcml0ZVNoZWV0IiwibG9hZE11c2ljU2hlZXQiLCJtdXNpY1NoZWV0IiwiY3JlYXRlRW50aXR5Iiwic3ByaXRlTGF5ZXIiLCJzZXR1cEVudGl0aWVzIiwiZXhwYW5kU3BhbiIsInhTdGFydCIsInhMZW4iLCJ5U3RhcnQiLCJ5TGVuIiwieEVuZCIsInlFbmQiLCJleHBhbmRSYW5nZSIsIk9iamVjdCIsImVudHJpZXMiLCJzaGVldFNwZWMiLCJpbWFnZVVSTCIsInRpbGVXIiwidGlsZUgiLCJ0aWxlU3BlYyIsImRlbGV0ZSIsInZhbHVlIiwiY29sdW1ucyIsImNyZWF0ZVBsYXllckVudiIsImVudiIsImNvbnRyb2xsZXIiLCJjaGVja3BvaW50IiwiYWRkQ29pbnMiLCJFbWl0dGVyIiwiY29vbGRvd24iLCJHbyIsImFjY2VsZXJhdGlvbiIsImRlY2VsZXJhdGlvbiIsImZyaWN0aW9uIiwiYWJzWCIsImRlY2VsIiwibWluIiwiR3Jhdml0eSIsIkp1bXAiLCJkdXJhdGlvbiIsImVuZ2FnZVRpbWUiLCJyZWFkeSIsImdyYWNlVGltZSIsImdyYWNlRHVyYXRpb24iLCJLaWxsYWJsZSIsImRlYWRUaW1lIiwicmV2aXZlIiwiTGV2ZWxUaW1lciIsInRvdGFsVGltZSIsImh1cnJ5VGltZSIsImh1cnJ5RW1pdHRlZCIsIlRJTUVSX0hVUlJZIiwiVElNRVJfT0tBWSIsIlBlbmR1bHVtV2FsayIsIlBoeXNpY3MiLCJQbGF5ZXIiLCJsaXZlcyIsImFkZExpdmVzIiwiUGxheWVyQ29udHJvbGxlciIsIlNvbGlkIiwiU3RvbXBlciIsImJvdW5kU3BlZWQiLCJib3VuY2UiLCJTVE9NUCIsIlZlbG9jaXR5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJyIiwidG9TdHJpbmdUYWciLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkF1ZGlvQ29udGV4dCIsImxvYWRMZXZlbCIsInBsYXllckVudiIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9